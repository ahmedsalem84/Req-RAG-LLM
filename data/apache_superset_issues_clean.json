[
  "Requirement ID: ISSUE-35672\nTitle: Duckdb Engine doesn't work on Superset 5\nState: open\nAuthor: m-fariz-a\nLabels: data:connect:duckdb\nBody:\n### Bug description\n\nDuckdb engine doesn't work anymore on Superset 5\n\n```Dockerfile\nFROM docker.io/apache/superset:5.0.0-dev\n\nUSER root\n\n# install python package for connection\nRUN pip install --no-cache-dir \\\n    duckdb \\\n    duckdb-engine\n\nUSER superset\n```\n\n\n\n### Screenshots/recordings\n\nThis is how duckdb appear in Superset 4.1.4\n\n<img width=\"1917\" height=\"930\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/1bae73ac-6f21-4f63-a25d-00f05f8cfe9a\" />\n\n<img width=\"1917\" height=\"930\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/34bd61de-ac5a-46ab-ad55-cb2fa6232927\" />\n\n\nDuckdb optino doesn't appear in supported database\n\n<img width=\"1917\" height=\"930\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/e2aa6afa-26ac-4359-947f-87b81de1c61b\" />\n\nThis is the error when try connecting using uri\n\n<img width=\"1917\" height=\"930\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/8abe2b07-adae-4cb1-ac14-2b35ec4d7f50\" />\n\n### Superset version\n\n5.0.0\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [ ] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35671\nTitle: [6.0.0rc2][BUG] \ud83d\udc1b Dashboard view showing error related to reading filter\nState: open\nAuthor: othoquara\nLabels: \nBody:\n### Bug description\n\nHi,\nWe have users with only the sqllab role, and it appears that when they log in, they are redirected to the main page superset/welcome/. On the main page, we're encountering a JavaScript issue with undefined properties.\n\n### Screenshots/recordings\n\n<img width=\"1913\" height=\"901\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/49258b90-0d4b-43cb-a130-6af1885c1cb6\" />\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\nI don't know\n\n### Node version\n\nI don't know\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35669\nTitle: fix(dataset): render default URL description properly in settings\nState: open\nAuthor: betodealmeida\nLabels: size/S\nBody:\nThe default URL field description was displaying escaped HTML tags as plain text instead of rendering them. Replaced HTML string with proper React JSX using `Typography.Text` component to display the example URL path in code format.\r\n\r\n\ud83e\udd16 Generated with [Claude Code](https://claude.com/claude-code)\r\n\r\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35668\nTitle: Performance Issue: Browser becomes unresponsive ('Page Unresponsive') when adding roles\nState: open\nAuthor: subinjp\nLabels: \nBody:\n### Bug description\n\n\n\nWhen attempting to add or edit a role, clicking the \"Permissions\" dropdown causes the browser page to freeze completely and eventually show a \"Page Unresponsive\" dialog. This occurs in an environment with a very large number of permissions (due to many connected schemas and tables). The page for listing roles is fast (after applying a separate fix), but adding/editing is unusable.\n\nExpected results\nThe permissions dropdown should open in a reasonable amount of time, allowing the user to search for and select permissions without freezing the browser.\n\nActual results\nThe browser's main thread locks up, the UI becomes completely unresponsive, and a \"Page Unresponsive\" error is displayed.\n\n<img width=\"1146\" height=\"519\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/c2a942f0-d9f5-4367-85dc-e8af3240d257\" />\n\nHow to reproduce the bug\nGo to an instance of Superset with a large number of permissions (e.g., thousands of table permissions).\n\nNavigate to \"Settings\" -> \"List Roles\".\n\nClick the + ROLE button to add a new role.\n\nClick on the \"Select Value\" input field for \"Permissions\".\n\nObserve that the browser tab freezes.\n\nEnvironment\nBrowser version: (e.g., Chrome Version 128.0.6613.84)\n\nSuperset version: 3.0.0\n\nDeployment: Custom Docker image deployed on AWS EKS. Backend database is Aurora PostgreSQL.\n\n\nMy hypothesis is that the frontend select component is attempting to render all tens of thousands of permission options into the DOM at once, which is causing the browser's main thread to lock up. A \"virtualized\" or \"windowed\" select component would likely solve this issue.\n\nAny guidance on a potential workaround or confirmation if this is fixed in a newer version of Superset or Flask-AppBuilder would be greatly appreciated. Thanks!\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35667\nTitle: chore: bump pretty-ms to 9.3.0\nState: closed\nAuthor: villebro\nLabels: size/XS, dependencies:npm, packages, 6.0:checkpoint\nBody:\n### SUMMARY\r\nCreated a new PR to bump `pretty-ms` to latest stable version as #35599 didn't bump the lock file.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35666\nTitle: [v6.0.0rc2] Table pagination text is wrong\nState: closed\nAuthor: saraburns1\nLabels: \nBody:\n## Screenshot\n\n<img width=\"413\" height=\"172\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/0dd964ac-69a0-4309-861f-e942f490e42f\" />\n\n## Description\n\nIn 'table' chart, if `Page Length` drop down is something other than All:\nThere is text that says `Select page size` that is right in front of `Show _ entries per page`. Seems like only one of these statements should be there, probably the one that allows you do make a selection.\n\nhttps://github.com/apache/superset/blob/6.0.0rc2/superset-frontend/plugins/plugin-chart-table/src/TableChart.tsx#L221-L224\n\n## Design input\n[describe any input/collaboration you'd like from designers, and\ntag accordingly. For design review, add the\nlabel `design:review`. If this includes a design proposal,\ninclude the label `design:suggest`]",
  "Requirement ID: ISSUE-35665\nTitle: feat: use  in deck.gl custom tooltip instead of SafeMarkdown\nState: open\nAuthor: richardfogaca\nLabels: size/S, viz:charts:deck.gl, plugins\nBody:\n###   SUMMARY\r\n\r\n-  Fixes deck.gl custom tooltips to work with HTML_SANITIZATION=True.\r\n\r\n#### Problem\r\n- HTML_SANITIZATION=True caused the custom tooltips to not work properly because SafeMarkdown was stripping all style attributes.\r\n\r\n#### Solution\r\n  - Replace SafeMarkdown with sanitizeHtml() in HandlebarsRenderer.tsx\r\n  - sanitizeHtml uses the xss library which allows style attributes while still preventing XSS attacks\r\n  - Reset HTML_SANITIZATION = True in config.py\r\n\r\n###  BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n\r\n<img width=\"648\" height=\"516\" alt=\"Screenshot 2025-10-15 at 14 39 03\" src=\"https://github.com/user-attachments/assets/ec3006d0-543c-4418-872b-be1b17d8b559\" />\r\n\r\n###  TESTING INSTRUCTIONS\r\n\r\n  1. Create a deck.gl chart (scatter, arc, etc.)\r\n  2. Add a custom tooltip with inline styles:\r\n```\r\n  <div style=\"background: #2c3e50; color: white; padding: 10px;\">\r\n    Year: {{YEAR}}\r\n  </div>\r\n```\r\n  3. Hover over a data point - verify styling is preserved\r\n  4. Confirm HTML_SANITIZATION = True in config.py\r\n\r\n  ADDITIONAL INFORMATION\r\n\r\n  - Has associated issue: Fixes regression from #34276\r\n  - Required feature flags:\r\n  - Changes UI\r\n  - Includes DB Migration\r\n  - Introduces new feature or API\r\n  - Removes existing feature or API",
  "Requirement ID: ISSUE-35663\nTitle: fix(Themes): Local label inconsistent behaviors\nState: open\nAuthor: geido\nLabels: size/L, global:theming, testenv-up\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\nFixes inconsistent behaviors of the \"local\" label in Themes.\r\n\r\n### BEFORE\r\n\r\nhttps://github.com/user-attachments/assets/ec8801a4-d50f-432a-9fe0-6ccf375f8d1c\r\n\r\n\r\nhttps://github.com/user-attachments/assets/adb9533b-bf0f-4d3b-8094-8eff01171953\r\n\r\n\r\nhttps://github.com/user-attachments/assets/3eb59b9e-0d63-4d00-b1bc-15e45ddb129b\r\n\r\n\r\n### AFTER\r\n\r\nhttps://github.com/user-attachments/assets/67e7bc98-7ae8-4e85-8844-ae6e687b02c5\r\n\r\nhttps://github.com/user-attachments/assets/6e6289dc-a712-4d23-8b1c-58dab71a1d40\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\nFirst issue: Local theme tag disappears after refresh\r\n- Navigate to themes\r\n- Select the thunder icon of a listed theme - it will be set as local theme and have a Local tag displayed\r\n- Refresh\r\n- The tag should not disappear\r\n\r\nSecond issue: Unable to change theme to latest applied after setting a local theme\r\n- Navigate to themes\r\n- Click on Theme icon on top right\r\n- Select light\r\n- Select the thunder icon of a listed theme - it will be set as local theme and have a Local tag displayed\r\n- Click on thunder icon on top right\r\n- Select light again (the latest theme applied before local) - theme should be applied\r\n\r\nThird issue: Local theme tag keeps displayed after user removes it\r\n- Navigate to themes\r\n- Select the thunder icon of a listed theme - it will be set as local theme and have a Local tag displayed\r\n- Click Theme icon on top right\r\n- Select either dark or light\r\n- The theme is changed and local tag should not be displayed\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35662\nTitle: feat(jinja dataset macro): resolve a dataset by its name and specify an alias for the returned subquery\nState: open\nAuthor: nicob3y\nLabels: size/M, global:jinja, doc\nBody:\n### SUMMARY\r\n\r\nThis PR aims to improve jinja dataset macro by:\r\n\r\n1. allowing the user to use a dataset by its name as well,\r\n2. adding a parameter \"alias\" to force the alias of the returned subquery.\r\n\r\nUsing the names instead of the IDs helps, for example during a dashboard export/import, to guard against ID changes and thus a broken dataset definition.\r\nUsing a custom alias also frees you from the problem of changing ID since the default is built with.\r\n\r\nThe update of this macro preserves its previous behavior.\r\n\r\nTests and documentation are updated.",
  "Requirement ID: ISSUE-35661\nTitle: Slack API rate limit errors due to hardcoded retry count\nState: open\nAuthor: marcosmamorim\nLabels: alert-reports\nBody:\n### Bug description\n\nWhen fetching Slack channels for Alerts & Reports, the code uses a hardcoded `max_retry_count=2` in the `RateLimitErrorRetryHandler`. This causes failures when Slack API returns HTTP 429 (rate limit):\n\n`POST https://slack.com/api/conversations.list - HTTP Error 429: Too Many Requests`\n\n**Reproduction steps:**\n1. Configure Slack integration with `SLACK_API_TOKEN`\n2. Enable `ALERT_REPORTS` feature flag\n3. Create an Alert/Report with Slack notification\n4. Try to select a channel from the dropdown\n5. Error occurs after 2 retry attempts\n\n**Expected behavior:**\nRetry count should be configurable to handle rate limits in different workspace sizes.\n\n**Root cause:**\n`superset/utils/slack.py` line 54:\n```python\nrate_limit_handler = RateLimitErrorRetryHandler(max_retry_count=2)  # Hardcoded\n```\n\n### Screenshots/recordings\n\nN/A\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.11\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n- More noticeable in large workspaces (10k+ channels) due to higher number of paginated requests\n- Feature flag enabled: `ALERT_REPORTS`\n- Fix available in [PR #35622](https://github.com/apache/superset/pull/35622)\n\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35660\nTitle: Unable to list Superset Assets\nState: closed\nAuthor: Devika7733\nLabels: authentication, api:charts\nBody:\n### Bug description\n\nI am using endpoint     superset_response=$(curl -s -k --url \"https://superset.test.com/api/v1/charts/?q=%7B%22columns%22%3A%5B%22id%22%2C%22$name_key%22%5D%2C%22page%22%3A$page%2C%22page_size%22%3A$page_size%7D\" \\\n      --header \"Authorization: Bearer $ACCESS_TOKEN\" \\\n      --header 'accept: application/json') to read the charts from superset. I am getting error as no charts were found. What are the permissions required for fetching these assets\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\n5.0.0\n\n### Python version\n\n3.11\n\n### Node version\n\n18 or greater\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35655\nTitle: [SIP] Proposal for Modernizing Control Panel Architecture using React Components\nState: open\nAuthor: OrhanBC\nLabels: sip, explore:control\nBody:\n# [SIP] Proposal for Modernizing Control Panel Architecture using React Components\n\n## Motivation\n\nThe current control panel architecture in Apache Superset relies on a configuration-driven design, where `controlPanelSections` define `controlSetRows` as arrays of strings or configuration objects in `superset-frontend/plugins/plugin-chart-word-cloud/src/plugin/controlPanel.ts`. While this approach is functional, it has become increasingly rigid, difficult to maintain, and misaligned with modern frontend development practices.  \n\nString-based controls (e.g., `['color_scheme']`) are indirectly mapped to React components through control registries, creating unnecessary indirection and making the code harder to trace and refactor. Similarly, object-based configurations define control metadata but are not React components, which limits composability, reusability, and dynamic interactions.  \n\nBy moving to a React component-based approach, Superset can modernize its control panel architecture to be more modular, testable, and maintainable. This change will improve developer experience, streamline debugging, and enable richer interactions using React\u2019s state management features such as hooks and context.\n\n---\n\n## Proposed Change\n\nWe propose to modernize the control panel architecture by incrementally replacing configuration objects and strings with React components.  \n\nThe first step will be a **proof of concept (POC)** for the **Word Cloud control panel**, where each control (e.g., rotation, color scheme) will be defined directly as a React component such as `<RotationControl />` or `<ColorSchemeControl />`.  \n\nThe rendering logic in `superset-frontend/src/explore/components/ControlPanelsContainer.tsx` will be extended to detect and render both legacy configuration objects and React components. This ensures backward compatibility and allows for a gradual migration without breaking existing visualizations.\n\n**Example transformation:**\n\n**Before:**\n```javascript\n[\n  {\n    name: 'rotation',\n    config: {\n      type: 'SelectControl',\n      label: t('Word Rotation'),\n      choices: [\n        ['random', t('random')],\n        ['flat', t('flat')],\n        ['square', t('square')],\n      ],\n      renderTrigger: true,\n      default: 'square',\n      clearable: false,\n      description: t('Rotation to apply to words in the cloud'),\n    },\n  },\n]\n```\n**After:**\n```javascript\n[\n  <SelectControl name=\"rotation\" ...{everything as props} />\n]\n```\n### New or Changed Public Interfaces\n\n**Frontend (React):**\n- `controlPanel.ts` files will gradually transition from static configuration objects to React components.\n- `ControlPanelsContainer.tsx` will include updated logic to handle both legacy configurations and React component entries.\n- New reusable control components (e.g., `RotationControl`, `ColorSchemeControl`) will be implemented under `src/explore/components/controls/`.\n- No REST API or CLI-level changes are expected.\n- UI and user behavior will remain identical during migration.\n\n**Backward Compatibility:**\n- Both configuration-based and component-based controls will coexist during the transition.\n- Older dashboards and visualizations will continue to render correctly.\n\n### Migration Plan and Compatibility\n\n- No database schema changes or migrations are required.\n- No updates to stored URLs or metadata will be needed.\n- Migration will begin with the Word Cloud control panel as a proof of concept.\n- Once validated, the same approach will be extended incrementally to other control panels.\n- The hybrid rendering system ensures full backward compatibility until all panels are migrated.\n\n### Additional Context\n\nThis proposal originated from discussions in the Apache Superset Slack community. Our team selected this task from a list of available backlog items for contribution. We then reached out to @rusackas  who provided additional details and guidance on the implementation approach. Evan recommended beginning with a small proof of concept and progressing incrementally to ensure maintainability and alignment with Superset\u2019s ongoing frontend modernization efforts.",
  "Requirement ID: ISSUE-35653\nTitle: Image/PDF download on dashboards with ag-grid-table\nState: open\nAuthor: Etxabe\nLabels: dashboard:export\nBody:\n### Bug description\nI have been developing a plugin-chart using the ag grid library and when using it on a dashboard the dashboard can't be downloaded. Then i tried doing the same with superset's ag-grid-table chart and the same happened.\n\n### Steps to reproduce:\n1. Create a chart using the ag-grid-table chart (Table V2)\n2. Add the chart to a dashboard\n3. Try download -> export to pdf or download as image\n\nExporting to PDF causes a silent failure and downloading as image creates an excessively large image, as seen on the screenshot below.\nI've tried different databases and many ways to try and solve it but it keeps failing. I have created another plugin-chart using the AG grid library and the same error happens.\nI couldn't find any other issue with this kind of problem so i'm asking if somebody had the same issue or knows how to solve it, or if it is an AG grid library problem which can't be solved.\n\n### Screenshots/recordings\n\nThe dashboard looks like this:\n\n<img width=\"1884\" height=\"836\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/dfd25d87-c6ed-47a1-a1c8-1de41f8ce153\" />\n\n\nDownloading the dashboard as an image creates this:\n\n![Image](https://github.com/user-attachments/assets/98a46d65-32e3-4775-bbdc-fb983f3a78e8)\n\nSomething similar happens when adding more charts to the dashboard:\n\n![Image](https://github.com/user-attachments/assets/b225c697-641d-40b9-b4a6-db94b4e93db6)\n\n### Superset version\n\n5.0.0\n\n### Python version\n\nI don't know\n\n### Node version\n\n18 or greater\n\n### Browser\n\nChrome\n\n### Additional context\n\nI\u00b4ve tried adjusting the size usind div, containers, autoHeight and more things. Searching on the AG grid library doc i found about [lazy height calculation](https://www.ag-grid.com/react-data-grid/row-height/#lazy-height-calculation) and how it affects the DOM size.\n\n### Checklist\n\n- [ ] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35652\nTitle: feat(alerts): Include screenshots in alert/report failure emails\nState: open\nAuthor: eschutho\nLabels: size/L, review:draft\nBody:\n### SUMMARY\nWhen an alert or report fails, this PR adds the ability to capture a screenshot of the current state and include it in the error notification email sent to owners. This helps admins/owners quickly identify issues without needing to navigate to the dashboard or chart.\n\n**Key changes:**\n- Modified `send_error()` in `superset/commands/report/execute.py` to attempt screenshot capture before sending error notifications\n- Updated email notification templates in `superset/reports/notifications/email.py` to include inline screenshot images\n- Added comprehensive unit tests for error emails with and without screenshots\n- Implemented best-effort approach: screenshots are captured if possible, but failures don't prevent error notifications from being sent\n\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\n**Before:** Error emails only contained text describing the error\n\n**After:** Error emails include a screenshot showing the state of the dashboard/chart at the time of failure (when screenshot capture is successful)\n\n### TESTING INSTRUCTIONS\n1. Set up an alert or report that will fail (e.g., configure it to run on a broken dashboard or chart)\n2. Trigger the alert/report execution\n3. Verify that:\n   - Error notification email is sent to the owner\n   - Email includes a screenshot of the dashboard/chart (if screenshot capture succeeded)\n   - Email still sends even if screenshot capture fails\n4. Run unit tests: `pytest tests/unit_tests/reports/notifications/email_tests.py -v`\n\n### ADDITIONAL INFORMATION\n- [ ] Has associated issue:\n- [ ] Required feature flags:\n- [ ] Changes UI\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\n  - [ ] Confirm DB migration upgrade and downgrade tested\n  - [ ] Runtime estimates and downtime expectations provided\n- [ ] Introduces new feature or API\n- [ ] Removes existing feature or API\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.com/claude-code)",
  "Requirement ID: ISSUE-35651\nTitle: fix(theme): align \"Clear local theme\" option with other theme menu items\nState: closed\nAuthor: rebenitez1802\nLabels: size/S, global:theming, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nFixes misalignment of the \"Clear local theme\" option in the theme dropdown menu. The option was appearing at the root level instead of inside the theme group, causing it to have different indentation and styling compared to other theme options (Light, Dark, Match system).\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n<img width=\"329\" height=\"317\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8188aca9-17f7-4d7e-831e-aac488345fa4\" />\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35650\nTitle: fix(dataset): sync columns checkbox not responding to clicks in virtual dataset modal\nState: open\nAuthor: rebenitez1802\nLabels: size/M, change:frontend, data:dataset\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nFixes the \"Automatically sync columns\" checkbox being unresponsive when editing virtual datasets. The checkbox appears to be stuck and doesn't toggle state when clicked. \r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n1. Navigate to a virtual dataset (one with SQL query)\r\n2. Click \"Edit Dataset\"\r\n3. Modify the SQL query (change the query text)\r\n4. Click \"Save\" button\r\n5. Confirmation modal appears with \"Automatically sync columns\" checkbox (checked by default)\r\n6. Click the checkbox - it should uncheck\r\n7. Click it again - it should check\r\n8. Verify the checkbox responds to each click and toggles state correctly\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35648\nTitle: fix(table-chart): fix page size label visibility and improve header control wrapping\nState: closed\nAuthor: gabotorresruiz\nLabels: size/L, change:frontend, plugins, v6.0, \ud83c\udfaa fd9dbf9 \ud83d\udcc5 2025-10-15T19-03, \ud83c\udfaa fd9dbf9 \u231b 48h, \ud83c\udfaa fd9dbf9 \ud83e\udd21 sadpandajoe, \ud83c\udfaa fd9dbf9 \ud83d\udea6 running, \ud83c\udfaa fd9dbf9 \ud83c\udf10 54.71.44.120:8080\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nThis PR fixes UI issues in the Table Chart header controls\r\n\r\n1. **Fixed accessibility issue**: Removed non-functional `sr-only` class that was causing \"Select page size\" label to be visible. The class doesn't exist in the codebase, so the label was showing alongside the intended UI. Replaced it with a proper `VisuallyHidden` styled component following WCAG accessibility guidelines.\r\n\r\n2. **Improved responsive layout**: Replaced custom `StyledSpace` and `StyledRow` components with Ant Design's `Flex` component for better control wrapping behavior. The controls now properly adapt to different chart widths when resized in dashboards.\r\n\r\n3. **Layout structure**:\r\n   - Left side: \"Show X entries per page\" selector\r\n   - Right side: \"Search by\" dropdown and \"Search\" input\r\n   - Controls wrap gracefully when space is limited\r\n   - All elements use proper theming tokens (`theme.sizeUnit`)\r\n\r\n4. **Code cleanup**: Removed unnecessary styled components and simplified the layout using built-in Ant Design components.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n#### Before\r\n<img width=\"589\" height=\"412\" alt=\"image\" src=\"https://github.com/user-attachments/assets/7e0dc2f1-d87d-4c6d-abc4-7113ac546810\" />\r\n\r\n#### After\r\n<img width=\"2922\" height=\"830\" alt=\"image\" src=\"https://github.com/user-attachments/assets/72c02c6e-119c-41f1-81fe-ccbc01120918\" />\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n1. Create (or open) a Table Chart with `server-side pagination` and `Search Box` enabled\r\n2. Verify the header shows \"Show X entries per page\" on the left\r\n3. Verify `Search by` dropdown and `Search` input appear on the right\r\n4. Add the chart to a dashboard\r\n5. Resize the chart to different widths and verify:\r\n   - Large width: controls stay on one row (page size left, search controls right)\r\n   - Medium width: controls wrap to separate rows\r\n   - Small width: all controls stack vertically\r\n6. Verify no \"Select page size\" text appears anywhere\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35644\nTitle: How to add multiple database connections to superset\nState: open\nAuthor: Devika7733\nLabels: review:checkpoint\nBody:\n### Bug description\n\nHi , I am automating the dashboard import process by keeping all the files in Repo and importing them to Superset. I have a requirement to add multiple databases. My current folder structure is below for Reporting database. If I need to add a new database eg, Superset_metadb.yaml how the structure will be for handling multiple databses /tmp/repo/databases/databases.zip\n databases/\n databases/metadata.yaml\n databases/datasets/\n databases/datasets/Reporting/\n databases/datasets/Reporting/Inventory_Cyclecount_by_Task_Priority_and_Zone.yaml\n databases/datasets/Reporting/Inventory_Task_Ended.yaml\n databases/Reporting.yaml\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\n5.0.0\n\n### Python version\n\n3.11\n\n### Node version\n\n18 or greater\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35641\nTitle: fix(frontend): double prefixed API url\nState: open\nAuthor: jakubhruby\nLabels: size/XS, change:frontend, viz:charts:export\nBody:\n### SUMMARY\r\nWhen app root prefix is applied (e.g. `SUPERSET_APP_ROOT=\"/app-prefix\"`), it's applied twice - e.g. when exporting graph to CSV \r\n\r\n```javascript\r\n\r\n// in this handler url is build with appRoot prefix\r\nexportChart = async (...) => {\r\n    ...\r\n    url = ensureAppRoot('/api/v1/chart/data'); \r\n    // now the url is /app-prefix/api/v1/chart/data\r\n\r\n    // postForm is called with prefixed url\r\n    SupersetClient.postForm(url, ...)\r\n    ...\r\n}\r\n\r\n// this method is called with already prefixed url\r\nasync postForm(endpoint, ...) {\r\n    ...\r\n    hiddenForm.action = this.getUrl({ endpoint });\r\n    // now the url is /app-prefix/app-prefix/api/v1/chart/data\r\n    ...\r\n}\r\n```\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<img width=\"1430\" height=\"867\" alt=\"Sn\u00edmek obrazovky z 2025-10-14 14-53-35\" src=\"https://github.com/user-attachments/assets/cb224e24-3d58-4bba-9237-cec528c454d9\" />\r\n\r\n### TESTING INSTRUCTIONS\r\nTest downloading CSV file.\r\n\r\n### ADDITIONAL INFORMATION\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35640\nTitle: fix(translation): loading translations before app\nState: open\nAuthor: jakubhruby\nLabels: size/M, i18n:general\nBody:\n### SUMMARY\r\nTranslations need to be fully loaded before app is started - it's in `superset-frontend/src/preamble.ts` where there even is a comment saying `Load language pack before anything else`, but in fact there is no wait for async translation load. \r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\nBefore - translated and non-translated mixed up \r\n<img width=\"473\" height=\"385\" alt=\"Sn\u00edmek obrazovky z 2025-10-14 14-17-26\" src=\"https://github.com/user-attachments/assets/dfd1ccfe-25f0-4f7e-8246-2de805b07063\" />\r\n\r\nAfter - all strings are loaded \r\n<img width=\"1045\" height=\"306\" alt=\"Sn\u00edmek obrazovky z 2025-10-14 14-37-56\" src=\"https://github.com/user-attachments/assets/63b58c59-321e-4618-b3bf-5ab5d22c019c\" />\r\n\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\nReoad page and watch all strings are translated (requires fully translated localization, e.g. CS added in https://github.com/apache/superset/pull/35639)\r\n\r\n### ADDITIONAL INFORMATION\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35639\nTitle: feat: CS translations\nState: open\nAuthor: jakubhruby\nLabels: i18n, size/XXL, i18n:general\nBody:\n### SUMMARY\r\nAdded czech phrases and some missing EN phrases I found in code\r\n\r\n### TESTING INSTRUCTIONS\r\nTurn on CS lang and check applied phrases\r\n\r\n### ADDITIONAL INFORMATION\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [x] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35636\nTitle: BUG \ud83d\udea8: Allow Custom Date Format for Week Range in Big Number with Trendline Chart\nState: open\nAuthor: Iconic-Aman\nLabels: \nBody:\n### Bug description\n\n### Summary\nWhen using the **Big Number with Trendline** chart and setting the **time grain** to \"Week\", Apache Superset only displays the **start date** of the week when a **custom date format** is applied.  \nThe **adaptive format** correctly displays a full date range (e.g., `2025-10-13 \u2014 2025-10-19`), but it cannot be customized.  \nCustom formats like `%d-%m-%Y` show only `2025-10-13`, omitting the end date of the range.\n\n---\n\n### Steps to Reproduce\n1. Create a **Big Number with Trendline** chart.\n2. Set the **Time grain** to `Week`.\n3. Under **Customize \u2192 Date format**, select a **custom format** (e.g., `%d-%m-%Y`).\n4. Observe that only the **start date** of the week is displayed.\n\n---\n\n### Expected Behavior\n- The chart should display both **start** and **end** dates for weekly ranges.\n- Custom formats like `%d-%m-%Y` should render as:\n\n13-10-2025 \u2014 19-10-2025 \ninstead of just `13-10-2025`.\n\n---\n\n### Actual Behavior\n- Only the **start date** (`2025-10-13`) is shown.\n- Adaptive format shows full range but cannot be customized.\n\n---\n\n### Impact\nThis limits localization and readability for dashboards where weekly data needs to be displayed in a regional format (e.g., DD-MM-YYYY).  \nIt affects KPI dashboards using **Big Number with Trendline** with **Week** time grain.\n\n---\n\n### Environment\n- **Chart type:** Big Number with Trendline  \n- **Time grain:** Week  \n- **Superset version:** [Your Superset version]  \n- **Browser/OS:** [Your setup]  \n\n---\n\n### Additional Context\nThere appears to be no built-in configuration or workaround for customizing both start and end date formats for week grains.  \nThis has been observed and mentioned in Superset community discussions as a current limitation.\n\n\n### Screenshots\n#### \ud83e\udde9 Case 1: Custom Date Format (`%d-%m-%Y`)\nScreenshot showing:\n- Chart configuration with **Week time grain** and custom date format.\n- The chart output displaying **only the start date** (e.g., `13-10-2025`).\n- \n\n\n![Custom Format Issue](\n\n<img width=\"1581\" height=\"957\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/19907eca-7c9e-4312-a4c1-cc5e38594a01\" />\n\n)\n\n---\n\n#### \ud83e\udde9 Case 2: Adaptive Format\nScreenshot showing:\n- Chart configuration using **Adaptive format**.\n- The chart output displaying the **full date range** (e.g., `2025-10-13 \u2014 2025-10-19`).\n- This confirms that the date range works only for adaptive format.\n\n<img width=\"1573\" height=\"973\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/6d844ece-abf0-4a96-b02b-184b8f8bfe23\" />\n\n### Superset version\n\n5.0.0\n\n### Python version\n\nI don't know\n\n### Node version\n\nI don't know\n\n### Browser\n\nFirefox\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [ ] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35634\nTitle: Broken Link for Contributors - Developer Portal\nState: open\nAuthor: javacatknight\nLabels: doc:developer\nBody:\n### Bug description\n\nThe link: https://superset.apache.org/docs/developer-portal/ is broken.\n\nThe link is listed on https://github.com/apache/superset/blob/master/CONTRIBUTING.md\n\nIs the correct link https://superset.apache.org/developer_portal/?\n\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35626\nTitle: RECAPTCHA_PUBLIC_KEY config missing in 5.0.0 but present on master\nState: open\nAuthor: DataStrategistTeam\nLabels: authentication\nBody:\n### Bug description\n\n\nI noticed a difference between the `5.0.0` tag and the current `master` branch regarding reCAPTCHA support.  \n\nIn `master`, there is logic like:  \n\n```python\nif auth_user_registration:\n    frontend_config[\"AUTH_USER_REGISTRATION_ROLE\"] = app.config[\"AUTH_USER_REGISTRATION_ROLE\"]\nif should_show_recaptcha:\n    frontend_config[\"RECAPTCHA_PUBLIC_KEY\"] = app.config[\"RECAPTCHA_PUBLIC_KEY\"]\n```\n\nBut in the `5.0.0` tag, the `RECAPTCHA_PUBLIC_KEY` (and related config) does not exist.  \n\n- Is this intentional (i.e., reCAPTCHA support only added after 5.0.0)?  \n- Or should this configuration be available in 5.0.0 as well?  \n\nI ran into errors like:  \n```\nRuntimeError: RECAPTCHA_PUBLIC_KEY config not set\n```\nwhen enabling `AUTH_USER_REGISTRATION` on 5.0.0.  \n\nCould you clarify whether reCAPTCHA is expected to work in 5.0.0, or if it\u2019s only supported in newer versions?  \n\n\n<img width=\"570\" height=\"353\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/4e48a371-9cb1-4a0f-92ef-0e1ff64441e1\" />\n\n<img width=\"683\" height=\"226\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/eb357ece-cda3-44ca-9bf4-6f5785b5b7b9\" />\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.11\n\n### Node version\n\n20.16\n\n### Browser\n\nFirefox\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35625\nTitle: flask_limiter.errors.RateLimitExceeded: 429 Too Many Requests: 50 per 1 second\nState: closed\nAuthor: Devika7733\nLabels: \nBody:\n### Bug description\n\nI am running load testing on superset using k6 operator. I am testing with 5 concurrent users and getting logs as \"Traceback (most recent call last):\nFile \"/app/.venv/lib/python3.11/site-packages/flask/app.py\", line 1482, in full_dispatch_request\nrv = self.preprocess_request()\n^^^^^^^^^^^^^^^^^^^^^^^^^\nFile \"/app/.venv/lib/python3.11/site-packages/flask/app.py\", line 1974, in preprocess_request\nrv = self.ensure_sync(before_func)()\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nFile \"/app/.venv/lib/python3.11/site-packages/flask_limiter/extension.py\", line 1160, in _check_request_limit\nraise e\nFile \"/app/.venv/lib/python3.11/site-packages/flask_limiter/extension.py\", line 1157, in _check_request_limit\nself.__evaluate_limits(endpoint, all_limits)\nFile \"/app/.venv/lib/python3.11/site-packages/flask_limiter/extension.py\", line 1141, in __evaluate_limits\nraise RateLimitExceeded(\nflask_limiter.errors.RateLimitExceeded: 429 Too Many Requests: 50 per 1 second\n2025-10-14 05:38:03,787:WARNING:superset.views.error_handling:HTTPException\nTraceback (most recent call last):\nFile \"/app/.venv/lib/python3.11/site-packages/flask/app.py\", line 1482, in full_dispatch_request\nrv = self.preprocess_request()\n^^^^^^^^^^^^^^^^^^^^^^^^^\nFile \"/app/.venv/lib/python3.11/site-packages/flask/app.py\", line 1974, in preprocess_request\nrv = self.ensure_sync(before_func)()\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nFile \"/app/.venv/lib/python3.11/site-packages/flask_limiter/extension.py\", line 1160, in _check_request_limit\nraise e\nFile \"/app/.venv/lib/python3.11/site-packages/flask_limiter/extension.py\", line 1157, in _check_request_limit\nself.__evaluate_limits(endpoint, all_limits)\nFile \"/app/.venv/lib/python3.11/site-packages/flask_limiter/extension.py\", line 1141, in __evaluate_limits\nraise RateLimitExceeded(\nflask_limiter.errors.RateLimitExceeded: 429 Too Many Requests: 50 per 1 second\n2025-10-14 05:38:03,826:INFO:flask-limiter:ratelimit 50 per 1 second (10.40.22.127) exceeded at endpoint: global\n2025-10-14 05:38:03,826:WARNING:superset.views.error_handling:HTTPException\nTraceback (most recent call last):\nFile \"/app/.venv/lib/python3.11/site-packages/flask/app.py\", line 1482, in full_dispatch_request\nrv = self.preprocess_request()\n^^^^^^^^^^^^^^^^^^^^^^^^^\nFile \"/app/.venv/lib/python3.11/site-packages/flask/app.py\", line 1974, in preprocess_request\nrv = self.ensure_sync(before_func)()\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nFile \"/app/.venv/lib/python3.11/site-packages/flask_limiter/extension.py\", line 1160, in _check_request_limit\nraise e\nFile \"/app/.venv/lib/python3.11/site-packages/flask_limiter/extension.py\", line 1157, in _check_request_limit\nself.__evaluate_limits(endpoint, all_limits)\nFile \"/app/.venv/lib/python3.11/site-packages/flask_limiter/extension.py\", line 1141, in __evaluate_limits\nraise RateLimitExceeded(\nflask_limiter.errors.RateLimitExceeded: 429 Too Many Requests: 50 per 1 second\n2025-10-14 05:38:03,829:INFO:flask-limiter:ratelimit 50 per 1 second (10.40.22.127) exceeded at endpoint: global\n2025-10-14 05:38:03,829:INFO:flask-limiter:ratelimit 50 per 1 second (10.40.22.127) exceeded at endpoint: global\n2025-10-14 05:38:03,829:INFO:flask-limiter:ratelimit 50 per 1 second (10.40.22.127) exceeded at endpoint: global\n2025-10-14 05:38:03,829:INFO:flask-limiter:ratelimit 50 per 1 second (10.40.22.127) exceeded at endpoint: global\n2025-10-14 05:38:03,829:WARNING:superset.views.error_handling:HTTPException\nTraceback (most recent call last):\nFile \"/app/.venv/lib/python3.11/site-packages/flask/app.py\", line 1482, in full_dispatch_request\nrv = self.preprocess_request()\n^^^^^^^^^^^^^^^^^^^^^^^^^\nFile \"/app/.venv/lib/python3.11/site-packages/flask/app.py\", line 1974, in preprocess_request\nrv = self.ensure_sync(before_func)()\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nFile \"/app/.venv/lib/python3.11/site-packages/flask_limiter/extension.py\", line 1160, in _check_request_limit\nraise e\nFile \"/app/.venv/lib/python3.11/site-packages/flask_limiter/extension.py\", line 1157, in _check_request_limit\nself.__evaluate_limits(endpoint, all_limits)\nFile \"/app/.venv/lib/python3.11/site-packages/flask_limiter/extension.py\", line 1141, in __evaluate_limits\nraise RateLimitExceeded(\nflask_limiter.errors.RateLimitExceeded: 429 Too Many Requests: 50 per 1 second\n2025-10-14 05:38:03,829:WARNING:superset.views.error_handling:HTTPException\" What is the default limit set for requests per minute/second, and how many requests are expected for a medium-sized workload? How can I fix the above error? How many requests will be generated if a user accesses a dashboard?\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\n5.0.0\n\n### Python version\n\n3.11\n\n### Node version\n\n18 or greater\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35624\nTitle: Alerts and reports feature not working. URL not found\nState: closed\nAuthor: Dens1002\nLabels: \nBody:\n### Bug description\n\nHey y'all, I've been trying to implement the alerts and reports feature but I've been getting the following error message: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again. I've defined the cookie domain parameter in the superset_confing.py file and I've checked that it matches superset's address. Other that that I haven't found any likely reasons for this error upon googling it. Any help is appreciated, thanks in advance!\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\n4.1.3\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35623\nTitle: Cross-filter persists after removal, leaving dashboard in inconsistent filtered state (6.0.0rc2)\nState: open\nAuthor: yuribogomolov\nLabels: dashboard:cross-filters\nBody:\n### Bug description\n\n1. Open any Superset dashboard where at least one chart supports cross-filtering and the filter sidebar is enabled.\n2. Wait for the dashboard\u2019s initial queries to complete (all visible charts finished loading).\n3. In a chart that supports cross-filtering, click a single data point (e.g., a bar/point/segment) to apply a cross-filter for that value.\n4. Before all charts finish updating in response to the cross-filter, open the filter sidebar and remove the newly applied cross-filter (e.g., clear the selection/deselect the value/remove the chip).\n5. Scroll the dashboard so additional charts come into view (or otherwise trigger lazy loading / re-queries).\n\nObserve that:\nSeveral charts still render as if the removed cross-filter is applied.\nThe filter appears cleared in the sidebar, and there\u2019s no visible way to remove the lingering effect.\n\n\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\nWe\u2019re running in ASYNC query mode. It looks like when a cross-filter is applied, the queries it triggers aren\u2019t canceled if the filter is removed. As those in-flight requests resolve, their filtered results are still delivered to the client and the UI re-renders the charts with that now-stale filter applied.\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35622\nTitle: fix(alerts): improve Slack API rate limiting for large workspaces\nState: open\nAuthor: marcosmamorim\nLabels: size/L, alert-reports, doc\nBody:\n### SUMMARY\r\n\r\nFixes rate limiting issues when fetching Slack channels in large workspaces (10k+ channels).\r\n\r\n**Note:** This PR takes a more comprehensive approach than #35588 by:\r\n- Making retry count configurable instead of hardcoded\r\n- **Preventing** rate limits through throttling rather than just detecting them\r\n- Providing configuration options for different workspace sizes\r\n- Including complete documentation for large workspaces\r\n\r\n**Problem:**\r\nWorkspaces with 20k+ channels require ~21 paginated API calls. Without throttling, rapid consecutive requests trigger Slack's rate limits ([Tier 2/3: 20-50 req/min](https://api.slack.com/apis/rate-limits)). The previous hardcoded retry count of 2 was insufficient for large workspaces.\r\n\r\n**Solution:**\r\n- Add `SLACK_API_RATE_LIMIT_RETRY_COUNT` config (default: 5, previously hardcoded to 2)\r\n- Add detailed progress logging (page count, channels fetched)\r\n- Improve error messages with configuration suggestions\r\n- Update documentation for large workspaces (10k+ channels)\r\n\r\n**Test Results (17k+ channel workspace):**\r\n\r\n| Total Time | Rate Limits | Success Rate |\r\n|------------|-------------|--------------|\r\n| 67s        | 1/68 pages  | 98.5%        |\r\n\r\n**Impact:**\r\n- Backwards compatible: Default values maintain current behavior for small workspaces\r\n- Large workspaces: Users can now configure higher retry counts (5-10) and delays (1.0-2.0s)\r\n- Better observability with detailed logging\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n\r\nN/A - Backend-only changes\r\n\r\n### TESTING INSTRUCTIONS\r\n\r\n**Prerequisites:**\r\n- Set `SLACK_API_TOKEN` in config\r\n- Enable `ALERT_REPORTS` feature flag\r\n\r\n**Manual Testing:**\r\n1. Create an Alert/Report with Slack notification\r\n2. Select a Slack channel from the dropdown\r\n3. Verify channels load successfully\r\n\r\n**For large workspaces (10k+ channels):**\r\n```python\r\nfrom datetime import timedelta\r\n\r\n# Increase cache timeout to reduce API calls\r\nSLACK_CACHE_TIMEOUT = int(timedelta(days=2).total_seconds())\r\n\r\n# Increase retry count if needed\r\nSLACK_API_RATE_LIMIT_RETRY_COUNT = 10\r\n```\r\n\r\nCheck logs for progress messages: \"Fetched page X: Y channels (total: Z)\"\r\n\r\n### ADDITIONAL INFORMATION\r\n\r\n- [x] Has associated issue: Fixes #35661\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35621\nTitle: feat: add option for hash algorithms\nState: open\nAuthor: dpgaspar\nLabels: change:backend, size/L\nBody:\n### SUMMARY\r\n\r\nAdds configurable hash algorithm support to enable FedRAMP compliance. This PR introduces a `HASH_ALGORITHM` configuration option that allows deployments to choose between MD5 (legacy) or SHA-256 (FedRAMP compliant) for non-cryptographic hash operations.\r\n\r\n#### Background\r\n\r\nSuperset currently uses MD5 for cache key generation, thumbnail digests, and UUID namespace generation. While these are non-cryptographic uses, NIST FIPS 140-2 (required by FedRAMP) prohibits MD5 for any purpose.\r\n\r\n#### What Changed\r\n\r\n1. **Added `HASH_ALGORITHM` config** in `superset/config.py`\r\n   - Options: `'md5'` (default, legacy) or `'sha256'` (FedRAMP compliant)\r\n   - Controls hash algorithm for cache keys, thumbnails, and UUID generation\r\n\r\n2. **Refactored `superset/utils/hashing.py`**\r\n   - New generic functions: `hash_from_str()`, `hash_from_dict()`\r\n   - Support for algorithm override via parameter\r\n   - Maintains backward compatibility with `md5_sha_from_str()` and `md5_sha_from_dict()` aliases\r\n\r\n3. **Updated `superset/key_value/utils.py`**\r\n   - `get_uuid_namespace()` now supports configurable hashing\r\n   - SHA-256 uses first 16 bytes for UUID compatibility\r\n   - Added optional `app` parameter for testing without Flask context\r\n\r\n4. **Updated `superset/extensions/metastore_cache.py`**\r\n   - Passes Flask app to `get_uuid_namespace()` to avoid context issues during initialization\r\n\r\n#### Test Coverage\r\n\r\n**New Tests:**\r\n- `tests/unit_tests/utils/test_hashing.py` - 16 unit tests covering both algorithms\r\n- `tests/unit_tests/key_value/utils_test.py` - 4 tests for UUID namespace generation\r\n\r\n**Adapted Tests:**\r\n- `tests/integration_tests/utils/hashing_tests.py` - 8 tests (4 MD5 + 4 SHA-256)\r\n- `tests/integration_tests/utils/core_tests.py` - Added app_context to 3 tests\r\n- `tests/unit_tests/utils/screenshot_test.py` - Added app_context to 1 test\r\n\r\nAll tests pass with both MD5 and SHA-256 configurations.\r\n\r\n#### Migration Paths\r\n\r\n**Path A: New FedRAMP-Compliant Deployment**\r\n```python\r\n# superset_config.py\r\nHASH_ALGORITHM = 'sha256'\r\n```\r\n- Impact: None (clean start)\r\n- FedRAMP compliant from day one\r\n\r\n**Path B: Existing Deployment - Accept Cache Invalidation**\r\n```python\r\n# superset_config.py\r\nHASH_ALGORITHM = 'sha256'\r\n```\r\n- Impact: All cached content invalidated (cache misses for 24-48 hours)\r\n- Cache re-warms naturally\r\n- FedRAMP compliant after deployment\r\n\r\n**Path C: Legacy Deployment - Stay on MD5**\r\n```python\r\n# superset_config.py\r\nHASH_ALGORITHM = 'md5'  # default\r\n```\r\n- Impact: None (continues using MD5)\r\n- Not FedRAMP compliant\r\n\r\n#### Performance Impact\r\n\r\n- SHA-256 is ~10-30% slower than MD5 for small inputs\r\n- Absolute overhead: <1ms per hash operation\r\n- Impact on request latency: <0.1%\r\n- Negligible for typical workloads\r\n\r\n#### Breaking Changes\r\n\r\n\u26a0\ufe0f Changing `HASH_ALGORITHM` invalidates all cached content (cache keys change). Permalinks remain valid (stored in database).\r\n\r\n### ADDITIONAL INFORMATION\r\n\r\n- [x] Has associated issue: (FedRAMP compliance requirement)\r\n- [ ] Required feature flags: N/A\r\n- [ ] Changes UI: No\r\n- [ ] Includes DB Migration: No\r\n- [x] Introduces new feature or API: Adds `HASH_ALGORITHM` config option\r\n- [ ] Removes existing feature or API: No",
  "Requirement ID: ISSUE-35619\nTitle: fix(TimeTable): Match calculations between filtered and non filtered states\nState: open\nAuthor: msyavuz\nLabels: size/M, viz:charts:timetable\nBody:\n## Summary\r\n\r\nFixes TimeTable visualization where time lag calculations differ between filtered and unfiltered views, causing inconsistent values in time-based columns (90 Days, 120 Days, etc.).\r\n\r\n**Problem:**\r\n- When data is unfiltered, time lag columns show 0 for periods with null values\r\n- When data is filtered (e.g., by specific product), the same columns show correct historical values\r\n- This inconsistency makes it difficult to interpret time-based comparisons\r\n\r\n**Root Cause:**\r\n- Unfiltered data includes all time periods, including those with null values for certain products\r\n- Filtered data excludes null periods, creating a compressed timeline with only actual data points\r\n- Original logic used exact array index positions, not accounting for data gaps\r\n\r\n**Solution:**\r\n- Modified `calculateTimeValue` to skip null values when finding historical data points\r\n- Now finds the Nth actual data point (like filtered data compression) instead of exact array positions\r\n- Ensures consistent behavior between filtered and unfiltered views\r\n\r\n**Changes:**\r\n- Updated `valueCalculations.ts:calculateTimeValue()` to handle null values properly\r\n- Time lag calculations now match filtered behavior by skipping data gaps\r\n\r\nAfter:\r\n<img width=\"1047\" height=\"335\" alt=\"image\" src=\"https://github.com/user-attachments/assets/452802cd-f00d-4947-9269-5b088ca9ea54\" />\r\n\r\n\r\n## Test plan\r\n\r\n- [ ] Verify TimeTable shows consistent values between filtered and unfiltered views\r\n- [ ] Test various time lag configurations (30, 60, 90, 120 days)\r\n- [ ] Confirm comparison types (diff, perc, perc_change) work correctly\r\n- [ ] Test with different product lines that have data gaps\r\n\r\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)",
  "Requirement ID: ISSUE-35613\nTitle: fix: Align Russian GeoJSON borders with internationally recognized boundaries\nState: open\nAuthor: dankor\nLabels: size/XXL, viz:charts, plugins\nBody:\n### SUMMARY\r\n\r\nThis pull request updates the russia.geojson file to remove the Crimean Peninsula from the territory of the Russian Federation, reflecting internationally recognized borders in accordance with United Nations General Assembly Resolution 68/262 (2014) and widely accepted international law.\r\n\r\n### Rationale\r\n\r\nThe current GeoJSON file includes Crimea as part of Russia, which contradicts the internationally recognized borders of Ukraine. According to the UN, European Union, G7, and most international organizations, Crimea remains part of Ukraine\u2019s sovereign territory, currently under temporary occupation by the Russian Federation.\r\n\r\nSuperset, as an Apache Software Foundation (ASF) project, strives to remain politically neutral and aligned with international standards. Ensuring that geographic data conforms to internationally recognized boundaries:\r\n\r\n- Maintains neutrality and accuracy of geospatial data;\r\n- Avoids political bias or misrepresentation;\r\n- Keeps Superset compliant with global norms and open-data best practices.\r\n\r\n### References\r\n\r\n- [UN General Assembly Resolution 68/262 (2014) \u2013 Affirms Ukraine's territorial integrity and declares the 2014 Crimean referendum invalid](https://undocs.org/A/RES/68/262)\r\n- [European Union Council Statement (June 16, 2025) \u2013 Condemns Russia's illegal annexation of Crimea and Sevastopol, reaffirming non-recognition](https://www.consilium.europa.eu/en/press/press-releases/2025/06/16/russia-s-illegal-annexation-of-crimea-and-the-city-of-sevastopol-eu-renews-restrictive-measures-until-23-june-2026/)\r\n- [OSCE Permanent Council Statement (February 27, 2020) \u2013 Reiterates support for Ukraine's sovereignty and territorial integrity](https://www.osce.org/files/f/documents/b/1/448600.pdf)\r\n- [NATO Statement (March 18, 2019) \u2013 Calls on Russia to end violations in illegally annexed Crimea](https://www.nato.int/cps/en/natolive/news_164656.htm)\r\n- [Joint Statement of the Fourth Summit of the International Crimea Platform (September 12, 2024) \u2013 Supports Ukraine\u2019s territorial integrity including Crimea](https://mfa.gov.ua/en/news/joint-statement-participants-fourth-summit-international-crimea-platform)\r\n- [EU Statement on Non-Recognition of Russian Local Elections in Crimea \u2013 Reaffirms illegal annexation by Russia is not recognized](https://www.eeas.europa.eu/delegations/council-europe/eudel-statement-non-recognition-russian-local-elections-crimean_en)\r\n- [OSCE Parliamentary Assembly President's Statement on Anniversary of Crimea's Illegal Annexation \u2013 Expresses concern about human rights violations](https://www.oscepa.org/news-a-media/press-releases/press-2015/osce-pa-president-marks-anniversary-of-crimea-s-illegal-annexation)\r\n- [U.S. Treasury \u2013 Ukraine/Russia-related sanctions](https://home.treasury.gov/policy-issues/financial-sanctions/sanctions-programs-and-country-information/ukraine-russia-related-sanctions)  \r\n- [EU Regulation (EU) No 692/2014 \u2013 Restrictions related to Crimea and Sevastopol](https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX%3A32014R0692)  \r\n- [OpenStreetMap \u2013 Ukraine boundary relation (60199)](https://www.openstreetmap.org/relation/60199)\r\n- [EEAS: Crimea \u2013 illegal annexation by the Russian Federation](https://www.eeas.europa.eu/eeas/crimea-illegal-annexation_en)  \r\n\r\n### Similar projects\r\n\r\n-  [GeoPandas](https://github.com/nvkelso/natural-earth-vector/issues/391)\r\n-  [Plotly](https://github.com/plotly/plotly.py/issues/3719)\r\n-  [Metabase](https://discourse.metabase.com/t/world-map-must-display-crimea-as-ukraine/19623)\r\n-  [Natural Earth](https://github.com/nvkelso/natural-earth-vector/issues/391)\r\n\r\n### Notes\r\n\r\nThis change does not express a political opinion but rather aligns Superset\u2019s base geographic data with internationally accepted standards, consistent with other open datasets and widely used mapping providers (e.g., Natural Earth, OpenStreetMap, UN geospatial data).",
  "Requirement ID: ISSUE-35612\nTitle: fix: no fs logging of extensions unless flag is set\nState: closed\nAuthor: villebro\nLabels: size/L, logging\nBody:\n### SUMMARY\r\nCurrently we're logging that extensions are initialized successfully even if the feature flag isn't set. This moves the feature flag check one level up to avoid triggering this log unless the FF is enabled.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35610\nTitle: feat(async_queries): add retry logic for Celery tasks\nState: open\nAuthor: tharani694\nLabels: size/M, global:async-query\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\nCurrently, transient failures in async query tasks cause jobs to fail immediately, leading to a poor user experience in SQL Lab and Explore views. By adding retry logic, temporary network or DB issues are automatically retried, improving system reliability.\r\n\r\nThis PR introduces retry logic to Superset\u2019s backend Celery tasks that handle asynchronous queries. Currently, load_chart_data_into_cache and load_explore_json_into_cache fail immediately on transient errors like database operational errors or network timeouts. This PR enhances reliability by allowing automatic retries.\r\n\r\n### Changes Made:\r\nAdded retry logic to both tasks:\r\n- Retries on OperationalError, ConnectionError, Timeout\r\n- max_retries=3, retry_backoff=True, retry_backoff_max=60s\r\n\r\nBind Celery tasks (bind=True) to access retry count (self.request.retries) for logging\r\n\r\nPreserved existing functionality:\r\n- Soft timeouts (SoftTimeLimitExceeded)\r\n- SupersetVizException handling\r\n- Cache creation and update logic\r\n\r\nType annotations added for self to satisfy mypy and pre-commit\r\nNo frontend or documentation changes included\r\nBackend-only PR: frontend pre-commit checks intentionally skipped.\r\n\r\n### TESTING\r\n\r\n- Passed Python pre-commit hooks (except frontend hooks).\r\n- Verified cache update and async_query_manager updates work correctly.\r\n- To Manually test in a local Celery + Superset environment, simulated transient DB/network errors which retried task successfully.\r\n- Passed Type checks with mypy\r\n\r\n\r\nRelated Issue: [#30351](https://github.com/apache/superset/issues/30351?utm_source=chatgpt.com)\r\n \u2013 Addresses retry mechanisms for asynchronous tasks in SQL Lab.\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35609\nTitle: fix(dataset): improve SQL validation and access checks in UpdateDatasetCommand\nState: closed\nAuthor: ysinghc\nLabels: size/L, authentication:access-control, data:dataset\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nThis pull request refactors the SQL access validation logic in the `_validate_sql_access` method of `superset/commands/dataset/update.py`. The main improvement is separating SQL syntax validation and table extraction from access checks, ensuring that permission checks are performed for each table referenced in the SQL, rather than prematurely returning or checking database-level access.\r\n\r\n**SQL access validation improvements:**\r\n\r\n* The method now first validates SQL syntax and extracts tables using `security_manager.get_tables_from_sql` before checking permissions, avoiding early returns and ensuring all referenced tables are considered.\r\n* For each extracted table, the method checks if the user has access using `security_manager.raise_for_access`, providing more granular permission checks.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\ntests/unit_tests/commands/dataset/test_create.py\r\ntests/unit_tests/commands/dataset/test_update_sql_validation.py\r\ntests/unit_tests/commands/dataset/update_test.py\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [X] Has associated issue: \"Fixes #35559\"\r\n- [ ] Required feature flags: None\r\n- [ ] Changes UI: No\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351)): No\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API: No - this is a refactoring of existing functionality\r\n- [ ] Removes existing feature or API: No",
  "Requirement ID: ISSUE-35608\nTitle: (DO NOT MERGE) Marshmallow upgrade to >= 4.0.0: PR to visualize the changes of my branch\nState: closed\nAuthor: Austin-X\nLabels: size/L\nBody:\n_Ignore this PR, I opened it accidentally._",
  "Requirement ID: ISSUE-35607\nTitle: docker compose up --build fails on 5.0.0 with No matching distribution found for uv\nState: open\nAuthor: DataStrategistTeam\nLabels: install:docker\nBody:\n### Bug description\n\n\n**Description:**\nWhen trying to build Superset from the 5.0.0 tag using Docker Compose, the build fails due to a missing dependency `uv`.\n\n**Steps to Reproduce:**\n1. Clone the repo and checkout the 5.0.0 tag:\n   ```bash\n   git clone https://github.com/apache/superset.git\n   cd superset/\n   git fetch origin --tags\n   git checkout -b dev 5.0.0\n   ```\n2. Run:\n   ```bash\n   docker compose up --build\n   ```\n\n**Observed Behavior:**\nThe build fails with the following error:\n```\nERROR: Could not find a version that satisfies the requirement uv (from versions: none)\nERROR: No matching distribution found for uv\n```\n\n**Expected Behavior:**\nThe Docker image should build successfully without dependency resolution errors.\n\n**Environment:**\n- Superset version: 5.0.0 (tag)\n- Docker version 28.3.2, build 578ccf6\n- OS: Ubuntu 24.04\n\n**Additional Context:**\nIt seems the `uv` package is not available on PyPI, which causes the build to fail. Possibly a missing or misconfigured dependency in `requirements` or `constraints`.\n\n\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\n5.0.0\n\n### Python version\n\n3.11\n\n### Node version\n\n18 or greater\n\n### Browser\n\nNot applicable\n\n### Additional context\n\n```\ndocker compose up --build\n[+] Building 292.8s (24/70)                                                                                                                                             \n => [internal] load local bake definitions                                                                                                                         0.0s\n => => reading from stdin 3.24kB                                                                                                                                   0.0s\n => [superset-websocket internal] load build definition from Dockerfile                                                                                            0.0s\n => => transferring dockerfile: 1.20kB                                                                                                                             0.0s\n => [superset-worker-beat internal] load build definition from Dockerfile                                                                                          0.0s\n => => transferring dockerfile: 9.69kB                                                                                                                             0.0s\n => [superset-websocket internal] load metadata for docker.io/library/node:16-alpine                                                                               0.0s\n => [superset-websocket internal] load .dockerignore                                                                                                               0.0s\n => => transferring context: 842B                                                                                                                                  0.0s\n => [superset-worker internal] load metadata for docker.io/library/python:3.11.13-slim-bookworm                                                                    0.0s\n => [superset-node internal] load metadata for docker.io/library/node:20-bookworm-slim                                                                             0.0s\n => [superset-node internal] load .dockerignore                                                                                                                    0.0s\n => => transferring context: 1.28kB                                                                                                                                0.0s\n => [superset-websocket internal] load build context                                                                                                               0.0s\n => => transferring context: 1.77kB                                                                                                                                0.0s\n => [superset-websocket build 1/4] FROM docker.io/library/node:16-alpine                                                                                           0.0s\n => [superset-worker superset-node-ci 1/8] FROM docker.io/library/node:20-bookworm-slim                                                                            0.0s\n => [superset-node internal] load build context                                                                                                                    0.2s\n => => transferring context: 398.08kB                                                                                                                              0.1s\n => [superset-worker-beat] importing cache manifest from apache/superset-cache:3.10-slim-bookworm                                                                  1.4s\n => => inferred cache manifest type: application/vnd.oci.image.manifest.v1+json                                                                                    0.0s\n => [superset-worker internal] load build context                                                                                                                  0.4s\n => => transferring context: 487.42kB                                                                                                                              0.3s\n => [superset-worker python-base 1/6] FROM docker.io/library/python:3.11.13-slim-bookworm                                                                          0.0s\n => CACHED [superset-worker superset-node-ci 2/8] COPY docker/ /app/docker/                                                                                        0.0s\n => CACHED [superset-websocket build 2/4] WORKDIR /home/superset-websocket                                                                                         0.0s\n => CACHED [superset-websocket build 3/4] COPY . ./                                                                                                                0.0s\n => CANCELED [superset-websocket build 4/4] RUN npm ci &&   npm run build                                                                                        291.1s\n => CANCELED [superset-node superset-node-ci 3/8] RUN /app/docker/apt-install.sh build-essential python3 zstd                                                    291.1s\n => CACHED [superset-worker python-base 2/6] RUN mkdir -p /app/superset_home                                                                                       0.0s\n => CACHED [superset-worker python-base 3/6] RUN useradd --user-group -d /app/superset_home -m --no-log-init --shell /bin/bash superset     && chmod -R 1777 /app  0.0s\n => CACHED [superset python-base 4/6] COPY --chmod=755 docker/*.sh /app/docker/                                                                                    0.0s\n => ERROR [superset-worker python-base 5/6] RUN pip install --no-cache-dir --upgrade uv                                                                          290.6s\n------\n > [superset-worker python-base 5/6] RUN pip install --no-cache-dir --upgrade uv:\n42.75 WARNING: Retrying (Retry(total=4, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<pip._vendor.urllib3.connection.HTTPSConnection object at 0x7276bd135990>: Failed to establish a new connection: [Errno -3] Temporary failure in name resolution')': /simple/uv/\n83.29 WARNING: Retrying (Retry(total=3, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<pip._vendor.urllib3.connection.HTTPSConnection object at 0x7276bd136250>: Failed to establish a new connection: [Errno -3] Temporary failure in name resolution')': /simple/uv/\n124.3 WARNING: Retrying (Retry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<pip._vendor.urllib3.connection.HTTPSConnection object at 0x7276bd136990>: Failed to establish a new connection: [Errno -3] Temporary failure in name resolution')': /simple/uv/\n166.4 WARNING: Retrying (Retry(total=1, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<pip._vendor.urllib3.connection.HTTPSConnection object at 0x7276bd137150>: Failed to establish a new connection: [Errno -3] Temporary failure in name resolution')': /simple/uv/\n210.4 WARNING: Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<pip._vendor.urllib3.connection.HTTPSConnection object at 0x7276bd137cd0>: Failed to establish a new connection: [Errno -3] Temporary failure in name resolution')': /simple/uv/\n250.5 ERROR: Could not find a version that satisfies the requirement uv (from versions: none)\n250.5 ERROR: No matching distribution found for uv\n------\nDockerfile:117\n\n--------------------\n\n 115 |     COPY --chmod=755 docker/*.sh /app/docker/\n\n 116 |     \n\n 117 | >>> RUN pip install --no-cache-dir --upgrade uv\n\n 118 |     \n\n 119 |     # Using uv as it's faster/simpler than pip\n\n--------------------\n\ntarget superset-worker-beat: failed to solve: process \"/bin/sh -c pip install --no-cache-dir --upgrade uv\" did not complete successfully: exit code: 1\n\n```\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35606\nTitle: refactor(frontend): convert DatasourceEditor tests to TypeScript\nState: closed\nAuthor: sadpandajoe\nLabels: size/L\nBody:\n## SUMMARY\nConverts DatasourceEditor test files from JSX to TypeScript as part of the frontend modernization effort to eliminate JavaScript files and improve type safety.\n\n**Files converted:**\n- DatasourceEditor.test.jsx \u2192 .tsx\n- DatasourceEditorCurrency.test.jsx \u2192 .tsx  \n- DatasourceEditorRTL.test.tsx \u2192 .tsx\n- mockDatasource.js \u2192 .ts\n\n**Key improvements:**\n- Eliminated all `any` types by using proper `DatasetObject` type from existing codebase\n- Created `DatasourceEditorProps` interface for component props\n- Derived `MetricType` from dataset metrics array for type-safe assertions\n- Added missing properties to mockDatasource fixture to satisfy TypeScript\n- Fixed 2 failing tests by correcting metric row selection (accounting for ID sorting)\n\n## BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\nN/A - Test file conversion only\n\n## TESTING INSTRUCTIONS\n```bash\n# Run all DatasourceEditor tests\nnpm test -- src/components/Datasource/components/DatasourceEditor/tests/*.test.tsx --no-coverage\n\n# Should show: 32/32 tests passing (100%)\n```\n\n## ADDITIONAL INFORMATION\n- All pre-commit hooks passing (eslint, type-checking, prettier)\n- Zero TypeScript `any` types - all properly typed using existing type definitions\n- Maintained all existing test functionality with enhanced type safety\n- Test improvements: Added onChange callback verification and async/await consistency",
  "Requirement ID: ISSUE-35605\nTitle: fix(ag-grid): fix conditional formatting theme colors and module extensibility\nState: open\nAuthor: gabotorresruiz\nLabels: size/L, viz:charts, plugins, packages\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nThis PR fixes theme-switching issues in the AG Grid Table V2 chart, adds some visual enhancements and improves code organization:\r\n\r\n1. **Fixed conditional formatting colors freezing on theme switch**: When users applied conditional formatting with built-in color schemes (success/alert/error) and switched between light and dark themes, the cell background colors would remain frozen with the hex value from the original theme, making text unreadable. The fix ensures color schemes are stored as theme token references and resolved dynamically at render time based on the current theme.\r\n\r\n2. **Fixed thumbnail theme mismatch**: The thumbnail images for `Table V2` were showing the opposite theme (light mode showed dark thumbnail and vice versa). The PNG files were physically swapped to correct this.\r\n\r\n3. **Improved module system extensibility**: added `defaultModules`, which are the default `AG Grid` modules registered when calling `setupAGGridModules()`.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n#### Thumbnail Theme Mismatch Fix\r\nBefore:\r\n<img width=\"1110\" height=\"766\" alt=\"Screenshot 2025-10-10 at 15 52 55\" src=\"https://github.com/user-attachments/assets/d623c8ff-ef6e-426a-8b70-c34d31298b89\" />\r\n<img width=\"1117\" height=\"768\" alt=\"Screenshot 2025-10-10 at 15 50 39\" src=\"https://github.com/user-attachments/assets/26e9ca18-7639-4379-bb23-3d3d1037d19d\" />\r\n\r\nAfter:\r\n<img width=\"1107\" height=\"768\" alt=\"Screenshot 2025-10-10 at 16 02 37\" src=\"https://github.com/user-attachments/assets/4682a1ee-6c20-42d5-be2d-6fd58b3cc4a5\" />\r\n<img width=\"1117\" height=\"768\" alt=\"Screenshot 2025-10-10 at 15 24 55\" src=\"https://github.com/user-attachments/assets/9c954008-1155-41cd-b8f5-5eb9711a43ac\" />\r\n\r\n#### Conditional Formatting Theme-Switching Fix:\r\nBefore\r\n![before-bad-bar-colors](https://github.com/user-attachments/assets/cf4d800e-defa-41ac-9217-eb9ddf4f749a)\r\n\r\nAfter\r\n![correct-bar-color-after](https://github.com/user-attachments/assets/ea62c822-c0d1-463d-bcff-bac928988c5a)\r\n\r\n#### Visual enhancements\r\nBefore (Not vertically centered)\r\n<img width=\"313\" height=\"150\" alt=\"Screenshot 2025-10-10 at 16 06 40\" src=\"https://github.com/user-attachments/assets/6c7bd461-302c-4f95-b537-a2a6b4ce13ad\" />\r\n\r\nAfter (Vertically centered)\r\n<img width=\"329\" height=\"150\" alt=\"Screenshot 2025-10-10 at 15 27 16\" src=\"https://github.com/user-attachments/assets/035c02de-e097-4528-aaf8-a260a9df402c\" />\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n#### Test 1: Thumbnail Theme Mismatch Fix\r\n1. Make sure `\"AG_GRID_TABLE_ENABLED\": True` in `superset/config.py`\r\n2. Switch to **light mode**\r\n3. Go to **Charts** \u2192 **+ Chart**\r\n4. Choose chart type: `Table`\r\n5. Find **Table V2** visualization type\r\n6. Verify the thumbnail shows a **light theme table** (white background)\r\n7. Switch to **dark mode**\r\n8. Verify the thumbnail shows a **dark theme table** (dark background)\r\n\r\n#### Test 2: Conditional Formatting Theme-Switching Fix\r\n1. Create a new **Table V2** chart with a numeric metric (e.g., `SUM(num)` from `examples.birth_names`)\r\n2. Go to **Customize** tab \u2192 **Conditional formatting**\r\n3. Click **+ Add new color formatter**\r\n4. Configure:\r\n   - **Column**: Select your metric column\r\n   - **Color scheme**: Select **alert** (warning colors)\r\n   - **Operator**: Select **None** (applies to all values)\r\n5. Click **Apply** and **Update Chart**\r\n6. In **dark mode**: Verify cells have dark brown background with readable white text\r\n7. Switch to **light mode** (user menu \u2192 theme toggle)\r\n8. Verify cells now have light yellow background with readable dark text\r\n9. Switch back to **dark mode**\r\n10. Verify cells return to dark brown background\r\n11. Repeat steps 2-10 with **success** and **error** color schemes\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35604\nTitle: test: FAB 5.0.1rc1\nState: closed\nAuthor: dpgaspar\nLabels: size/XS\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35603\nTitle: fix(config.py): reset HTML_SANITIZATION to True by default\nState: closed\nAuthor: qleroy\nLabels: size/XS, install:config\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\nReset `HTML_SANITIZATION=True`  in `superset/config.py`.\r\nFor security concerns, HTML sanitization should be set to True by default.\r\n#34276 caused the regression.\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [X] Has associated issue: Fixes #35555\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35601\nTitle: fix(SqlLab): South pane visual changes\nState: open\nAuthor: msyavuz\nLabels: size/L, sqllab:design, packages\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nThis pr improves the design on SouthPane on SQLLab according to design input. In the process i also extracted ActionButton to a seperate component so that it can be used in other places without duplicate code.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\nBefore:\r\n<img width=\"1700\" height=\"1161\" alt=\"image\" src=\"https://github.com/user-attachments/assets/e71d2c95-ef53-4a64-90a1-75e232af5a33\" />\r\n<img width=\"1700\" height=\"1161\" alt=\"image\" src=\"https://github.com/user-attachments/assets/c30b8acd-7804-4463-86aa-fb80feea8da6\" />\r\n<img width=\"1700\" height=\"1161\" alt=\"image\" src=\"https://github.com/user-attachments/assets/3af19637-b0d9-4d3b-8d13-bcaefe1f94fb\" />\r\n\r\n\r\nAfter:\r\n<img width=\"1700\" height=\"1161\" alt=\"image\" src=\"https://github.com/user-attachments/assets/378ed6a8-9550-4d5d-bb5d-bdfad092afe1\" />\r\n<img width=\"1700\" height=\"1161\" alt=\"image\" src=\"https://github.com/user-attachments/assets/fa9733d1-7bf3-441b-a24b-19e94e4b7a6a\" />\r\n<img width=\"1700\" height=\"774\" alt=\"image\" src=\"https://github.com/user-attachments/assets/c7d7fa5a-cf21-41bc-ab0e-2d71b370bbdb\" />\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\nVisual testing of sqllab southpane\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35595\nTitle: fix: Log Celery task failures with a signal handler\nState: closed\nAuthor: eschutho\nLabels: size/S, alert-reports, preset-io, v6.0\nBody:\nAdded a signal handler to log task failures for Celery tasks.\r\n\r\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nAdding a retry and more logging on the reports.schedule task to help with silent failures. \r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\nTBD\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35594\nTitle: Superset User Management Logging/Auditing\nState: closed\nAuthor: LeandroMartinMacato\nLabels: infra:logging, global:users\nBody:\nHello we have a fork using Superset version 3.1.1, we tried creating a custom `DbEventLogger` and was able to put custom code in actions but there is no trigger for User Management actions (Ex: Add user , edit User etc..)\r\n\r\nwe are planning to make User Management Security Auditing for (CRUD) operations, would appreciate help on how we could make logging actions on user management\r\n\r\nthank you!\r\n\r\n```python\r\n# Inside `superset_config.py`\r\n\r\nclass CustomUserEventLogger(DBEventLogger):\r\n    def log(self, user_id, action, *args, **kwargs):\r\n        print(f\"USER: {user_id} >>>>>>>> PERFORMED : {action} <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<\")\r\n        # You can add custom logic here to filter for user management actions\r\n        if action in [\"user_create\", \"user_update\", \"user_delete\"]:\r\n            # Add your custom logging logic here\r\n            print(f\"User management action: {action}, user_id: {user_id}, details: {kwargs}\")\r\n        # Call the parent logger to keep default behavior\r\n        super().log(user_id, action, *args, **kwargs)\r\n\r\nEVENT_LOGGER = CustomUserEventLogger()\r\n```\r\n\r\n_Originally posted by @LeandroMartinMacato in https://github.com/apache/superset/discussions/33538#discussioncomment-14642292_",
  "Requirement ID: ISSUE-35592\nTitle: fix(alerts): log execution_id instead of report schedule name in query timing\nState: closed\nAuthor: eschutho\nLabels: size/XS, alert-reports, logging, v6.0\nBody:\n## Description\n\nThis PR improves logging for alert/report execution by logging the `execution_id` instead of the report schedule name in query timing logs. This makes it easier to correlate logs across the execution flow when debugging issues.\n\n### Relevant ticket(s)\n* Internal debugging improvement - no external ticket\n\n### Screenshots\nN/A - logging change only\n\n## Test plan\n\n- [x] Code review - verify the change logs execution_id instead of report schedule name\n- [x] Verify pre-commit hooks pass\n- [ ] Manual testing: Execute an alert and verify the log message includes execution_id\n\nTest env URL (if any): N/A",
  "Requirement ID: ISSUE-35591\nTitle: fix(reports): improve timeout error messages for chart data fetching\nState: open\nAuthor: aminghadersohi\nLabels: size/M, alert-reports, viz:charts\nBody:\n### SUMMARY\r\n\r\nImproves error messages when report execution times out during chart data fetching (CSV/DataFrame generation). When a Celery soft timeout (`SoftTimeLimitExceeded`) occurs while fetching chart data, the error message now includes:\r\n\r\n- Chart name and ID\r\n- Configured timeout value\r\n- Actionable suggestions (optimize query or increase timeout)\r\n\r\n**Problem**: When chart queries exceed Celery's soft timeout during report execution, the timeout exception was caught but provided no context about which chart failed or why. This made debugging customer issues extremely difficult, as seen in the Stonebridge case where an execution ID was assigned but no meaningful error was logged.\r\n\r\n**Solution**: Enhanced timeout exception classes to accept custom error messages and added detailed error logging with chart context when `SoftTimeLimitExceeded` occurs during chart data fetching.\r\n\r\n**Note**: This addresses Celery-level timeouts during chart data fetching, which is different from the working timeout check that runs between execution attempts. The Celery timeout happens at the task/worker level and can occur before Superset's working timeout logic executes.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n\r\n**Before**: \r\n```\r\nA timeout occurred while generating a csv.\r\n```\r\n\r\n**After**:\r\n```\r\nTimeout fetching CSV data for chart 'Sales Report' (ID: 691). The chart query exceeded the 1800 second timeout limit. Consider optimizing the chart query or increasing the working timeout.\r\n```\r\n\r\n### TESTING INSTRUCTIONS\r\n\r\n1. Create a report with a chart that has a slow database query (or mock a timeout)\r\n2. Set a low working timeout value (e.g., 10 seconds)\r\n3. Trigger the report execution\r\n4. When timeout occurs, check the execution log error message\r\n5. Verify the error message includes chart name, ID, timeout value, and suggestions\r\n\r\nAlternatively, to test Celery-level timeout:\r\n1. Set `CELERYD_TASK_SOFT_TIME_LIMIT` to a low value (e.g., 60 seconds)\r\n2. Create a report with a chart query that takes longer than 60 seconds\r\n3. Trigger report execution\r\n4. Verify the error log shows detailed timeout information with chart context\r\n\r\n### ADDITIONAL INFORMATION\r\n\r\n- [ ] Has associated issue: No\r\n- [ ] Required feature flags: None\r\n- [ ] Changes UI: No\r\n- [ ] Includes DB Migration: No\r\n- [ ] Introduces new feature or API: No\r\n- [ ] Removes existing feature or API: No",
  "Requirement ID: ISSUE-35590\nTitle: test(frontend): remove 3 duplicate JSX test files\nState: closed\nAuthor: sadpandajoe\nLabels: size/XL, change:frontend\nBody:\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nRemoves 3 duplicate JSX test files that have TypeScript counterparts already in the codebase. This cleanup aligns with the frontend modernization effort to eliminate JavaScript files.\r\n\r\nFiles removed:\r\n  1. ListView.test.jsx - All tests merged into existing ListView.test.tsx (now 9 tests total)\r\n  2. DatasourceControl.test.jsx - Duplicate of comprehensive DatasourceControl.test.tsx (21 tests)\r\n  3. VizTypeControl.test.jsx - Duplicate of comprehensive VizTypeControl.test.tsx (10 tests)\r\n\r\nImpact:\r\n  - 4 files changed, 259 insertions(+), 575 deletions(-)\r\n  - Net reduction: 316 lines\r\n  - All 40 tests passing \u2705\r\n\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\nVerify all migrated tests pass:\r\n  npm run test -- src/components/ListView/ListView.test.tsx\r\n  npm run test -- src/explore/components/controls/DatasourceControl/DatasourceControl.test.tsx\r\n  npm run test -- src/explore/components/controls/VizTypeControl/VizTypeControl.test.tsx\r\n\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35589\nTitle: fix: fix extension e2e flow\nState: closed\nAuthor: villebro\nLabels: size/L, change:frontend\nBody:\n### SUMMARY\r\nGeneral cleanup of the extension scaffolding logic, including:\r\n- Added missing webpack and TS configs required for successfully building the frontend assets.\r\n- Added required FE and BE templates for `superset-extensions build` to work after having completed `superset-extensions init`\r\n- Fixed `@apache-superset/core` dependency to use the actual published npm package.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35588\nTitle: fix(slack): improve rate limit error handling and logging\nState: open\nAuthor: aminghadersohi\nLabels: size/M, logging\nBody:\n### SUMMARY\n\nFixes the issue where Slack API rate limit errors (HTTP 429) were being swallowed or masked by generic error messages in the `slack-sdk` library's retry handler. This change improves observability and reliability of Slack integrations by adding explicit error detection and detailed logging.\n\n**Root Cause**: The `RateLimitErrorRetryHandler` in the slack-sdk library can re-raise errors without proper context when certain conditions are met. When these errors bubble up to generic exception handlers, they get logged as \"Failed to send a request to Slack API server\" instead of clearly indicating a rate limit issue.\n\n**Changes**:\n- Increased retry count from 2 to 4 to provide more buffer before failure\n- Added explicit error handling for HTTP 429 rate limit responses in `get_channels()`\n- Enhanced logging to include:\n  - Retry-After header value from Slack API\n  - Indication that retry handler may have failed or exhausted retries\n  - Full error context for debugging\n- Added client initialization logging for debugging\n- Fixed edge case where `ex.response` could be a string instead of response object using `hasattr()` check\n\n**Impact**: Rate limit errors will now be clearly visible in monitoring systems like Datadog with actionable information (Retry-After values, retry counts), making it much easier to diagnose and respond to Slack API rate limiting issues.\n\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\n\nN/A - Backend logging improvement\n\n### TESTING INSTRUCTIONS\n\n1. All existing unit tests pass: `pytest tests/unit_tests/utils/slack_test.py`\n2. Pre-commit hooks pass: `pre-commit run --files superset/utils/slack.py`\n3. To manually test rate limiting:\n   - Configure Slack integration in Superset\n   - Trigger multiple rapid Slack API calls (e.g., by editing multiple alert configurations)\n   - Observe error logs - they should now clearly indicate \"Slack API rate limit exceeded (HTTP 429)\" with Retry-After information instead of generic errors\n\n### ADDITIONAL INFORMATION\n\n- [ ] Has associated issue:\n- [ ] Required feature flags:\n- [ ] Changes UI\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\n  - [ ] Confirm DB migration upgrade and downgrade tested\n  - [ ] Runtime estimates and downtime expectations provided\n- [ ] Introduces new feature or API\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35587\nTitle: fix: add utc=True to pd.to_datetime for timezone-aware datetimes\nState: open\nAuthor: aminghadersohi\nLabels: change:backend, size/XS\nBody:\n### SUMMARY\r\n\r\nFixes a production error where timezone-aware datetime columns from database query results failed to convert to PyArrow tables.\r\n\r\n**Error**: [`ValueError: Tz-aware datetime.datetime cannot be converted to datetime64 unless utc=True`](https://app.datadoghq.com/logs?query=environment%3Aproduction%20service%3Asuperset%20status%3Aerror%20%40component%3Aapp&agg_m=count&agg_m_source=base&agg_t=count&clustering_pattern_field_path=message&fromUser=true&refresh_mode=sliding&saved-view-id=864224&storage=hot&viz=pattern&from_ts=1758129033878&to_ts=1759425033878&live=true) \r\n\r\n**Root Cause**: When pandas encounters timezone-aware datetime objects, it requires the `utc=True` parameter in `pd.to_datetime()` to properly handle timezone information.\r\n\r\n**Solution**: Added `utc=True` parameter to `pd.to_datetime()` call in `superset/result_set.py:173`\r\n\r\nThis ensures timezone information is preserved when converting query results to PyArrow tables while maintaining backward compatibility with existing timezone-naive datetime handling.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n\r\nN/A - Backend fix\r\n\r\n### TESTING INSTRUCTIONS\r\n\r\n1. Run the existing unit test that covers this scenario:\r\n   ```bash\r\n   pytest tests/unit_tests/result_set_test.py::test_timezone_series -v\r\n   ```\r\n\r\n2. The test verifies that timezone-aware datetimes are correctly converted without raising exceptions\r\n\r\n3. All 5 unit tests in `result_set_test.py` pass\r\n\r\n### ADDITIONAL INFORMATION\r\n\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35586\nTitle: fix(csv upload): Correctly casting to string numbers with floating points (e+)\nState: closed\nAuthor: luizotavio32\nLabels: size/M, data:csv, v6.0\nBody:\n### SUMMARY\r\nImproved CSV reader type casting by allowing pandas to handle `str`, `object`, and `string` types directly instead of forcing all type conversions through custom casting logic.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n**Before**\r\n<img width=\"207\" height=\"149\" alt=\"image\" src=\"https://github.com/user-attachments/assets/3c3ba4c3-eab2-4a1e-956f-865ab523b072\" />\r\n\r\n\r\n**After**\r\n<img width=\"207\" height=\"149\" alt=\"image\" src=\"https://github.com/user-attachments/assets/f5cc01ab-9987-4675-a82a-b08fff7e6d90\" />\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\nUpload a .csv with the following column and values, define the typing as {\"id\":\"str\"}\r\n\r\n```\r\nid\r\n1439403621518935563\r\n42286989\r\n1413660691875593351\r\n8.26839E+17\r\n\r\n```\r\nThe dataset created should have the exact same values as in the csv \r\n\r\n\r\n### REVIEWERS\r\n@justinpark @michael-s-molina",
  "Requirement ID: ISSUE-35585\nTitle: docs: add documentation for Arc to Superset's supported databases\nState: closed\nAuthor: xe-nvdk\nLabels: size/S, data:connect, doc\nBody:\n## What is Arc?\r\n\r\nArc is an open-source time-series data warehouse built on DuckDB, Parquet, and MinIO that delivers exceptional performance:\r\n- **1.89M records/sec** write throughput\r\n- **DuckDB query engine** for fast analytical queries\r\n- **Multi-database architecture** for environment separation and multi-tenancy\r\n- **Parquet columnar storage** with automatic compaction\r\n- **S3-compatible storage** (MinIO, AWS S3, GCS)\r\n\r\n## Changes\r\n\r\n### Documentation Updates\r\n- Added Arc to the supported databases table with connection string format\r\n- Created comprehensive documentation section covering:\r\n  - Installation instructions (`pip install arc-superset-dialect`)\r\n  - Connection string format and parameters\r\n  - API key generation\r\n  - Multi-database (schema) support\r\n  - Example queries including cross-database joins\r\n  - Key features and links to resources\r\n\r\n### Integration Details\r\n- **Package**: [arc-superset-dialect](https://pypi.org/project/arc-superset-dialect/) (v1.2.1)\r\n- **Connection format**: `arc://{api_key}@{hostname}:{port}/{database}`\r\n- **Schema support**: Arc databases appear as Superset schemas\r\n- **Cross-database queries**: Fully supported via DuckDB\r\n\r\n## Testing\r\n\r\nThe Arc Superset dialect has been tested with:\r\n- \u2705 Database connection and authentication\r\n- \u2705 Schema (database) listing\r\n- \u2705 Table discovery and metadata\r\n- \u2705 Single and cross-database SQL queries\r\n- \u2705 Time-series data visualization\r\n\r\n## Links\r\n\r\n- [Arc GitHub Repository](https://github.com/basekick-labs/arc)\r\n- [Arc Superset Dialect](https://github.com/basekick-labs/arc-superset-dialect)\r\n- [PyPI Package](https://pypi.org/project/arc-superset-dialect/)\r\n\r\n## Checklist\r\n\r\n- [x] Documentation follows existing format and style\r\n- [x] Added to supported databases table alphabetically\r\n- [x] Included installation instructions\r\n- [x] Provided connection string format and examples\r\n- [x] Documented key features and use cases\r\n- [x] Added links to relevant resources",
  "Requirement ID: ISSUE-35584\nTitle: fix(export): replace iframe with fetch to avoid CSP frame-src violations\nState: closed\nAuthor: eschutho\nLabels: size/XL, viz:charts:export, dashboard:export, \ud83c\udfaa 513fc30 \ud83d\udcc5 2025-10-10T00-42, \ud83c\udfaa 513fc30 \u231b 48h, \ud83c\udfaa 513fc30 \ud83e\udd21 eschutho, \ud83c\udfaa 513fc30 \ud83d\udea6 running, \ud83c\udfaa 513fc30 \ud83c\udf10 34.214.76.175:8080\nBody:\n### SUMMARY\n\nReplaces iframe-based resource export with fetch API and blob downloads to prevent Content Security Policy (CSP) `frame-src` violations.\n\n**The Problem:**\nThe previous export implementation created hidden iframes to trigger downloads, which violates strict CSP policies that set `frame-src 'none'`. This resulted in console errors:\n```\nRefused to frame '...' because it violates the following Content Security Policy directive: \"frame-src 'none'\"\n```\n\n**The Solution:**\n- Use `SupersetClient.get()` with `parseMethod: 'raw'` to fetch export files as blobs\n- Parse `Content-Disposition` headers for proper filenames\n- Programmatically create download links and trigger them\n- Add proper async/await error handling with user-friendly toast messages\n\n**Benefits:**\n- \u2705 No CSP violations - never attempts to frame URLs\n- \u2705 Better error handling - catches and displays errors to users\n- \u2705 Consistent with existing patterns - follows same approach as dashboard screenshot downloads\n- \u2705 Works with strict Content Security Policies\n\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\n\n**Before:** Browser console shows CSP violation errors when exporting dashboards/charts\n**After:** Exports work cleanly without CSP violations\n\n### TESTING INSTRUCTIONS\n\n1. **Setup**: Ensure your Superset instance has a strict CSP configured (or use browser dev tools to simulate)\n2. **Test Dashboard Export**:\n   - Go to Dashboard List (`/dashboard/list/`)\n   - Select one or more dashboards\n   - Click \"Export\" from the actions menu or bulk actions\n   - Verify the ZIP file downloads successfully\n   - Check browser console - no CSP errors should appear\n3. **Test Chart Export**:\n   - Go to Chart List (`/chart/list/`)\n   - Select one or more charts\n   - Click \"Export\" \n   - Verify download and no console errors\n4. **Test Other Resource Types**:\n   - Repeat for Datasets, Databases, Saved Queries, and Themes\n5. **Test Error Handling**:\n   - Use network throttling or mock a failed API response\n   - Verify error toast appears with helpful message\n   - Verify loading state clears properly\n\n### ADDITIONAL INFORMATION\n\n- [ ] Has associated issue:\n- [ ] Required feature flags: None\n- [ ] Changes UI: No (backend behavior only)\n- [ ] Includes DB Migration: No\n- [ ] Introduces new feature or API: No\n- [ ] Removes existing feature or API: No\n\n**Files Changed:**\n- `superset-frontend/src/utils/export.ts` - Core export utility (iframe \u2192 fetch)\n- `superset-frontend/src/utils/export.test.ts` - Comprehensive unit tests\n- 8 files - Updated export handlers with async/await and error handling:\n  - DashboardList, ChartList, DatasetList, DatabaseList\n  - SavedQueryList, ThemeList, ChartTable, DashboardTable\n\n**Test Coverage:**\n- Unit tests cover success paths, error cases, and edge cases\n- Tests verify correct API calls, blob handling, filename parsing, and cleanup",
  "Requirement ID: ISSUE-35583\nTitle: TypeError: (intermediate value).difference is not a function  in version 5.0.0\nState: open\nAuthor: ralessandro-mox\nLabels: change:frontend\nBody:\n### Bug description\n\nHi,\nI have an Apache Superset installation version 4.0.0 that works correctly.\n\nI\u2019m using the Docker image apache/superset:4.0.0 with a Postgres database, configured through a setup file and an initialization script that launches the command:\n\ngunicorn --bind \"0.0.0.0:$SUPERSET_PORT\" \"superset.app:create_app()\" \\\n    --workers \"$GUNICORN_WORKERS\" \\\n    --threads \"$GUNICORN_THREADS\" \\\n    --timeout \"$GUNICORN_TIMEOUT\" \\\n    --max-requests \"$GUNICORN_MAX_REQUESTS\" \\\n    --preload\n\n\nWhen I upgrade to version 5.0.0, using the image apache/superset:5.0.0, the application starts, applies the database migrations, and I can log in.\n\nHowever, when I open some of the preloaded example dashboards, I get the following error:\n\nTypeError: (intermediate value).difference is not a function at ka (http://localhost:8088/static/assets/3301108a09f8ea91dbb3.chunk.js:1195:162) at Pa (http://localhost:8088/static/assets/3301108a09f8ea91dbb3.chunk.js:1195:6713) at div at http://localhost:8088/static/assets/vendors.550cd2480f8c70dc73c1.entry.js:2:144917 at ko (http://localhost:8088/static/assets/3301108a09f8ea91dbb3.chunk.js:888:51) at div at div at http://localhost:8088/static/assets/vendors.550cd2480f8c70dc73c1.entry.js:2:144917 at ce (http://localhost:8088/static/assets/3301108a09f8ea91dbb3.chunk.js:199:51) at _ (http://localhost:8088/static/assets/3301108a09f8ea91dbb3.chunk.js:2:364292) at div at http://localhost:8088/static/assets/vendors.550cd2480f8c70dc73c1.entry.js:2:144917 at div at http://localhost:8088/static/assets/vendors.550cd2480f8c70dc73c1.entry.js:2:144917 at Pu (http://localhost:8088/static/assets/3301108a09f8ea91dbb3.chunk.js:2042:17) at Yu (http://localhost:8088/static/assets/3301108a09f8ea91dbb3.chunk.js:2297:54) at P (http://localhost:8088/static/assets/e2c4328768742c923137.chunk.js:1:2359) at g (http://localhost:8088/static/assets/vendors.550cd2480f8c70dc73c1.entry.js:2:1029958) at pe (http://localhost:8088/static/assets/e2c4328768742c923137.chunk.js:112:1708) at l (http://localhost:8088/static/assets/6862072183bc9069b522.chunk.js:1:218) at l (http://localhost:8088/static/assets/3652.a19e1c60fb7500d5478f.entry.js:1:67174) at http://localhost:8088/static/assets/\n\nIf I try to edit one of the database connections from the console, the form goes into a loop.\n\nI tried looking online for suggestions but couldn\u2019t find anything about this, and from the release notes it seems that version 5.0.0 is stable.\n\nCan anyone tell me what I might be doing wrong or if they\u2019ve experienced similar issues?\n\nThanks for your attention.\nBest regards,\nAlessandro\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [ ] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [ ] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35582\nTitle: Frontend Error (TypeError: (intermediate value).difference is not a function) with the 5.0.0 version of Apache Superset\nState: closed\nAuthor: ralessandro-mox\nLabels: \nBody:\n### Bug description\n\nHI,\nI have an Apache Superset installation _version 4.0.0_ that works correctly.\n\nI\u2019m using the Docker image apache/superset:4.0.0 with a Postgres database, configured through a setup file and an initialization script that launches the command:\n\n_gunicorn --bind \"0.0.0.0:$SUPERSET_PORT\" \"superset.app:create_app()\" \\\n    --workers \"$GUNICORN_WORKERS\" \\\n    --threads \"$GUNICORN_THREADS\" \\\n    --timeout \"$GUNICORN_TIMEOUT\" \\\n    --max-requests \"$GUNICORN_MAX_REQUESTS\" \\\n    --preload_\n\nwhere $XYZ are some enviroment variabies.\n\nWhen I upgrade to _version 5.0.0,_ using the image apache/superset:5.0.0, the application starts, applies the database migrations, and I can log in.\n\nHowever, when I open some of the preloaded example dashboards, I get the following error:\n\nTypeError: (intermediate value).difference is not a function at ka (http://localhost:8088/static/assets/3301108a09f8ea91dbb3.chunk.js:1195:162) at Pa (http://localhost:8088/static/assets/3301108a09f8ea91dbb3.chunk.js:1195:6713) at div at http://localhost:8088/static/assets/vendors.550cd2480f8c70dc73c1.entry.js:2:144917 at ko (http://localhost:8088/static/assets/3301108a09f8ea91dbb3.chunk.js:888:51) at div at div at http://localhost:8088/static/assets/vendors.550cd2480f8c70dc73c1.entry.js:2:144917 at ce (http://localhost:8088/static/assets/3301108a09f8ea91dbb3.chunk.js:199:51) at _ (http://localhost:8088/static/assets/3301108a09f8ea91dbb3.chunk.js:2:364292) at div at http://localhost:8088/static/assets/vendors.550cd2480f8c70dc73c1.entry.js:2:144917 at div at http://localhost:8088/static/assets/vendors.550cd2480f8c70dc73c1.entry.js:2:144917 at Pu (http://localhost:8088/static/assets/3301108a09f8ea91dbb3.chunk.js:2042:17) at Yu (http://localhost:8088/static/assets/3301108a09f8ea91dbb3.chunk.js:2297:54) at P (http://localhost:8088/static/assets/e2c4328768742c923137.chunk.js:1:2359) at g (http://localhost:8088/static/assets/vendors.550cd2480f8c70dc73c1.entry.js:2:1029958) at pe (http://localhost:8088/static/assets/e2c4328768742c923137.chunk.js:112:1708) at l (http://localhost:8088/static/assets/6862072183bc9069b522.chunk.js:1:218) at l (http://localhost:8088/static/assets/3652.a19e1c60fb7500d5478f.entry.js:1:67174) at http://localhost:8088/static/assets/vendors.550cd2480f8c70dc73c1.entry.js:2:144917 at main at \n....\n\nIf I try to edit one of the database connections from the console, the form goes into a loop.\n\nI tried looking online for suggestions but couldn\u2019t find anything about this, and from the release notes it seems that version 5.0.0 is stable.\n\nCan anyone tell me what I might be doing wrong or if they\u2019ve experienced similar issues?\n\nThanks for your attention.\nBest regards,\nAlessandro\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [ ] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [ ] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35581\nTitle: language_pack/ru/:1   Failed to load resource: the server responded with a status of 404 (NOT FOUND)\nState: open\nAuthor: KirP32\nLabels: i18n\nBody:\n### Bug description\n\nAfter adding\n` \nLANGUAGES = {\n\"ru\": {\"flag\": \"ru\", \"name\": \"Russian\"},\n\"en\": {\"flag\": \"us\", \"name\": \"English\"}\n}\n\nBABEL_DEFAULT_LOCALE = \"ru\"\n`\n to the file, the language selection appeared, but selecting it produces an error in the logs.\n\n\n\n<img width=\"957\" height=\"247\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/94d54c4f-733a-4db9-b5ac-6758041ca192\" />\n\n<img width=\"957\" height=\"145\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/a15f5ae5-d7d3-4837-8397-b08e3b311fe6\" />\n\n**### To reproduce:**\ngit clone https://github.com/apache/superset.git\nin file superset_config.py\n```\nLANGUAGES = {\n\"ru\": {\"flag\": \"ru\", \"name\": \"Russian\"},\n\"en\": {\"flag\": \"us\", \"name\": \"English\"}\n}\n\nBABEL_DEFAULT_LOCALE = \"ru\"\n```\ndocker compose -f docker-compose-non-dev.yml up\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35573\nTitle: fix: prevent cache key mismatch \nState: open\nAuthor: betodealmeida\nLabels: size/L, preset-io, review:draft\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35572\nTitle: fix(Alerts): Correct icon sizes\nState: closed\nAuthor: msyavuz\nLabels: size/M, alert-reports, packages, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nAdjust icon sizes in alerts and reports\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\nBefore:\r\n<img width=\"1693\" height=\"119\" alt=\"image\" src=\"https://github.com/user-attachments/assets/b7918fe6-cbd5-4813-b6fe-182839fd9d11\" />\r\n\r\nAfter:\r\n<img width=\"1687\" height=\"123\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8f9aff14-644e-4d68-993d-79c7d2ce7f66\" />\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\nVisual testing on alerts page\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35569\nTitle: [6.0.0\u2011RC2] Partial Translations\nState: open\nAuthor: innovark37\nLabels: i18n\nBody:\n### Bug description\n\n**Steps to reproduce**\n1. Deploy the Docker version of Superset based on 6.0.0rc2 (same on the master-branch build version).\n2. In config.py set the LANGUAGES variables, for example:\n```\nLANGUAGES = {\n    \"en\": {\"flag\": \"us\", \"name\": \"English\"},\n    \"es\": {\"flag\": \"es\", \"name\": \"Spanish\"},\n    \"it\": {\"flag\": \"it\", \"name\": \"Italian\"},\n    \"fr\": {\"flag\": \"fr\", \"name\": \"French\"},\n    \"zh\": {\"flag\": \"cn\", \"name\": \"Chinese\"},\n    \"zh_TW\": {\"flag\": \"tw\", \"name\": \"Traditional Chinese\"},\n    \"ja\": {\"flag\": \"jp\", \"name\": \"Japanese\"},\n    \"de\": {\"flag\": \"de\", \"name\": \"German\"},\n    \"pl\": {\"flag\": \"pl\", \"name\": \"Polish\"},\n    \"pt\": {\"flag\": \"pt\", \"name\": \"Portuguese\"},\n    \"pt_BR\": {\"flag\": \"br\", \"name\": \"Brazilian Portuguese\"},\n    \"ru\": {\"flag\": \"ru\", \"name\": \"Russian\"},\n    \"ko\": {\"flag\": \"kr\", \"name\": \"Korean\"},\n    \"sk\": {\"flag\": \"sk\", \"name\": \"Slovak\"},\n    \"sl\": {\"flag\": \"si\", \"name\": \"Slovenian\"},\n    \"nl\": {\"flag\": \"nl\", \"name\": \"Dutch\"},\n    \"uk\": {\"flag\": \"uk\", \"name\": \"Ukranian\"},\n}\n```\n3. Compile translations as described [here](https://superset.apache.org/docs/6.0.0/contributing/howtos#applying-translations)\n```\n# Install dependencies if you haven't already\ncd superset-frontend/ && npm ci\n# Compile translations for the frontend\nnpm run build-translation\n\n# inside the project root\ncd ../\npybabel compile -d superset/translations\n```\n3. Open Superset, switch the UI language to any language other than English (e.g., Spanish, French, etc.). \n4. Observe missing translations (e.g. Header, \"Settings\" menu,\"All\" tab on welcome page, control panel while editing chart).\n\n**Expected behavior**\nAll translations are applied in UI as it was in Superset\u202f5.0.0.\n\n**Actual behavior**\nThe user interface is only partially translated.\n\n**Reason for the bug**\nThe regression appears to be introduced in\u202fPR\u202fhttps://github.com/apache/superset/pull/34119, where language pack  is fetching asynchronously.\n\n### Screenshots/recordings\n\n<img width=\"1903\" height=\"908\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/4be021ec-3e4e-4c56-9554-e1957e7acaea\" />\n\n<img width=\"1912\" height=\"758\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/988ebdae-9552-4edd-8e42-bb600b8c18d3\" />\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.11\n\n### Node version\n\n18 or greater\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [ ] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35559\nTitle: Dataset update endpoint missing SQL access validation\nState: closed\nAuthor: lareii\nLabels: data:dataset, api\nBody:\n### Bug description\nWhen updating a dataset via the `PUT /api/v1/dataset/<id>` endpoint, the request does not validate SQL query access permissions. As a result, users can update an existing dataset with a SQL query referencing tables they are not authorized to access. The update request is accepted without any validation errors. Currently, SQL validation and permission checks are performed only during dataset creation (`POST /api/v1/dataset/`), but not during updates.\n\nWe encountered this issue in version 4.1.3, and after testing with the current master branch, we confirmed that the same problem still exists.\n\nWe previously contacted the team via email regarding this issue but did not receive a response. We also reported it via Slack. This is a critical security vulnerability for us, so we\u2019re opening this issue here to formally track and discuss the problem.\n\n### Expected Behavior\nThe same access control logic implemented in the dataset creation endpoint using `security_manager.raise_for_access()` should also be applied to the update endpoint.\n\n### Steps to Reproduce\n1. Create a dataset that you have permission to query.\n2. Send a `PUT /api/v1/dataset/<id>` request with a new SQL query referencing a table you don\u2019t have permission to access.\n3. Observe that the update succeeds without raising any access control errors.\n\n### Actual Behavior\nThe update request is accepted, and the dataset is updated even if the new SQL references unauthorized tables.\n\n### Proposed Solution\nApply the same access control logic from the create endpoint (`security_manager.raise_for_access()`) to the update endpoint.\nThis will enforce SQL query validation during updates and align behavior between the two endpoints.\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.11\n\n### Node version\n\n18 or greater\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35558\nTitle: fix(theme-crud): enable overwrite confirmation UI for theme imports\nState: closed\nAuthor: gabotorresruiz\nLabels: size/L, change:frontend, api, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nPreviously, when attempting to import a theme that already exists in the system, users would receive a validation error message instead of a user-friendly confirmation dialog. This was caused by the theme import API catching `ValidationError` exceptions too early and returning a simple error message.\r\n\r\nThis PR fixes the issue by removing the premature exception handling and allowing `CommandInvalidError`. The global handler structures the response with the proper `extra` field format, which the frontend's `getAlreadyExists()` function parses to display the overwrite confirmation UI.\r\n\r\n### BEFORE/AFTER SCREENSHOTS\r\n<!--- Skip this if not applicable -->\r\n#### Before\r\n<img width=\"770\" height=\"384\" alt=\"Screenshot 2025-10-07 at 19 09 01\" src=\"https://github.com/user-attachments/assets/1de63a7e-31d6-4e75-a456-d036b2bc83ee\" />\r\n\r\n#### After\r\n<img width=\"772\" height=\"395\" alt=\"Screenshot 2025-10-07 at 19 07 42\" src=\"https://github.com/user-attachments/assets/f2ca0467-4bf5-431f-a7fa-a9df45b09c97\" />\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n1. Export an existing theme from your Superset instance\r\n2. Import that theme using the `Theme Import` modal without deleting the theme from your existing themes\r\n3. **Expected behavior**: You should see a confirmation UI asking you to type \"OVERWRITE\" to confirm replacing the existing theme\r\n4. Type \"OVERWRITE\" in the input field and verify the import button becomes enabled\r\n5. Click import to confirm the overwrite works correctly\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35555\nTitle: HTML_SANITIZATION=False by default\nState: closed\nAuthor: qleroy\nLabels: \nBody:\n### Bug description\n\nSince #34276 , `HTML_SANITIZATION=False` in `superset/config.py`,\nIs it intended ?\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [ ] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [ ] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35554\nTitle: Horizontal Bar chart numeric values are not displayed until the end in full\nState: closed\nAuthor: saha23412\nLabels: viz:charts:bar\nBody:\nBar chart in the \"Charts\" section\n<img width=\"1515\" height=\"629\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/745f1282-0e5e-4a56-b0c2-191d41c9081c\" />\n\n\nThis is how the graph is displayed on the dashboard. As you can see in the screenshot below, the largest value is not fully displayed, the value of 912.294 is truncated to 912.29. Moreover, when reproducing the problem on the full screen of the monitor, the numbers are almost not cut off, but if you reduce the size of the browser window (collapse into the window and stretch it not to the full tap) or view on the laptop screen, the numeric values begin to crop.Is it possible to always display values without changing the scale?\n\n<img width=\"767\" height=\"590\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/7495dfeb-11fe-494e-a433-e333fef3c943\" />\n\n<img width=\"624\" height=\"192\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/dfe4514a-f261-4d3f-b61e-136f8bbf685c\" />",
  "Requirement ID: ISSUE-35553\nTitle: fix(charts): resolve column names with spaces breaking x-axis rendering\nState: open\nAuthor: msyavuz\nLabels: size/L, data:connect:mssql, review:draft\nBody:\n## Summary\n\nFixes column names with spaces breaking chart x-axis rendering in MSSQL and SQLite databases.\n\n**Problem:**\n- Column names containing spaces (e.g., \"Test Column\") were causing SQL parsing errors when used on chart x-axis\n- Error: `SELECT Test AS column AS \"Test column\"` - invalid double AS clause\n- Issue introduced in #35482 where `_process_select_expression` incorrectly parsed \"Test column\" as \"Test AS column\"\n- Affected MSSQL and SQLite databases which don't force column alias quoting by default\n\n**Root Cause:**\n1. Column name \"Test column\" sent as sqlExpression\n2. `_process_select_expression` prefixes with \"SELECT\" \u2192 \"SELECT Test column\"\n3. SQL parser interprets unquoted spaces as implicit alias \u2192 \"Test AS column\"\n4. `make_sqla_column_compatible` adds another AS \u2192 \"Test AS column AS [Test column]\"\n\n## Changes\n\n### Core Fixes\n- **Fix `_process_select_expression`**: Quote column names with spaces before SQL parsing to prevent misinterpretation\n- **Add `force_column_alias_quotes = True`** to MSSQL and SQLite engine specs for proper alias quoting\n- **Enhance column processing methods** to distinguish between column names with spaces vs SQL expressions\n\n### Files Modified\n- `superset/models/helpers.py` - Fixed _process_select_expression method\n- `superset/db_engine_specs/mssql.py` - Added force_column_alias_quotes\n- `superset/db_engine_specs/sqlite.py` - Added force_column_alias_quotes  \n- `superset/connectors/sqla/models.py` - Enhanced adhoc_column_to_sqla and TableColumn methods\n- Added comprehensive tests\n\n## Test Plan\n\n- [x] Unit tests pass for column name handling with spaces\n- [x] MSSQL engine spec properly quotes column aliases\n- [x] SQLite engine spec properly quotes column aliases\n- [x] Complex SQL expressions still work with literal_column()\n- [x] Simple column names without spaces use existing efficient path\n- [x] Pre-commit checks pass\n\n**Manual Testing:**\n1. Create dataset with column containing spaces (e.g., \"Test Column\")\n2. Create bar chart with spaced column name on x-axis\n3. Verify chart renders without SQL parsing errors\n4. Test with both MSSQL and SQLite databases\n\n## Before/After\n\n**Before (Broken SQL):**\n```sql\nSELECT Test AS column AS \"Test column\", COUNT(*) AS \"count\"\n```\n\n**After (Fixed SQL):**\n```sql\nSELECT \"Test column\" AS \"Test column\", COUNT(*) AS \"count\"  -- SQLite\nSELECT [Test column] AS [Test column], COUNT(*) AS \"count\"  -- MSSQL\n```\n\nCloses #35493\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)",
  "Requirement ID: ISSUE-35550\nTitle: Cannot override admin credentials\nState: open\nAuthor: Devika7733\nLabels: authentication\nBody:\n### Bug description\n\nHi Team,\n\nI am trying to override the default admin password for Superset by setting ADMIN_PASSWORD in extraEnv, but it still uses the default password.\n\nEven after a clean database installation, the issue persists. Please let me know if any additional configuration is required for the application to use the password I have defined.\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\n5.0.0\n\n### Python version\n\n3.11\n\n### Node version\n\n18 or greater\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35543\nTitle: fix: dataset update with invalid SQL query\nState: closed\nAuthor: dpgaspar\nLabels: sqllab, size/L, data:dataset, v6.0\nBody:\n### SUMMARY\r\nThe dataset update endpoint (PUT /api/v1/dataset/{id}) was missing validation checks that already exist in the dataset creation endpoint. When updating a dataset with a SQL query, the API now properly validates the SQL content, ensuring consistency between create and update operations.\r\n\r\n- Frontend Improvements\r\n\r\nAdded proper error handling to the dataset overwrite flow in SQL Lab. Previously, validation errors during dataset overwrite operations were not being displayed to users, resulting in a poor user experience. The UI now properly catches and displays error messages using toast notifications.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [X] Has associated issue: Fixes #35559\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35542\nTitle: fix: update tag unique constraint to (name, type)\nState: open\nAuthor: eschutho\nLabels: risk:db-migration, size/M, data:databases, preset-io\nBody:\n### SUMMARY\n\nThis PR adds a database migration to update the tag table unique constraint from name-only to a composite constraint on `(name, type)`.\n\nThis migration supports the fix in #35541 that allows the same tag name to exist with different tag types. For example, \"type:dashboard\" can be both a system tag (type='type') and a custom tag (type='custom').\n\n**Migration changes:**\n- Drops the old unique constraint `tag_name_key` on the `name` column\n- Creates new composite unique constraint `uix_tag_name_type` on `(name, type)`\n\n**Why this is needed:**\nThe current single-column unique constraint on `name` prevents the same tag name from being used with different types. This causes issues when:\n1. A system tag like \"type:dashboard\" (type='type') exists\n2. A user tries to create a custom tag with the same name (type='custom')\n3. The database rejects it due to the name-only unique constraint\n\nThe composite constraint allows multiple tags with the same name as long as they have different types.\n\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\nN/A - Database migration\n\n### TESTING INSTRUCTIONS\n1. Apply the migration: `superset db upgrade`\n2. Verify the constraint was updated:\n   - PostgreSQL: `\\d tag` should show `uix_tag_name_type` constraint\n   - MySQL: `SHOW CREATE TABLE tag` should show the composite unique key\n3. Test that tags with same name but different types can coexist:\n   ```python\n   # In Superset shell\n   from superset.tags.models import Tag, TagType\n   from superset import db\n   \n   # Create system tag\n   tag1 = Tag(name=\"foo\", type=TagType.type)\n   db.session.add(tag1)\n   db.session.commit()\n   \n   # Create custom tag with same name - should succeed\n   tag2 = Tag(name=\"foo\", type=TagType.custom)\n   db.session.add(tag2)\n   db.session.commit()  # Should not raise IntegrityError\n   ```\n4. Test downgrade: `superset db downgrade -1`\n\n### ADDITIONAL INFORMATION\n- [ ] Has associated issue: Related to #35541\n- [ ] Required feature flags: None\n- [ ] Changes UI: No\n- [x] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\n  - [x] Migration is atomic, supports rollback & is backwards-compatible\n  - [x] Confirm DB migration upgrade and downgrade tested\n  - [x] Runtime estimates and downtime expectations provided\n- [ ] Introduces new feature or API: No\n- [ ] Removes existing feature or API: No\n\n**Migration Details:**\n- **Atomic**: Yes - single DDL operation wrapped in try/except\n- **Rollback support**: Yes - downgrade() reverts to original constraint\n- **Backwards compatible**: Yes - existing data remains valid\n- **Runtime**: < 1 second on tables with millions of rows (constraint operations are fast)\n- **Downtime**: None - constraint changes don't lock the table for writes on modern databases\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>",
  "Requirement ID: ISSUE-35541\nTitle: fix(tags): filter system tags and rename get_tag to get_or_create_tag\nState: open\nAuthor: eschutho\nLabels: size/M, preset-io, #bug:newfeature\nBody:\n### SUMMARY\n\nThis PR fixes a bug where system tags (owner, type, favorited_by) were being processed as custom tags during dashboard/chart updates, causing duplicate key violations.\n\n**Key Changes:**\n1. **Filter system tags from custom tag updates** - The `update_tags()` function now filters out system tags before creating custom tagged objects. System tags are automatically managed by SQLAlchemy event listeners and should not be manually assigned.\n\n2. **Rename `get_tag` to `get_or_create_tag`** - Clearer function name that explicitly indicates the get-or-create pattern.\n\n3. **Add race condition handling** - Added `IntegrityError` handling in `get_or_create_tag()` to gracefully handle concurrent tag creation attempts.\n\n**Root Cause:**\nWhen updating a dashboard/chart with tag IDs in the payload (e.g., `\"tags\": [10, 3]`), the system was attempting to create custom tagged objects for ALL tag IDs, including system tags. This caused the error when trying to create a custom tag with the same name as an existing system tag (e.g., \"type:dashboard\").\n\n**System Tags Are Still Captured:**\nSystem tags (type, owner, favorited_by) continue to be automatically created and managed by SQLAlchemy event listeners in `superset/tags/models.py`:\n- **`DashboardUpdater.after_insert`** (line 221-236) - Creates `type:dashboard` and `owner:X` tags when dashboards are created\n- **`DashboardUpdater.after_update`** (line 238-275) - Updates `owner:X` tags when owners change\n- **`ChartUpdater.after_insert/after_update`** - Same for charts\n- **`FavStarUpdater.after_insert`** (line 328-351) - Creates `favorited_by:X` tags when users favorite items\n\nThese event listeners fire automatically and independently of the API payload, ensuring system tags are always properly managed. The fix only affects the manual custom tag assignment flow, preventing system tags from being incorrectly processed as custom tags.\n\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\nN/A - Backend fix\n\n### TESTING INSTRUCTIONS\n1. Create a dashboard\n2. Note the system tags automatically created (type:dashboard, owner:X)\n3. Try to update the dashboard with a PUT request including those system tag IDs in the tags array:\n   ```json\n   {\n     \"dashboard_title\": \"Test\",\n     \"tags\": [<system_tag_id>, <system_tag_id>]\n   }\n   ```\n4. **Before**: Would fail with `IntegrityError: duplicate key value violates unique constraint \"tag_name_key\"`\n5. **After**: Successfully updates, system tags are filtered out and continue to be managed by event listeners\n\n### ADDITIONAL INFORMATION\n- [x] Has associated issue: Related to tag system bugs\n- [ ] Required feature flags: None\n- [ ] Changes UI: No\n- [ ] Includes DB Migration: No (model change in separate PR #35542)\n- [ ] Introduces new feature or API: No\n- [ ] Removes existing feature or API: No\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>",
  "Requirement ID: ISSUE-35540\nTitle: refactor(db): use Dialect instead of Engine in select_star to avoid SSH tunnels\nState: open\nAuthor: eschutho\nLabels: change:backend, size/M, data:databases\nBody:\n### SUMMARY\nRefactors the `select_star` method across all database engine specs to use `dialect: Dialect` instead of `engine: Engine` as a parameter. This optimization prevents unnecessary SSH tunnel connections from being created when only the database dialect is needed for SQL generation.\n\n**Problem**: The previous implementation used `get_sqla_engine()` which establishes a full database connection (including SSH tunnels when configured), but the `select_star` method only needs the dialect to generate SQL statements.\n\n**Solution**: \n- Changed `select_star` method signature from `engine: Engine` to `dialect: Dialect` in `BaseEngineSpec` and all subclasses (BigQuery, Hive, Presto)\n- Updated `Database.select_star()` to call lightweight `get_dialect()` instead of `get_sqla_engine()`\n- Removed unused `Engine` imports from Hive and Presto engine specs\n- Updated all related unit tests to pass `dialect` instead of `engine`\n\n**Impact**: This reduces unnecessary connection overhead, particularly for databases configured with SSH tunnels, improving performance when generating SELECT statements for table previews.\n\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\nN/A - Backend refactoring only, no UI changes\n\n### TESTING INSTRUCTIONS\n1. Run the updated unit tests:\n   ```bash\n   pytest tests/unit_tests/db_engine_specs/ -k select_star -v\n   ```\n   All 5 tests should pass (base, bigquery, hive, postgres, presto)\n\n2. Verify type checking passes:\n   ```bash\n   pre-commit run mypy\n   ```\n\n3. (Optional) Test with a database configured with SSH tunnel:\n   - Configure a database connection with SSH tunnel\n   - View a table in SQL Lab\n   - Verify table preview loads correctly without creating extra SSH connections\n\n### ADDITIONAL INFORMATION\n- [ ] Has associated issue:\n- [ ] Required feature flags:\n- [ ] Changes UI\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\n  - [ ] Confirm DB migration upgrade and downgrade tested\n  - [ ] Runtime estimates and downtime expectations provided\n- [ ] Introduces new feature or API\n- [ ] Removes existing feature or API\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.com/claude-code)",
  "Requirement ID: ISSUE-35539\nTitle: fix(theming): solve modal dark theme issues + styling and code improvements\nState: closed\nAuthor: gabotorresruiz\nLabels: size/XXL, change:frontend, global:theming, packages\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nFixes dark theme issues where imperative Modal APIs (`Modal.confirm`, `Modal.error`, `Modal.warning`) render to `document.body` without theme context, causing white backgrounds in `dark mode`.\r\n\r\n**Changes:**\r\n- Created reusable `ConfirmModal` component and `useConfirmModal` hook in `@superset-ui/core`\r\n- Replaced `Modal.confirm` with `useConfirmModal` in:\r\n  - `ControlPanelsContainer` (X-axis filter suggestion)\r\n  - `ResultSet` (CSV download limit warning)\r\n  - Refactored `CopyStyledButton` in `ResultSet` to use themed hover color (`theme.colorPrimary`)\r\n  - `ThemeList` (system default confirmations - refactored for consistency)\r\n- Replaced `Modal.error` with `addDangerToast` in:\r\n  - Dashboard `PropertiesModal` (error handling)\r\n  - Explore `PropertiesModal` (error handling)\r\n- Implemented `Alert` footer pattern in `EmbeddedModal` (deactivation confirmation)\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n#### Before:\r\n![bad-href-button-color-on-hover](https://github.com/user-attachments/assets/5f714ab6-f3ef-4f80-b08c-4804f31af24f)\r\n<img width=\"458\" height=\"220\" alt=\"Screenshot 2025-10-03 at 13 36 36\" src=\"https://github.com/user-attachments/assets/dd0e8fb3-17ea-4259-9fc8-6bd826da4cf7\" />\r\n<img width=\"534\" height=\"661\" alt=\"Screenshot 2025-10-03 at 13 17 16\" src=\"https://github.com/user-attachments/assets/89f01dc0-e91e-4457-9c97-7a8bd5ca499f\" />\r\n<img width=\"527\" height=\"381\" alt=\"Screenshot 2025-10-03 at 13 12 53\" src=\"https://github.com/user-attachments/assets/72e01190-0421-464c-b43c-bbc36c2b6028\" />\r\n<img width=\"535\" height=\"289\" alt=\"Screenshot 2025-10-03 at 13 05 09\" src=\"https://github.com/user-attachments/assets/2b1ec45b-5dd9-4766-af3f-6c61920aa542\" />\r\n<img width=\"675\" height=\"472\" alt=\"Screenshot 2025-10-03 at 13 02 13\" src=\"https://github.com/user-attachments/assets/1d9a288f-983c-465b-89ad-7f98f956e90c\" />\r\n\r\n-------------------------------------------------------------------------------------------\r\n\r\n#### After:\r\n![correct-hover](https://github.com/user-attachments/assets/a1120c36-620a-4550-ad89-614baac98068)\r\n<img width=\"613\" height=\"238\" alt=\"image\" src=\"https://github.com/user-attachments/assets/f8cdaadb-9f1a-4750-8478-e0f98d021fa5\" />\r\n<img width=\"1512\" height=\"826\" alt=\"Screenshot 2025-10-06 at 11 21 37\" src=\"https://github.com/user-attachments/assets/cadb194e-4043-48b6-ad8d-ba2c40fd0437\" />\r\n<img width=\"648\" height=\"316\" alt=\"image\" src=\"https://github.com/user-attachments/assets/05772273-3d53-47db-843c-7d5917f1d8fd\" />\r\n<img width=\"639\" height=\"479\" alt=\"Screenshot 2025-10-06 at 13 56 40\" src=\"https://github.com/user-attachments/assets/3675ae9d-536d-431f-96b7-08587de46f35\" />\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n1. Enable dark theme in Superset\r\n2. **Test ControlPanelsContainer (X-axis filter):**\r\n  - Go to Explore view\r\n  - Choose a dataset (e.g.: channels)\r\n  - Select a chart type with X-axis (e.g.: Line Chart)\r\n  - Choose an X-axis column not in filters (e.g.: topic__last_set)\r\n  - Verify confirmation modal appears with dark theme\r\n3. **Test ResultSet (CSV download warning):**\r\n  - Go to `SQL Lab`\r\n  - Run a query with LIMIT applied\r\n  - Click `Download CSV`\r\n  - Verify warning modal appears with dark theme\r\n  - Verify button hover state uses theme color\r\n5. **Test EmbeddedModal (deactivation):**\r\n  - Enable embedded dashboards in `superset/config.py`\r\n  - Go to a dashboard\r\n  - Open embed settings\r\n  - Activate the embedding\r\n  - Open embed settings again\r\n  - Click \"Deactivate\"\r\n  - Verify Alert component appears inline (not a new modal)\r\n7. **Test PropertiesModal errors:**\r\n  - Trigger validation errors in dashboard/chart properties\r\n  - Verify error toasts appear instead of modal dialogs\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35538\nTitle: fix: update Russian translations [i18n-ru]\nState: open\nAuthor: skalinina\nLabels: i18n, size/XXL, i18n:russian\nBody:\n### SUMMARY\r\n\r\nThis PR updates and improves the Russian localization of Apache Superset. The goal is to enhance clarity and consistency across the interface for Russian-speaking users.\r\n\r\nThis PR updates only `superset/translations/ru/LC_MESSAGES/messages.po`. No other languages or code were modified.\r\n- Fixed inaccurate and fuzzy translations\r\n- Added missing translations\r\n\r\nFollowing the official [instruction](https://superset.apache.org/docs/contributing/howtos/#extracting-new-strings-for-translation), the command `pybabel update -i superset/translations/messages.pot -d superset/translations --ignore-obsolete` was used to refresh the language file. \r\n\r\nAs a result, the POT-Creation-Date field was updated to: `POT-Creation-Date: 2025-04-29 12:34+0330`. This may cause slight differences in formatting, such as how long lines are wrapped. For example:\r\n\r\nCurrent Git version:\r\n```po\r\nmsgid \"\"\r\n\"%(report_type)s schedule frequency exceeding limit. Please configure a schedule \"\r\n\"with a minimum interval of %(minimum_interval)d minutes per execution.\"\r\n```\r\nThis PR:\r\n```po\r\nmsgid \"\"\r\n\"%(report_type)s schedule frequency exceeding limit. Please configure a \"\r\n\"schedule with a minimum interval of %(minimum_interval)d minutes per \"\r\n\"execution.\"\r\n```\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n\r\n### TESTING INSTRUCTIONS\r\nA review from maintainers and contributors familiar with localisation would be appreciated to ensure formatting consistency and verify the translation compilation.\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35537\nTitle: fix(deckgl): scatterplot fix categorical color\nState: closed\nAuthor: DamianPendrak\nLabels: size/M, viz:charts:scatterplot, plugins, v6.0\nBody:\n### SUMMARY\r\nThere was an issue with the deck.gl Scatterplot chart categorical color after refactor from legacy API.\r\n1. Fixes the categorical colors. It was not showing points at all when categorical color was selected\r\n2. When no categorical column is selected, it falls back to the fixed color value if available\r\n3. Changes the default color palette from fixed to categorical\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [X] Has associated issue: Fixes #35499\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35529\nTitle: fix(d3-format): call setupFormatters synchronously to apply D3 format\u2026\nState: closed\nAuthor: innovark37\nLabels: i18n, size/S, v6.0\nBody:\n\u2026 when a non\u2011English language is selected\r\n\r\n### SUMMARY\r\nCall `setupFormatters` synchronously so that the custom D3_FORMAT is applied when a non\u2011English language is selected. See related issue\u202f#35524 for more details.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\nBEFORE\r\n![1_1](https://github.com/user-attachments/assets/7e8a0bd1-c8bb-446c-88ce-3281f0a98ccb)\r\n\r\nAFTER\r\n![1_2](https://github.com/user-attachments/assets/12a4461a-c3a1-4eca-af63-04030a70fcf0)\r\n\r\n### TESTING INSTRUCTIONS\r\n1. In config.py set the LANGUAGES and D3_FORMAT variables, for example:\r\n```\r\nLANGUAGES = {\r\n    \"en\": {\"flag\": \"us\", \"name\": \"English\"},\r\n    \"es\": {\"flag\": \"es\", \"name\": \"Spanish\"},\r\n    \"it\": {\"flag\": \"it\", \"name\": \"Italian\"},\r\n    \"fr\": {\"flag\": \"fr\", \"name\": \"French\"},\r\n    \"zh\": {\"flag\": \"cn\", \"name\": \"Chinese\"},\r\n    \"zh_TW\": {\"flag\": \"tw\", \"name\": \"Traditional Chinese\"},\r\n    \"ja\": {\"flag\": \"jp\", \"name\": \"Japanese\"},\r\n    \"de\": {\"flag\": \"de\", \"name\": \"German\"},\r\n    \"pl\": {\"flag\": \"pl\", \"name\": \"Polish\"},\r\n    \"pt\": {\"flag\": \"pt\", \"name\": \"Portuguese\"},\r\n    \"pt_BR\": {\"flag\": \"br\", \"name\": \"Brazilian Portuguese\"},\r\n    \"ru\": {\"flag\": \"ru\", \"name\": \"Russian\"},\r\n    \"ko\": {\"flag\": \"kr\", \"name\": \"Korean\"},\r\n    \"sk\": {\"flag\": \"sk\", \"name\": \"Slovak\"},\r\n    \"sl\": {\"flag\": \"si\", \"name\": \"Slovenian\"},\r\n    \"nl\": {\"flag\": \"nl\", \"name\": \"Dutch\"},\r\n    \"uk\": {\"flag\": \"uk\", \"name\": \"Ukranian\"},\r\n}\r\n\r\nclass D3Format(TypedDict, total=False):\r\n    decimal: str\r\n    thousands: str\r\n    grouping: list[int]\r\n    currency: list[str]\r\n\r\nD3_FORMAT: D3Format = {\r\n  \"decimal\": \",\",\r\n  \"thousands\": \"\\u00a0\",\r\n  \"grouping\": [3],\r\n  \"currency\": [\"\", \"\\u00a0\\u20bd\"]\r\n}\r\n```\r\n2. Open Superset, switch the UI language to any language other than English (e.g., Spanish, French, etc.).\r\n3. Observe the number formatting on charts and tables. The formatting should match the custom D3_FORMAT.\r\n\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [x] Has associated issue: Fixes #35524\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35527\nTitle: fix(chart): Fixes BigNumber gradient appearing blackish in light mode\nState: closed\nAuthor: rebenitez1802\nLabels: size/XS, viz:charts:bignumber, plugins, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n Fixes the Big Number with Trendline gradient appearing blackish/muddy in light mode by reverting to theme-aware background color.\r\n\r\n PR #35151 changed the gradient endpoint from `theme.colorBgContainer` to `'transparent'` to fix dark mode. However, `'transparent'` is defined as `rgba(0, 0, 0, 0)` (transparent black), causing gradients to interpolate through dark colors in light mode.\r\n\r\n  This PR reverts that change to use `theme.colorBgContainer`, which provides proper theme-aware colors:\r\n  - Light mode: gradient fades to white\r\n  - Dark mode: gradient fades to black\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\nBefore:\r\n<img width=\"1512\" height=\"982\" alt=\"image\" src=\"https://github.com/user-attachments/assets/e999c275-0719-46a3-a8c6-98f1033a6f1c\" />\r\nAfter:\r\n<img width=\"1512\" height=\"982\" alt=\"image\" src=\"https://github.com/user-attachments/assets/3987a51b-b6d0-4efe-90fd-1ff3fbb71e11\" />\r\n<img width=\"1512\" height=\"982\" alt=\"image\" src=\"https://github.com/user-attachments/assets/069cf64f-bfbf-4e51-9502-6b30f66c9cc5\" />\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35526\nTitle: fix(d3-format): call setupFormatters synchronously to apply D3 format\u2026\nState: closed\nAuthor: innovark37\nLabels: i18n, size/S\nBody:\n\u2026 when a non\u2011English language is selected\r\n\r\n### SUMMARY\r\nCall `setupFormatters` synchronously so that the custom D3_FORMAT is applied when a non\u2011English language is selected. See related issue\u202f#35524 for more details.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\nBEFORE\r\n![1_1](https://github.com/user-attachments/assets/7e8a0bd1-c8bb-446c-88ce-3281f0a98ccb)\r\n\r\nAFTER\r\n![1_2](https://github.com/user-attachments/assets/12a4461a-c3a1-4eca-af63-04030a70fcf0)\r\n\r\n### TESTING INSTRUCTIONS\r\n1. In config.py set the LANGUAGES and D3_FORMAT variables, for example:\r\n```\r\nLANGUAGES = {\r\n    \"en\": {\"flag\": \"us\", \"name\": \"English\"},\r\n    \"es\": {\"flag\": \"es\", \"name\": \"Spanish\"},\r\n    \"it\": {\"flag\": \"it\", \"name\": \"Italian\"},\r\n    \"fr\": {\"flag\": \"fr\", \"name\": \"French\"},\r\n    \"zh\": {\"flag\": \"cn\", \"name\": \"Chinese\"},\r\n    \"zh_TW\": {\"flag\": \"tw\", \"name\": \"Traditional Chinese\"},\r\n    \"ja\": {\"flag\": \"jp\", \"name\": \"Japanese\"},\r\n    \"de\": {\"flag\": \"de\", \"name\": \"German\"},/\r\n    \"pl\": {\"flag\": \"pl\", \"name\": \"Polish\"},\r\n    \"pt\": {\"flag\": \"pt\", \"name\": \"Portuguese\"},\r\n    \"pt_BR\": {\"flag\": \"br\", \"name\": \"Brazilian Portuguese\"},\r\n    \"ru\": {\"flag\": \"ru\", \"name\": \"Russian\"},\r\n    \"ko\": {\"flag\": \"kr\", \"name\": \"Korean\"},\r\n    \"sk\": {\"flag\": \"sk\", \"name\": \"Slovak\"},\r\n    \"sl\": {\"flag\": \"si\", \"name\": \"Slovenian\"},\r\n    \"nl\": {\"flag\": \"nl\", \"name\": \"Dutch\"},\r\n    \"uk\": {\"flag\": \"uk\", \"name\": \"Ukranian\"},\r\n}\r\n\r\nclass D3Format(TypedDict, total=False):\r\n    decimal: str\r\n    thousands: str\r\n    grouping: list[int]\r\n    currency: list[str]\r\n\r\n\r\nD3_FORMAT: D3Format = {\r\n  \"decimal\": \",\",\r\n  \"thousands\": \"\\u00a0\",\r\n  \"grouping\": [3],\r\n  \"currency\": [\"\", \"\\u00a0\\u20bd\"]\r\n}\r\n```\r\n2. Open Superset, switch the UI language to any language other than English (e.g., Spanish, French, etc.).\r\n3. Observe the number formatting on charts and tables.\r\n\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [x] Has associated issue: #35524\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35525\nTitle: chore: udpate react-map-gl from v6 to v8 and refactor MapBox chart to TypeScript\nState: open\nAuthor: DamianPendrak\nLabels: size/XXL, viz:charts:deck.gl, plugins, dependencies:npm\nBody:\n### SUMMARY\r\nThis PR updates react-map-gl from version 6 to 8 and includes a refactor of the MapBox chart to TypeScript. The react-map-gl is used in deck.gl charts and the MapBox chart.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35524\nTitle: [6.0.0\u2011RC2] Custom\u202fD3_FORMAT is applied only when the UI language is English\nState: closed\nAuthor: innovark37\nLabels: validation:required\nBody:\n### Bug description\n\nCustom D3_FORMAT defined in config.py is ignored when any language other than English is selected.\n\n**Steps to reproduce**\n1. Deploy the Docker version of Superset based on 6.0.0rc2 (same on the master-branch build version).\n2. In config.py set the LANGUAGES and D3_FORMAT variables, for example:\n```\nLANGUAGES = {\n    \"en\": {\"flag\": \"us\", \"name\": \"English\"},\n    \"es\": {\"flag\": \"es\", \"name\": \"Spanish\"},\n    \"it\": {\"flag\": \"it\", \"name\": \"Italian\"},\n    \"fr\": {\"flag\": \"fr\", \"name\": \"French\"},\n    \"zh\": {\"flag\": \"cn\", \"name\": \"Chinese\"},\n    \"zh_TW\": {\"flag\": \"tw\", \"name\": \"Traditional Chinese\"},\n    \"ja\": {\"flag\": \"jp\", \"name\": \"Japanese\"},\n    \"de\": {\"flag\": \"de\", \"name\": \"German\"},/\n    \"pl\": {\"flag\": \"pl\", \"name\": \"Polish\"},\n    \"pt\": {\"flag\": \"pt\", \"name\": \"Portuguese\"},\n    \"pt_BR\": {\"flag\": \"br\", \"name\": \"Brazilian Portuguese\"},\n    \"ru\": {\"flag\": \"ru\", \"name\": \"Russian\"},\n    \"ko\": {\"flag\": \"kr\", \"name\": \"Korean\"},\n    \"sk\": {\"flag\": \"sk\", \"name\": \"Slovak\"},\n    \"sl\": {\"flag\": \"si\", \"name\": \"Slovenian\"},\n    \"nl\": {\"flag\": \"nl\", \"name\": \"Dutch\"},\n    \"uk\": {\"flag\": \"uk\", \"name\": \"Ukranian\"},\n}\n\nclass D3Format(TypedDict, total=False):\n    decimal: str\n    thousands: str\n    grouping: list[int]\n    currency: list[str]\n\n\nD3_FORMAT: D3Format = {\n  \"decimal\": \",\",\n  \"thousands\": \"\\u00a0\",\n  \"grouping\": [3],\n  \"currency\": [\"\", \"\\u00a0\\u20bd\"]\n}\n```\n3. Open Superset, switch the UI language to any language other than English (e.g., Spanish, French, etc.).\n4. Observe the number formatting on charts and tables.\n\n**Expected behavior**\nThe custom D3_FORMAT defined in config.py should be used regardless of which language is selected, as it was in Superset\u202f5.0.0.\n\n**Actual behavior**\nThe custom D3_FORMAT is applied only when English is selected. For any other language Superset reverts to the default D3 format.\n\n**Reason for the bug**\nThe regression appears to be introduced in\u202fPR\u202f#34119, where `setupFormatters` was changed to be called asynchronously.\n\n**Suggested solution**\nCall `setupFormatters` synchronously, immediately after `getBootstrapData`.\n\n### Screenshots/recordings\n\n![Image](https://github.com/user-attachments/assets/fab468cb-9cfd-4f7b-a54c-50a7de744e65)\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.11\n\n### Node version\n\n18 or greater\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35523\nTitle: fix: update chart with dashboards validation\nState: closed\nAuthor: dpgaspar\nLabels: size/L, api:charts, dashboard, v6.0\nBody:\n### SUMMARY\r\nImproves dashboard validation logic in chart updates to ensure proper permission handling while maintaining backward compatibility. This change refines the validation approach introduced in #22896 to better handle edge cases in chart-to-dashboard relationships.\r\n\r\nThe update ensures that when charts are linked to multiple dashboards owned by different users, the validation correctly handles both existing and new dashboard relationships.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\nNot applicable - backend validation logic change.\r\n\r\n### ADDITIONAL INFORMATION\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35521\nTitle: [6.0.0-RC2] Empty tooltip in Calendar Heatmap chart\nState: closed\nAuthor: fin-gal\nLabels: viz:charts:heatmap, viz:charts:tooltip\nBody:\n### Bug description\n\nWhen using the heatmap calendar chart, the tooltip that appears when moving the mouse across the cells appears but is empty.\n\n<img width=\"330\" height=\"213\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/3ab316c2-c9ea-4644-8357-781ed484bfd0\" />\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35509\nTitle: Update codeql-analysis.yml\nState: closed\nAuthor: narsireddy1900\nLabels: size/M, github_actions\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35508\nTitle: fix: Support metric macro for  embedded users\nState: closed\nAuthor: Vitor-Avila\nLabels: size/M, authentication:access-control, v6.0\nBody:\n### SUMMARY\r\nThe `{{ metric() }}` macro checks if the current user has access to the dataset the metric syntax is coming from. This check is currently not working for embedded users, as they don't have access to datasets.\r\n\r\nThis PR fixes this issue by skipping this validation for embedded users, as the embedded permission is granted at the dashboard level (if the guest user has access to the dashboard, they should see all in it).\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\nNo UI changes.\r\n\r\n### TESTING INSTRUCTIONS\r\n1. Create a chart using the `{{ metric() }}` macro.\r\n2. Access it in embedded mode and confirm the chart works properly.\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35507\nTitle: fix(security): add missing active attribute to GuestUser class\nState: closed\nAuthor: irodriguez-nebustream\nLabels: size/XS, authentication\nBody:\n### SUMMARY\r\nFixes a SupersetApiError where 'GuestUser' object has no attribute 'active' occurred when using guest authentication in embedded dashboards.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<img width=\"2160\" height=\"1486\" alt=\"image\" src=\"https://github.com/user-attachments/assets/7d5193af-0fd1-45ab-9d4d-68c59feb548c\" />\r\n\r\n### TESTING INSTRUCTIONS\r\nSet up Superset with embedded dashboard configuration\r\nCreate a guest token for embedded dashboard access\r\nAccess an embedded dashboard using guest authentication\r\nVerify that the dashboard loads without the 'GuestUser' object has no attribute 'active' error\r\nConfirm that guest user authentication flows work properly throughout the application\r\n\r\n### Changes made:\r\n\r\nAdded [self.active = True](vscode-file://vscode-app/Applications/Visual%20Studio%20Code.app/Contents/Resources/app/out/vs/code/electron-browser/workbench/workbench.html) to the [GuestUser.__init__](vscode-file://vscode-app/Applications/Visual%20Studio%20Code.app/Contents/Resources/app/out/vs/code/electron-browser/workbench/workbench.html) method since guest users are active by definition (they have valid authentication tokens)\r\nAdded [is_active](vscode-file://vscode-app/Applications/Visual%20Studio%20Code.app/Contents/Resources/app/out/vs/code/electron-browser/workbench/workbench.html) property that returns [self.active](vscode-file://vscode-app/Applications/Visual%20Studio%20Code.app/Contents/Resources/app/out/vs/code/electron-browser/workbench/workbench.html) to match the Flask-AppBuilder User model interface\r\nAdded proper documentation explaining the purpose of these attributes\r\nThis ensures [GuestUser](vscode-file://vscode-app/Applications/Visual%20Studio%20Code.app/Contents/Resources/app/out/vs/code/electron-browser/workbench/workbench.html) objects provide the same authentication interface as regular users for attributes relevant to guest authentication, while maintaining the distinction that guest users are temporary and don't have database-persisted attributes.\r\n\r\n\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35506\nTitle: feat(frontend): Replace ESLint with OXC hybrid linting architecture\nState: open\nAuthor: rusackas\nLabels: size/XXL, preset-io, plugins, dependencies:npm, github_actions, packages, review:draft\nBody:\n### SUMMARY\n\nThis PR replaces Superset's frontend ESLint with OXC (Oxidation Compiler), implementing a hybrid linting architecture that delivers dramatic performance improvements while preserving all existing code quality standards.\n\n**Key achievements:**\n- \u26a1 **53x faster linting**: OXC completes in 0.6s vs ESLint's 32s  \n- \u2705 **Zero regressions**: All linting rules preserved via hybrid architecture\n- \ud83e\uddf9 **Cleaned up scripts**: Removed 5 obsolete lint commands from package.json\n- \ud83d\udd27 **Drop-in replacement**: Same npm commands work (`npm run lint`, `npm run lint-fix`)\n- \ud83c\udfd7\ufe0f **Production-ready**: Proven hybrid approach, no experimental dependencies\n\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\n\n**Performance improvement:**\n```bash\n# Before (ESLint only on master)\n$ time npm run eslint -- .\nreal    0m32.400s\n\n# After (OXC only)  \n$ time npm run lint\nreal    0m0.610s     # 53x faster linting\n\n# After (OXC + custom rules)\n$ time npm run lint:full  \nreal    0m2.200s     # Complete validation\n\n# Full workflow comparison:\n# Master: ESLint + TypeScript = 62.4s\n# OXC: Basic linting = 0.6s (102x faster)\n# OXC: Full validation = 2.2s (28x faster)\n```\n\n### TESTING INSTRUCTIONS\n\n1. **Verify core linting performance:**\n   ```bash\n   cd superset-frontend\n   npm run lint           # Fast OXC linting (quiet mode - errors only)\n   npm run lint-fix       # Auto-fix issues with OXC\n   npm run lint:full      # OXC + custom rules (complete validation)\n   ```\n\n2. **Verify custom rules still work:**\n   ```bash\n   # Test literal color detection\n   echo \"const style = { color: '#FF0000' };\" >> src/components/Test.tsx\n   npm run lint:full\n   # Should see: \"Prefer theme.colors... over literal colors\"\n   git restore src/components/Test.tsx\n   ```\n\n3. **Verify pre-commit integration:**\n   ```bash\n   git add .\n   pre-commit run\n   # Should run oxlint and custom rules efficiently\n   ```\n\n### ADDITIONAL INFORMATION\n\n- [ ] Has associated issue: Performance improvements for developer experience\n- [ ] Required feature flags: None\n- [ ] Changes UI: No\n- [ ] Includes DB Migration: No  \n- [ ] Introduces new feature or API: No (drop-in replacement)\n- [x] Removes existing feature or API: Yes (removes obsolete lint scripts)\n\n### Technical Implementation\n\n**Hybrid Architecture Benefits:**\n- **OXC handles standard rules** at native Rust speed (600ms for 2000+ files)\n- **Custom Superset rules** via lightweight Node.js AST checker (~50ms)\n- **Independent operation** - no dependency on experimental OXC plugin API\n- **CI-friendly** - no special build requirements or version lock-in\n\n**Configuration consolidation:**\n- Migrated all ESLint rules to `oxlint.json` \n- Custom rules in `scripts/check-custom-rules.js`:\n  - No literal colors (use theme colors)\n  - No FontAwesome icons (use @superset-ui/core Icons)  \n  - No template variables in i18n strings\n- Updated pre-commit hooks for optimal performance\n- **Removed obsolete scripts**: `eslint`, `eslint-minimal`, `oxlint`, `oxlint:fix`, `lint-stats-legacy`\n\n**Smart command structure:**\n- `npm run lint` - Fast OXC-only linting (errors, 0.6s)\n- `npm run lint:full` - Complete validation with custom rules (2.2s)  \n- `npm run type` - TypeScript checking unchanged (11.5s)\n\n### Next Steps (Future PRs)\n\n**Short-term improvements:**\n1. **Fix temporarily downgraded rules** - Address ~900 pre-existing warnings systematically\n2. **Consolidate across monorepo** - Extend to `/docs`, `packages/*`, `superset-websocket`\n\n**Long-term architecture:**\n3. **Evaluate OXC native plugins** - When API stabilizes (currently in preview)\n4. **Consider full consolidation** - If no CI complexity introduced\n\n**Temporarily downgraded rules** (pre-existing issues now visible):\n- `import/no-named-as-default`, `import/export`, `import/named`, `import/no-duplicates`\n- `react-hooks/rules-of-hooks`, `jsx-a11y/role-has-required-aria-props`  \n- `prefer-destructuring`\n\n### Files Changed Overview\n\n**Core architecture:**\n- `oxlint.json` - OXC configuration with all migrated ESLint rules\n- `scripts/check-custom-rules.js` - Superset-specific AST validation\n- `package.json` - Updated commands, removed obsolete scripts\n\n**Integration:**\n- `.pre-commit-config.yaml` - Optimized hooks for hybrid linting\n- `.github/workflows/` - CI integration for both OXC and custom rules\n\n**Bug fixes discovered during migration:**\n- Fixed Array.fill() TypeScript errors\n- Resolved React hooks dependency issues\n- Updated import statements for better type checking\n\n**Documentation:**\n- `LINTING.md` - Complete guide to new hybrid architecture\n- Updated with performance benchmarks and troubleshooting\n\n### Why This Architecture?\n\nThis hybrid approach provides the best of both worlds:\n- **Immediate 53x performance gains** without waiting for experimental features\n- **Zero risk** - proven Node.js AST checking for custom rules\n- **Future flexibility** - can migrate to OXC plugins when ready\n- **Simple CI** - no special build processes or version constraints\n\nThe migration delivers dramatic performance improvements while maintaining Superset's high code quality standards.",
  "Requirement ID: ISSUE-35505\nTitle: Bar Chart issue after upgrading to version 5.0\nState: open\nAuthor: khaledjameel27\nLabels: viz:charts:bar\nBody:\n### Bug description\n\nAfter upgrading from Superset 4.1.1 to Superset 5.0.0, some of  the bar chart are not working with the following error \nUnable to parse SQL: Error parsing near 'AS' at line 1:39\nSELECT \"DATE\" - (DAY(\"DATE\")-1) DAYS AS \"DATE\", sum(\"TOTAL_FEE\") AS \"SUM(TOTAL_FEE)\" \n\nand here is the logs, \n\n2025-10-05 11:05:25,779:WARNING:superset.views.error_handling:SupersetErrorException\nTraceback (most recent call last):\n  File \"/root/superset-venv/lib/python3.10/site-packages/superset/sql/parse.py\", line 267, in _parse\n    return sqlglot.parse(script, dialect=dialect)\n  File \"/root/superset-venv/lib/python3.10/site-packages/sqlglot/__init__.py\", line 102, in parse\n    return Dialect.get_or_raise(read or dialect).parse(sql, **opts)\n  File \"/root/superset-venv/lib/python3.10/site-packages/sqlglot/dialects/dialect.py\", line 1022, in parse\n    return self.parser(**opts).parse(self.tokenize(sql), sql)\n  File \"/root/superset-venv/lib/python3.10/site-packages/sqlglot/parser.py\", line 1592, in parse\n    return self._parse(\n  File \"/root/superset-venv/lib/python3.10/site-packages/sqlglot/parser.py\", line 1664, in _parse\n    self.raise_error(\"Invalid expression / Unexpected token\")\n  File \"/root/superset-venv/lib/python3.10/site-packages/sqlglot/parser.py\", line 1705, in raise_error\n    raise error\nsqlglot.errors.ParseError: Invalid expression / Unexpected token. Line 1, Col: 39.\n  SELECT \"DATE\" - (DAY(\"DATE\")-1) DAYS AS \"DATE\", sum(\"TOTAL_FEE\") AS \"SUM(TOTAL_FEE)\" \nFROM (select l.NUMBER , DATE(l.date_created) as D\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/root/superset-venv/lib/python3.10/site-packages/flask/app.py\", line 1484, in full_dispatch_request\n    rv = self.dispatch_request()\n  File \"/root/superset-venv/lib/python3.10/site-packages/flask/app.py\", line 1469, in dispatch_request\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)\n  File \"/root/superset-venv/lib/python3.10/site-packages/flask_appbuilder/security/decorators.py\", line 109, in wraps\n    return f(self, *args, **kwargs)\n  File \"/root/superset-venv/lib/python3.10/site-packages/superset/views/base_api.py\", line 120, in wraps\n    duration, response = time_function(f, self, *args, **kwargs)\n  File \"/root/superset-venv/lib/python3.10/site-packages/superset/utils/core.py\", line 1369, in time_function\n    response = func(*args, **kwargs)\n  File \"/root/superset-venv/lib/python3.10/site-packages/superset/utils/log.py\", line 304, in wrapper\n    value = f(*args, **kwargs)\n  File \"/root/superset-venv/lib/python3.10/site-packages/superset/charts/data/api.py\", line 260, in data\n    return self._get_data_response(\n  File \"/root/superset-venv/lib/python3.10/site-packages/superset/utils/log.py\", line 304, in wrapper\n    value = f(*args, **kwargs)\n  File \"/root/superset-venv/lib/python3.10/site-packages/superset/charts/data/api.py\", line 423, in _get_data_response\n    result = command.run(force_cached=force_cached)\n  File \"/root/superset-venv/lib/python3.10/site-packages/superset/commands/chart/data/get_data_command.py\", line 45, in run\n    payload = self._query_context.get_payload(\n  File \"/root/superset-venv/lib/python3.10/site-packages/superset/common/query_context.py\", line 102, in get_payload\n    return self._processor.get_payload(cache_query_context, force_cached)\n  File \"/root/superset-venv/lib/python3.10/site-packages/superset/common/query_context_processor.py\", line 752, in get_payload\n    query_results = [\n  File \"/root/superset-venv/lib/python3.10/site-packages/superset/common/query_context_processor.py\", line 753, in <listcomp>\n    get_query_results(\n  File \"/root/superset-venv/lib/python3.10/site-packages/superset/common/query_actions.py\", line 227, in get_query_results\n    return result_func(query_context, query_obj, force_cached)\n  File \"/root/superset-venv/lib/python3.10/site-packages/superset/common/query_actions.py\", line 103, in _get_full\n    payload = query_context.get_df_payload(query_obj, force_cached=force_cached)\n  File \"/root/superset-venv/lib/python3.10/site-packages/superset/common/query_context.py\", line 123, in get_df_payload\n    return self._processor.get_df_payload(\n  File \"/root/superset-venv/lib/python3.10/site-packages/superset/common/query_context_processor.py\", line 162, in get_df_payload\n    query_result = self.get_query_result(query_obj)\n  File \"/root/superset-venv/lib/python3.10/site-packages/superset/common/query_context_processor.py\", line 265, in get_query_result\n    result = query_context.datasource.query(query_object.to_dict())\n  File \"/root/superset-venv/lib/python3.10/site-packages/superset/connectors/sqla/models.py\", line 1748, in query\n    df = self.database.get_df(\n  File \"/root/superset-venv/lib/python3.10/site-packages/superset/models/core.py\", line 706, in get_df\n    self.db_engine_spec.execute(cursor, sql_, self)\n  File \"/root/superset-venv/lib/python3.10/site-packages/superset/db_engine_specs/base.py\", line 1858, in execute\n    if sql_parse.check_sql_functions_exist(query, disallowed_functions, cls.engine):\n  File \"/root/superset-venv/lib/python3.10/site-packages/superset/sql_parse.py\", line 183, in check_sql_functions_exist\n    return SQLScript(sql, engine=engine).check_functions_present(function_list)\n  File \"/root/superset-venv/lib/python3.10/site-packages/superset/sql/parse.py\", line 670, in __init__\n    self.statements = statement_class.split_script(script, engine)\n  File \"/root/superset-venv/lib/python3.10/site-packages/superset/sql/parse.py\", line 327, in split_script\n    ast = cls._parse(remainder, engine)[0]\n  File \"/root/superset-venv/lib/python3.10/site-packages/superset/sql/parse.py\", line 270, in _parse\n    raise SupersetParseError(\nsuperset.exceptions.SupersetParseError: Error parsing near 'AS' at line 1:39\n\n\n### Screenshots/recordings\n\n<img width=\"1826\" height=\"299\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/241c55f1-8f57-466e-a8ee-2cb11bdc9d96\" />\n\n### Superset version\n\n5.0.0\n\n### Python version\n\n3.10\n\n### Node version\n\nI don't know\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35504\nTitle: fix(webdriver): add missing options object to WebDriver initialization\nState: closed\nAuthor: aminghadersohi\nLabels: size/XS, infra, v6.0\nBody:\n### SUMMARY\r\n\r\nThis PR fixes a critical bug in the Selenium WebDriver initialization where the `options` object was being configured but never actually passed to the WebDriver constructor.\r\n\r\n**The Bug:**\r\nIn `superset/utils/webdriver.py`, the code was:\r\n1. Creating an options object\r\n2. Setting capabilities on it (`options.set_capability()`)\r\n3. Setting preferences on it (`options.profile.set_preference()`)\r\n4. But then **not passing it to the WebDriver**\r\n\r\nThis caused all custom WebDriver configurations (capabilities, preferences, browser settings) to be silently ignored, resulting in WebDriver instances running with default settings instead of the configured ones.\r\n\r\n**The Fix:**\r\nAdded `\"options\": options,` to the kwargs dictionary that gets passed to the WebDriver initialization, ensuring the configured options are actually used.\r\n\r\nThis is a one-line fix that restores proper WebDriver configuration functionality.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\nNot applicable - this is an internal bug fix with no UI changes.\r\n\r\n### TESTING INSTRUCTIONS\r\n\r\n1. **Verify WebDriver options are respected:**\r\n   ```bash\r\n   # Set custom WebDriver configuration in superset_config.py\r\n   WEBDRIVER_TYPE = \"firefox\"\r\n   WEBDRIVER_CONFIGURATION = {\r\n       \"options\": {\r\n           \"capabilities\": {\r\n               \"acceptInsecureCerts\": True\r\n           },\r\n           \"preferences\": {\r\n               \"browser.download.folderList\": 2\r\n           }\r\n       }\r\n   }\r\n   ```\r\n\r\n2. **Test screenshot/thumbnail generation:**\r\n   - Navigate to a dashboard\r\n   - Generate a thumbnail or screenshot\r\n   - Verify the WebDriver uses the configured options (check browser logs/behavior)\r\n\r\n3. **Verify no regression:**\r\n   ```bash\r\n   # Run WebDriver-related tests\r\n   pytest tests/integration_tests/reports/\r\n   pytest tests/integration_tests/thumbnails/\r\n   ```\r\n\r\n### ADDITIONAL INFORMATION\r\n\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API\r\n\r\n**Notes:**\r\n- This is a bug fix with no breaking changes\r\n- Affects all Selenium WebDriver usage (screenshots, thumbnails, reports)\r\n- The bug likely went unnoticed because default WebDriver settings work in most cases\r\n- No database migration or feature flags required",
  "Requirement ID: ISSUE-35502\nTitle: superset_init container exits as unhealthy despite successful Superset login\nState: open\nAuthor: dasarikd0805-a11y\nLabels: install:docker\nBody:\n### Bug description\n\nThe superset_init container exits after some time (~360s) and shows unhealthy, even though Superset itself works and login is successful.\n\nI cloned the Superset repository (branch 5.0.0) and ran docker compose -f docker-compose-image-tag.yml up. After starting the containers, I checked their status using docker ps and docker-compose ps. I observed that the superset_init container shows as Exited and unhealthy, even though the Superset UI is accessible and I am able to log in without any issues.\n\n### Screenshots/recordings\n\nPlease find attached the superset_init container logs along with environment details for reference.\n\nEnvironment details:\n\n[docker logs superset_init.txt](https://github.com/user-attachments/files/22692090/docker.logs.superset_init.txt)\n\nOS: Ubuntu 24.04.3 LTS running via Windows 10 Pro (22H2, Build 19045.6396)\nSuperset version: 5.0.0\nPython version (inside container): 3.10.18\nFlask version: 2.3.3\nWerkzeug version: 3.1.3\nDocker version: 28.4.0, build d8eb465\nDocker Compose version: v2.39.4-desktop.1\n\n### Superset version\n\n5.0.0\n\n### Python version\n\n3.10\n\n### Node version\n\n18 or greater\n\n### Browser\n\nChrome\n\n### Additional context\n\nNo feature flags or customizations enabled.\nThis occurs on a fresh setup with default docker-compose.\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35501\nTitle: test(modals): flatten test structure to follow best practices\nState: closed\nAuthor: eschutho\nLabels: size/L, change:frontend\nBody:\n### SUMMARY\n\nRefactors modal test files to follow the \"avoid nesting when testing\" pattern by removing nested `describe()/it()` blocks in favor of flat `test()` calls.\n\n**Changes:**\n- Flatten test structure in `EmbeddedModal.test.tsx` - remove nested describe blocks, use top-level `test()` calls\n- Flatten test structure in `ThemeList.test.tsx` - remove nested describe blocks, use top-level `test()` calls\n- Improve test readability and maintainability following Kent C. Dodds' testing principles\n\n**Benefits:**\n- Clearer test isolation and independence\n- Easier to scan and understand test suite\n- Follows modern React Testing Library best practices\n- Aligns with Superset's ongoing testing strategy migration\n\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\n\nN/A - Test structure refactoring only, no functional changes\n\n### TESTING INSTRUCTIONS\n\n```bash\nnpm test -- ThemeList.test.tsx --testPathIgnorePatterns=cypress\nnpm test -- EmbeddedModal.test.tsx --testPathIgnorePatterns=cypress\n```\n\nBoth test suites should pass with all tests (13 tests for ThemeList, 14 tests for EmbeddedModal).\n\n### ADDITIONAL INFORMATION\n\n- [x] Changes follow \"avoid nesting when testing\" principles from CLAUDE.md\n- [x] All existing tests pass without modification to assertions\n- [x] No functional changes to test coverage or behavior\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.com/claude-code)",
  "Requirement ID: ISSUE-35500\nTitle: Table chart - pagination and search controls have squished formatting (6.0.0rc2)\nState: open\nAuthor: sfirke\nLabels: #bug:cosmetic, viz:charts:table\nBody:\n## Screenshot\n\n<img width=\"1279\" height=\"403\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/e922e7e0-f3bd-4473-8ac9-2ca8378e6b9e\" />\n\n<img width=\"911\" height=\"322\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/3745dd36-25b3-4bad-829f-a28e723a06ab\" />\n\n## Description\n\nCharts (on a dashboard and directly) with pagination size and search boxes have them scrunched up together. These seem to have lost their prior formatting.",
  "Requirement ID: ISSUE-35499\nTitle: Deck.gl scatterplot auto-migrated to fixed color, legend did not (6.0.0rc2)\nState: closed\nAuthor: sfirke\nLabels: viz:charts:deck.gl\nBody:\n### Bug description\n\nHere's how the chart looks in 4.1.3 - it uses the categorical colors and the legend looks right:\n\n<img width=\"1557\" height=\"810\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/6fcfe0f0-3238-4a84-adb4-3345b77d379c\" />\n\nHere's the same chart but in my 6.0.0rc2 test environment:\n\n<img width=\"1588\" height=\"797\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/30c893ec-2803-461a-a886-3edfb3ee6bae\" />\n\nIt has switched \"Color scheme type\" to be \"Fixed color\" which was a surprise, I would have thought the default should be \"categorical palette\". Now all the dots are purple - but note that the legend still reflects the categorical palette.\n\nThis seems like two bugs:\n- An unwanted switch to fixed color\n- The legend didn't switch with it\n\nOnce I manually switch to \"Fixed color\" the legend goes away as expected.\n\nSeems to affect all of my deck.gl scatterplots, here's another:\n\n<img width=\"696\" height=\"476\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/d80a06dd-88da-4f04-a3e8-54958b0860d5\" />\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\nNot applicable\n\n### Node version\n\nNot applicable\n\n### Browser\n\nFirefox\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35498\nTitle: [SIP-187] Proposal for Model Context Protocol (MCP) Service - Revised Architecture\nState: open\nAuthor: aminghadersohi\nLabels: sip, design:proposal\nBody:\n## [SIP-187] Proposal for Model Context Protocol (MCP) Service - Revised Architecture\n\n### Motivation\n\nThe prior [SIP-171](https://github.com/apache/superset/issues/33870) proposal outlined integrating Model Context Protocol (MCP) as an ASGI-compatible service within the existing Flask application architecture. However, initial proof-of-concept development has revealed significant advantages to a different architectural approach that better aligns with modern AI tooling ecosystems and provides cleaner separation of concerns.\n\nThis revised proposal presents a refined architecture based on learnings from the proof-of-concept implementation that:\n\n1. **Addresses Flask-SQLAlchemy dependency challenges**: The original approach faced complications with Flask-AppBuilder's tight coupling to the web request lifecycle\n2. **Improves AI agent compatibility**: FastMCP provides superior schema definitions and tooling optimized for LLM interactions\n3. **Enables better code reusability**: A library-first approach allows the MCP service to leverage Superset's core functionality without web framework dependencies\n4. **Supports enterprise deployment patterns**: FastMCP middleware enables multi-tenancy and security integrations required for production environments\n\nThe Model Context Protocol (MCP) is an open-source standard developed by Anthropic that provides AI agents with a unified interface to interact with various tools and services. MCP enables secure, controlled access to external resources through a standardized JSON-RPC 2.0 protocol.\n\n**References:**\n\n- [MCP Specification](https://spec.modelcontextprotocol.io/) - Official protocol specification\n- [MCP Documentation](https://modelcontextprotocol.io/) - Implementation guides and examples\n- [FastMCP Library](https://github.com/pydantic/fastmcp) - Python implementation framework\n\nBy implementing an MCP service for Superset, we enable LLMs to naturally create charts, manage dashboards, query data, and perform analytics workflows through standardized JSON-RPC 2.0 protocols.\n\n### Proposed Change\n\n#### Architecture Overview\n\nInstead of the originally proposed ASGI-Flask integration, this revised approach implements a **standalone FastMCP service that uses Superset as a library**. This architecture provides:\n\n- Clean separation between the web application and AI service layers\n- Better compatibility with FastAPI/Pydantic ecosystems\n- Simplified deployment and scaling options\n- Enhanced testability and maintainability\n\n#### Context Diagram: MCP Service Integration with Superset\n\n```mermaid\nflowchart TD\n    subgraph \"External Environment\"\n        LLM[LLM Clients<br/>Claude, GPT, etc.]\n        CLI[Claude Code CLI<br/>VS Code Extensions]\n    end\n\n    subgraph \"Superset Ecosystem\"\n        subgraph \"MCP Service Layer\"\n            MCP[FastMCP Service<br/>Port 5008]\n            Auth[JWT Authentication<br/>& RBAC Middleware]\n            Tools[MCP Tools<br/>Charts, Dashboards, SQL]\n        end\n\n        subgraph \"Core Superset Library\"\n            DAO[DAOs<br/>Charts, Dashboards, Datasets]\n            CMD[Commands<br/>Create, Update, Delete]\n            Models[SQLAlchemy Models<br/>Database Layer]\n        end\n\n        subgraph \"Data Layer\"\n            DB[(Superset Metadata<br/>Database)]\n            Sources[(Data Sources<br/>External DBs)]\n        end\n    end\n\n    LLM -.->|stdio transport<br/>JSON-RPC 2.0 via MCP| MCP\n    CLI -.->|streamable-http transport<br/>JSON-RPC 2.0 over HTTP| MCP\n\n    MCP --> Auth\n    Auth --> Tools\n    Tools -->|Reads| DAO\n    Tools -->|Business Logic| CMD\n    CMD -->|Mutates Data| DAO\n    DAO --> Models\n    Models --> DB\n    Models --> Sources\n\n    classDef mcpLayer fill:#e1f5fe\n    classDef coreLayer fill:#f3e5f5\n    classDef dataLayer fill:#e8f5e8\n\n    class MCP,Auth,Tools mcpLayer\n    class DAO,CMD,Models coreLayer\n    class DB,Sources dataLayer\n```\n\n**Key Integration Points:**\n\n- **RBAC Enforcement**: MCP tools leverage existing DAO/Command patterns that automatically handle role-based access control\n- **Security Reuse**: Authentication and authorization logic is inherited from Superset core, not reimplemented\n- **Library Pattern**: MCP service imports and uses Superset as a library, maintaining access to all core functionality\n\n```jsx\nsuperset/mcp_service/\n\u251c\u2500\u2500 app.py              # FastMCP application instance\n\u251c\u2500\u2500 server.py           # Service entry point and configuration\n\u251c\u2500\u2500 middleware.py       # Authentication, rate limiting, logging\n\u251c\u2500\u2500 chart/             # Chart creation and management tools\n\u251c\u2500\u2500 dashboard/         # Dashboard management tools\n\u251c\u2500\u2500 dataset/           # Dataset listing and exploration\n\u251c\u2500\u2500 sql_lab/           # SQL execution and query tools\n\u2514\u2500\u2500 system/            # Instance metadata and health tools\n```\n\n## Architecture Principles\n\nThe MCP service implementation follows key architectural principles that ensure maintainability, security, and extensibility:\n\n### 1. Security Logic Reuse\n\n**Principle**: Reuse security logic from core Superset (commands and DAOs) and do not re-implement them.\n\n**Implementation**:\n\n- MCP tools leverage existing `BaseDAO` classes with enhanced `list()` and `count()` methods\n- Commands layer provides business logic with built-in RBAC enforcement\n- Authentication flows through existing Flask-AppBuilder security infrastructure\n- Row-level security and column-level permissions automatically apply\n\n**Benefits**:\n\n- Consistent security model across web UI and MCP service\n- Reduced attack surface by avoiding security reimplementation\n- Automatic inheritance of security patches and improvements\n\n### 2. Extensibility for Add-ons\n\n**Principle**: It should be possible to expose new services added by extensions as MCP tools.\n\n**Implementation**:\n\n- Plugin-based tool registration system allows extensions to add MCP tools\n- Standardized base classes for tool development with validation patterns\n- Extension hooks for middleware integration (authentication, audit logging)\n- Discovery mechanism for dynamically loaded tools\n\n**Example Extension Pattern**:\n\n```python\n# Extension can register new MCP tools\nfrom superset_core.mcp import register_tool # .mcp package is just placeholder\n\n@register_tool(domain=\"custom_analytics\")\nclass CustomAnalyticsTool(BaseMCPTool):\n    def execute(self, request: CustomRequest) -> CustomResponse:\n        # Extension-specific logic using Superset DAOs/Commands\n        pass\n\n```\n\n### 3. Library-First Architecture\n\n**Principle**: MCP service uses Superset as a library, not as a web framework dependency.\n\n**Implementation**:\n\n- Imports Superset models, DAOs, and commands without Flask context\n- Standalone FastMCP service with independent lifecycle\n- Database session management decoupled from web request cycle\n- Configuration sharing through environment variables and shared config files\n\n**Benefits**:\n\n- Independent scaling and deployment\n- Cleaner testing with reduced dependencies\n- Better compatibility with async/await patterns\n- Simplified error handling and debugging\n\n### 4. Validation-First Development\n\n**Principle**: Comprehensive validation prevents errors and improves user experience.\n\n**Implementation**:\n\n- 5-layer validation pipeline: Schema \u2192 Business Logic \u2192 Dataset \u2192 Superset Compatibility \u2192 Runtime\n- Pydantic schemas with discriminated unions for type safety\n- Fuzzy matching for column suggestions on validation errors\n- Security validation prevents XSS and injection attacks\n\n**Validation Layers**:\n\n1. **Schema Validation**: Type checking and required fields\n2. **Business Logic**: Cache parameters, preview formats\n3. **Dataset Validation**: Column existence and compatibility\n4. **Superset Compatibility**: Label conflicts and naming restrictions\n5. **Runtime Validation**: Form data generation and empty chart detection\n\n### 5. Preview-First User Experience\n\n**Principle**: Enable exploration before persistence to improve user workflows.\n\n**Implementation**:\n\n- `generate_chart()` creates explore URLs before saving\n- Cached form data allows iteration without database persistence\n- Preview images enable visual validation in LLM conversations\n- Explicit save operations give users control over persistence\n\n**Workflow**:\n\n1. Generate preview with explore URL\n2. Iterate on configuration through MCP tools\n3. User validates via interactive explore interface\n4. Explicit save when satisfied with result\n\n*Principle**: Enable exploration before persistence to improve user workflows. LLM-driven interactions are inherently conversational and exploratory, requiring different patterns than traditional transactional APIs.\n\n**LLM Workflows vs Traditional API Workflows:**\n\n| Aspect | Traditional API Calls | LLM Conversations |\n| --- | --- | --- |\n| Intent | Transactional - specific outcome known upfront | Exploratory - prototyping and refinement |\n| Persistence | Immediate save on creation | Preview first, save when satisfied |\n| Iterations | Minimal - precise requirements | Multiple - trying variations and alternatives |\n| Cleanup | Developer manages resources | Automatic - previews don't clutter database |\n\n**Chart Exploration & Persistence Tools:**\n\nThe MCP service provides separate tools for exploration vs persistence:\n\n1. **Chart Exploration** (no database persistence):\n    - `generate_chart(dataset_id, config, save_chart=False)` \u2192 Returns `form_data_key` + explore URL\n    - `update_chart_preview(form_data_key, new_config)` \u2192 Iterate on configuration\n    - User can try multiple variations without creating database records\n2. **Chart Persistence** (save to database):\n    - `generate_chart(dataset_id, config, save_chart=True)` \u2192 Creates permanent chart\n    - `update_chart(chart_id, new_config)` \u2192 Modifies saved charts\n3. **Dashboard Composition** (assumes finalized charts):\n    - `generate_dashboard(chart_ids, title)` \u2192 Creates dashboard from saved charts\n    - `add_chart_to_existing_dashboard(dashboard_id, chart_id)` \u2192 Adds chart to dashboard\n\n**Implementation Details**:\n\n- Cached form data allows iteration without database persistence\n- Preview images enable visual validation in LLM conversations\n- Explicit save operations give users control over when to persist\n- Dashboard tools assume charts are already finalized (no \"preview dashboard\" concept)\n\n**Example Exploratory Workflow**:\n\n1. User: \"Show me sales by region as a bar chart\"\n2. MCP: `generate_chart(..., save_chart=False)` \u2192 preview URL\n3. User: \"Try it as a pie chart instead\"\n4. MCP: `update_chart_preview(form_data_key, ...)` \u2192 new preview\n5. User: \"Perfect, save this one\"\n6. MCP: `generate_chart(..., save_chart=True)` \u2192 permanent chart\n7. User: \"Add it to my Q1 dashboard\"\n8. MCP: `add_chart_to_existing_dashboard(...)` \u2192 chart added\n\n**Rationale**: LLM conversations naturally involve exploration and refinement. Without preview-first design, users would end up with dozens of half-finished charts cluttering their workspace. This pattern respects the conversational nature of AI interactions while maintaining database integrity.\n\n### 6. Performance and Caching\n\n**Principle**: Multi-level caching optimizes performance for AI workloads.\n\n**Implementation**:\n\n- Screenshot caching for chart previews\n- Form data caching for iterative exploration (each iteration creates new cached entry)\n- Query result caching inherited from Superset\n- Metadata caching with refresh control\n\n**Cache Housekeeping Consideration:**\n\nForm data cache entries for chart previews inherit Superset's default 7-day TTL (`EXPLORE_FORM_DATA_CACHE_CONFIG`). For exploratory LLM workflows that may generate many preview iterations without saving, consider configuring a shorter TTL for MCP-created entries to avoid cache bloat:\n\n```python\n# Example MCP-specific configuration (optional)\nMCP_EXPLORE_FORM_DATA_TTL = int(timedelta(hours=1).total_seconds())\n```\n\nThis is not currently implemented but may be beneficial for deployments with high exploratory workload volumes.\n\n### 7. Observability and Audit\n\n**Principle**: Comprehensive logging and audit trails for enterprise deployment.\n\n**Implementation**:\n\n- Structured logging with request correlation IDs\n- Security event audit logging\n- Performance metrics and monitoring hooks\n- Error sanitization for security and user experience\n\nThese principles ensure the MCP service provides a secure, extensible, and maintainable\n\n## Implementation Details\n\n### Data Access Layer\n\nThe MCP service uses superset's DAO and Command implementations *out of the box*. To achive this we previously added (https://github.com/apache/superset/pull/35018) a couple of missing functions to remove the dependency on Flask-AppBuilder that does these for the CRUD APIs:\n\n```jsx\n# superset/daos/base.py - Enhanced with new functions\nclass BaseDAO(Generic[T]):\n    @classmethod\n    def list(\n        cls,\n        column_operators: Optional[List[ColumnOperator]] = None,\n        order_column: str = \"changed_on\",\n        order_direction: str = \"desc\",\n        page: int = 0,\n        page_size: int = 100,\n        search: Optional[str] = None,\n        search_columns: Optional[List[str]] = None,\n        custom_filters: Optional[Dict[str, Any]] = None,\n        columns: Optional[List[str]] = None,\n    ) -> Tuple[List[Any], int]:\n        \"\"\"Generic list method for filtered, sorted, and paginated results\"\"\"\n\n    @classmethod\n    def count(cls) -> int:\n        \"\"\"Count total records - required for instance statistics\"\"\"\n```\n\n### Pydantic Schema Framework\n\nAll MCP tool schemas use Pydantic for FastMCP compatibility and future FastAPI integration:\n\n```jsx\n# Chart creation with iterative, discriminated union approach\nclass ChartCreationRequest(BaseModel):\n    dataset_id: int\n    chart_type: ChartTypeEnum\n    metrics: List[str]\n    groupby: Optional[List[str]] = None\n    filters: Optional[List[FilterConfig]] = None\n    # Simplified schema - complex configurations added iteratively\n```\n\n**Why Pydantic over Marshmallow:**\n\n- **FastMCP requirement**: FastMCP is Pydantic-first with Rust-based performance optimizations\n- **Type-hint based**: Declarative style using native Python type hints\n- **Automatic schema generation**: Pydantic models generate JSON schemas for MCP tool discovery (this only works properly in Claude Code at the moment - without it the llm is just guessing the input types)\n\n**Note**: This Pydantic adoption is isolated to the MCP service and does not require Superset-wide migration from Marshmallow.\n\n### Chart Workflow Design\n\nThe MCP service implements a **preview-first workflow** optimized for LLM conversations rather than traditional API patterns. This design principle is detailed in the [Preview-First User Experience](https://www.notion.so/SIP-171-i-Draft-Proposal-for-Model-Context-Protocol-MCP-Service-Revised-Architecture-2718718b6465800d80a3ef61ccee2a8e?pvs=21) architecture principle.\n\n**Key Design Difference:**\n\n- **Traditional APIs**: Immediate persistence with precise requirements\n- **MCP Service**: Exploration mode by default, explicit persistence when satisfied\n\nThis workflow prevents database clutter from exploratory LLM conversations while maintaining flexibility for users to iterate on chart designs before committing them.\n\n### MCP Service Internal Architecture\n\n```mermaid\nflowchart TD\n    subgraph \"FastMCP Service\"\n        Server[FastMCP Server<br/>JSON-RPC 2.0 Protocol]\n        Middleware[Extensible Middleware<br/>Auth, Rate Limiting, Logging]\n    end\n\n    subgraph \"MCP Tool Domains\"\n        ChartTools[Chart Tools<br/>generate_chart, update_chart]\n        DashTools[Dashboard Tools<br/>generate_dashboard]\n        DataTools[Dataset Tools<br/>list_datasets, get_dataset_info]\n        SQLTools[SQL Lab Tools<br/>execute_sql]\n        SysTools[System Tools<br/>get_instance_info]\n    end\n\n    subgraph \"Integration with Superset Core\"\n        Commands[Commands<br/>Business Logic & Validation]\n        DAOs[DAOs<br/>Data Access Layer]\n        Models[SQLAlchemy Models<br/>& RBAC Security]\n    end\n\n    Server --> Middleware\n    Middleware --> ChartTools\n    Middleware --> DashTools\n    Middleware --> DataTools\n    Middleware --> SQLTools\n    Middleware --> SysTools\n\n    ChartTools --> Commands\n    DashTools --> Commands\n    DataTools --> DAOs\n    SQLTools --> DAOs\n    SysTools --> DAOs\n\n    Commands --> DAOs\n    DAOs --> Models\n\n    classDef service fill:#e1f5fe\n    classDef tools fill:#f3e5f5\n    classDef core fill:#e8f5e8\n\n    class Server,Middleware service\n    class ChartTools,DashTools,DataTools,SQLTools,SysTools tools\n    class Commands,DAOs,Models core\n```\n\n**Architecture Layers:**\n\n1. **FastMCP Framework**: Handles MCP protocol, request routing, and JSON-RPC 2.0 communication\n2. **Middleware Stack**: Provides cross-cutting concerns (auth, rate limiting, caching, audit)\n3. **Tool Domains**: Organized by functional area with type-safe Pydantic schemas\n4. **Integration Layer**: Enhanced DAOs, Commands, and comprehensive validation pipeline\n5. **Superset Core**: Reuses existing models, security, and database infrastructure\n\n### MCP Core Abstraction Pattern\n\nThe MCP service implements a generic core abstraction layer that eliminates code duplication and provides consistent patterns for common operations:\n\n```mermaid\nflowchart TD\n    subgraph \"Generic Core Classes\"\n        ListCore[ModelListCore<br/>Pagination, filtering, search]\n        InfoCore[ModelGetInfoCore<br/>Retrieve by ID/UUID]\n        ChartCore[ChartToolCore<br/>Chart creation & updates<br/>To be implemented]\n        DashboardCore[DashboardToolCore<br/>Dashboard management<br/>To be implemented]\n    end\n\n    subgraph \"Tool Implementations\"\n        ListTools[List Tools<br/>list_datasets, list_charts, etc.]\n        InfoTools[Info Tools<br/>get_dataset_info, get_chart_info, etc.]\n        CustomTools[Custom Tools<br/>generate_chart, update_chart, etc.<br/>Currently using custom implementation]\n    end\n\n    subgraph \"Superset Components\"\n        Components[DAOs, Commands, Schemas]\n    end\n\n    ListCore -.->|Instantiate with config| ListTools\n    InfoCore -.->|Instantiate with config| InfoTools\n    ChartCore -.-x|Future pattern| CustomTools\n    DashboardCore -.-x|Future pattern| CustomTools\n\n    ListTools --> Components\n    InfoTools --> Components\n    CustomTools --> Components\n\n    classDef coreClass fill:#e8f5e8\n    classDef toolClass fill:#e1f5fe\n    classDef componentClass fill:#f3e5f5\n    classDef plannedClass fill:#e8f5e8,stroke-dasharray: 5 5\n\n    class ListCore,InfoCore coreClass\n    class ChartCore,DashboardCore plannedClass\n    class ListTools,InfoTools,CustomTools toolClass\n    class Components componentClass\n```\n\n**Core Abstraction Benefits:**\n\n- **Code Reuse**: `ModelListCore` handles pagination, filtering, search for all list operations\n- **Consistency**: Identical behavior patterns across dataset, chart, and dashboard listing\n- **Type Safety**: Generic type parameters ensure compile-time correctness\n- **Extensibility**: New models can leverage existing cores with minimal configuration\n- **Maintainability**: Bug fixes and improvements benefit all tools using the core\n\n**Example Core Usage Pattern:**\n\n```python\n# list_datasets.py - Minimal tool implementation\ntool = ModelListCore(\n    dao_class=DatasetDAO,\n    output_schema=DatasetInfo,\n    item_serializer=serialize_dataset_object,\n    filter_type=DatasetFilter,\n    default_columns=DEFAULT_DATASET_COLUMNS,\n    search_columns=[\"schema\", \"sql\", \"table_name\"],\n    list_field_name=\"datasets\",\n    output_list_schema=DatasetList,\n)\nreturn tool.run_tool(**params)\n```\n\n**Future Refactoring Opportunities:**\n\n- Complex tools (chart/dashboard generation) could benefit from similar abstraction patterns\n- Validation pipeline could be extracted into reusable core classes\n- Preview generation logic could become a shared core component\n\n## Security Model\n\nThe MCP service reuses Superset's existing security infrastructure:\n\n- **Authentication**: JWT tokens, session-based auth (development)\n- **Authorization**: Flask-AppBuilder RBAC automatically applied through DAOs\n- **Input Validation**: 5-layer pipeline with Pydantic schemas and security sanitization\n- **Data Access**: Row-level and column-level security inherited from Superset core\n\n### Permission Model\n\n**No Additional Permission Grants Required**: The MCP service does not request additional permissions from users. All permissions are directly derived from the user's existing Superset RBAC roles and permissions.\n\n**How it Works:**\n\n1. User authenticates to MCP service (JWT token or session)\n2. User's identity is established in Flask's `g.user` context\n3. All MCP tool operations enforce the user's existing Superset permissions\n4. If a user lacks permission in the web UI, they lack it in MCP tools\n\n**Example:**\n\n- User has \"Viewer\" role in Superset \u2192 Can list/view charts via MCP, cannot create/modify\n- User has \"Editor\" role \u2192 Can create/modify charts via MCP\n- User has row-level security filters \u2192 Same filters apply to MCP query results\n\nThis design ensures users cannot bypass Superset's permission model by using MCP tools instead of the web UI.\n\n### Permission Enforcement\n\nWhen a user attempts an operation without proper permissions, the MCP service follows Superset's standard error handling:\n\n1. **Command Layer Validation**: Commands (e.g., `CreateChartCommand`) call `security_manager.is_owner()` and `security_manager.can_access_datasource()`\n2. **Exception Raised**: Permission failures raise specific exceptions:\n    - `ChartAccessDeniedError`: \"You don't have access to this chart\"\n    - `ChartForbiddenError`: \"Changing this chart is forbidden\"\n    - `DashboardsForbiddenError`: \"Changing one or more of these dashboards is forbidden\"\n3. **MCP Tool Response**: The tool catches these exceptions and returns structured error responses to the LLM\n\n**Example Permission Flow:**\n\n```python\n# User tries to create chart without dataset access\ntry:\n    CreateChartCommand(data).run()\nexcept ChartAccessDeniedError as ex:\n    return {\n        \"success\": False,\n        \"error\": {\n            \"type\": \"permission_denied\",\n            \"message\": \"You don't have access to this dataset\"\n        }\n    }\n```\n\nThis ensures:\n\n- **Consistent security**: Same permission checks as the web UI\n- **Clear error messages**: LLMs receive actionable feedback\n- **No privilege escalation**: Users cannot bypass permissions through MCP tools\n\n## Deployment Architecture\n\n### Updated Deployment Topology\n\nBuilding on the original SIP-171 modular architecture concept, the revised implementation follows this deployment pattern:\n\n```mermaid\nflowchart LR\n    subgraph \"Superset Ecosystem\"\n        Core[superset-core<br/>Models, DAOs, Commands]\n\n        subgraph \"Service Deployments\"\n            WebApp[superset-web<br/>Flask Application<br/>Port 8088]\n            MCP[superset-mcp<br/>FastMCP Service<br/>Port 5008]\n        end\n\n        subgraph \"Extensions\"\n            Ext[superset-extensions<br/>Custom Tools & Middleware]\n        end\n    end\n\n    subgraph \"External Clients\"\n        Browser[Web Browser<br/>Dashboard UI]\n        LLM[LLM Clients<br/>Claude, GPT]\n        API[REST API Clients]\n    end\n\n    subgraph \"Data Layer\"\n        MetaDB[(Metadata Database)]\n        DataSources[(External Databases)]\n    end\n\n    Core --> WebApp\n    Core --> MCP\n    Core --> Ext\n\n    Ext -.->|Plugin Tools| MCP\n\n    Browser --> WebApp\n    LLM --> MCP\n    API --> WebApp\n\n    WebApp --> MetaDB\n    MCP --> MetaDB\n    WebApp --> DataSources\n    MCP --> DataSources\n\n    classDef core fill:#f3e5f5\n    classDef services fill:#e1f5fe\n    classDef extensions fill:#e8f5e8\n    classDef clients fill:#fff3e0\n    classDef data fill:#fce4ec\n\n    class Core core\n    class WebApp,MCP services\n    class Ext extensions\n    class Browser,LLM,API clients\n    class MetaDB,DataSources data\n\n```\n\n**Key Deployment Characteristics:**\n\n- **Modular Services**: Web application and MCP service can be deployed independently\n- **Shared Core**: Both services use the same superset-core library for consistency\n- **Independent Scaling**: MCP service can be scaled separately based on AI workload demands\n- **Extension Support**: Plugins can add tools to both web and MCP services\n- **Unified Data Access**: Both services access the same metadata and data sources\n\n### Development Instructions\n\n### Option 1: Standalone Service (Dev)\n\n`superset mcp run --port 5008 --debug`\n\n### Option 2: Docker Compose Integration\n\n```yaml\nservices:\n  superset-web:\n    build: .\n    command: [\"superset\", \"run\", \"-h\", \"0.0.0.0\", \"-p\", \"8088\", \"--with-threads\", \"--reload\", \"--debugger\"]\n    ports:\n      - \"8088:8088\"\n    environment:\n      - SUPERSET_CONFIG_PATH=/app/superset_config.py\n\n  superset-mcp:\n    build: .\n    command: [\"superset\", \"mcp\", \"run\", \"--port\", \"5008\"]\n    ports:\n      - \"5008:5008\"\n    environment:\n      - SUPERSET_CONFIG_PATH=/app/superset_config.py\n    depends_on:\n      - superset-web\n\n```\n\n### Option 3: Production Deployment with Load Balancing\n\n```yaml\nservices:\n  superset-web:\n    image: superset:latest\n    deploy:\n      replicas: 3\n    ports:\n      - \"8088:8088\"\n\n  superset-mcp:\n    image: superset:latest\n    command: [\"superset\", \"mcp\", \"run\", \"--workers\", \"4\"]\n    deploy:\n      replicas: 2\n    ports:\n      - \"5008:5008\"\n    environment:\n      - MCP_ENABLE_AUTH=true\n      - MCP_RATE_LIMIT=1000\n\n```\n\n### New or Changed Public Interfaces\n\n### MCP Tools Interface\n\nThe initial MCP service exposes an example set of tools through MCP - the list will definitely grow as the project matures:\n\n**Discovery Tools:**\n\n- `list_dashboards(filters?, pagination?) \u2192 {dashboards: Dashboard[], pagination: PaginationInfo}`\n- `list_charts(filters?, pagination?) \u2192 {charts: Chart[], pagination: PaginationInfo}`\n- `list_datasets(filters?, pagination?) \u2192 {datasets: Dataset[], pagination: PaginationInfo}`\n\n**Chart Management Tools:**\n\n- `generate_chart(dataset_id, chart_type, config) \u2192 {explore_url: string, preview_url?: string}`\n- `update_chart(chart_id, updates) \u2192 {chart: Chart, explore_url: string}`\n- `get_chart_preview(chart_id) \u2192 {preview_url: string, data_preview: object}`\n\n**Dashboard Management Tools:**\n\n- `generate_dashboard(title, charts_layout) \u2192 {dashboard: Dashboard, edit_url: string}`\n- `add_chart_to_existing_dashboard(dashboard_id, chart_id, position) \u2192 {success: boolean}`\n\n**SQL and Analysis Tools:**\n\n- `execute_sql(database_id, sql_query) \u2192 {results: QueryResult, execution_info: object}`\n- `generate_explore_link(dataset_id, config) \u2192 {explore_url: string}`\n\n### Enhanced DAO Interface\n\n```python\ndef list(...) -> Tuple[List[Any], int]  # Replaces Flask-AppBuilder list functionality\ndef count() -> int                      # Required for instance statistics\ndef get_filterable_columns_and_operators() -> Dict[str, Any]  # Filter discovery\n```\n\n### New Dependencies\n\n#### Python Dependencies\n\n- **fastmcp** (v2.10.0+): Core MCP protocol implementation\n    - License: MIT\n    - Maintenance: Active (Anthropic-backed)\n    - Purpose: MCP server implementation and tooling\n    - Compatible with: Pydantic v2, FastAPI ecosystem\n- **pydantic** (v2.0+): Schema validation and serialization - already added as part of \"dao updates PR\"\n    - License: MIT\n    - Maintenance: Very active, widely adopted\n    - Purpose: Type-safe API schemas, FastAPI compatibility\n    - Note: Superset already uses Pydantic in some areas\n\n#### Optional Dependencies\n\n- **playwright** (for chart screenshots): Already planned for SIP-178\n- **Pillow** (for image processing): Chart preview functionality\n\n#### Breaking Changes\n\n**Note**: Some current compatibility issues between werkzeug 3.1.3 and fastmcp 2.12.3. The solution has been to use fastmcp 2.10.0 for now, until the incompatibility is resolved.\n\n### Migration Plan and Compatibility\n\n#### Implementation Phases\n\nThe POC implementation is largely complete. The plan is to merge it in phases through multiple pull requests:\n\n**Phase 0: Update Base DAO** [DONE]\n\n- Enhanced `BaseDAO` with `list()` and `count()` methods\n\n**Phase 1: Base Scaffold for MCP Service**\n\n- Ability to run the service with `superset mcp run`\n- Simple health tool\n- Dev support locally and in docker\n- Support `fastmcp` `http` and `stdio`\n\n**Phase 2: Core Listing and Discovery Tools**\n\n- `list_dashboards`, `list_charts`, `list_datasets`\n- `get_dashboard_info`, `get_chart_info`, `get_dataset_info`\n- `get_superset_instance_info`\n\n**Phase 3: Chart Creation and Preview**\n\n- `generate_chart` - Preview-first creation with explore links\n- `update_chart` - Granular chart modifications\n- `get_chart_preview` - Visual chart previews\n- `execute_sql` - SQL Lab integration\n- `generate_explore_link` - Pre-configured exploration URLs\n\n**Phase 4: Dashboard Management**\n\n- `generate_dashboard` - Row/column grid layout approach\n- `add_chart_to_existing_dashboard` - Chart placement tools\n\n**Phase 5: Advanced Features** (Future)\n\n- Prompt testing framework to ensure tools are used correctly by LLMs\n\n#### Database Schema\n\n**No database migrations required.** The MCP service uses existing Superset tables and models through the enhanced DAO layer.\n\n#### Configuration Migration\n\nNew installations include MCP service configuration in default config templates. Existing installations remain unaffected unless explicitly enabled.\n\n#### Backward Compatibility\n\n- Existing Superset APIs and functionality unchanged\n- MCP service operates independently of web application\n- Feature flag ensures zero impact when disabled\n- Enhanced DAO methods are additive, not breaking\n\n#### URL Structure\n\nMCP service URLs are completely separate from existing Superset URLs:\n\n- Superset: http://localhost:8088/*\n- MCP Service: http://localhost:5008/* (or via MCP client connections)\n\n### Rejected Alternatives\n\n#### 1. ASGI Integration with Flask (Original SIP-171)\n\n**Rejected because:**\n\n- Flask-AppBuilder's request lifecycle dependencies create complexity\n- WSGI-to-ASGI wrapping introduces performance overhead\n- Tight coupling between web and MCP service layers\n- Difficult to scale and deploy independently\n\n#### 2. REST API Extensions\n\n**Rejected because:**\n\n- AI agents benefit from higher-level, workflow-oriented tools\n- JSON-RPC 2.0 provides better function-call semantics for LLMs\n- REST APIs require too many granular calls for complex workflows\n- MCP provides standardized protocol for AI tool integration\n\n#### 3. External Bridge Service\n\n**Rejected because:**\n\n- Adds unnecessary architectural complexity\n- Duplicates authentication and authorization logic\n- Requires maintaining separate codebase\n- Loses access to Superset's internal optimizations\n\n#### 4. Direct Flask-SQLAlchemy Integration\n\n**Rejected because:**\n\n- Flask-AppBuilder abstractions don't align with MCP tool patterns\n- Request context requirements complicate standalone service deployment\n- Dependency injection patterns conflict with FastMCP architecture\n- Testing becomes more complex with web framework dependencies\n\n## Implementation Status and Next Steps\n\nThis SIP represents the formalization of an architectural approach validated through proof-of-concept development. The current implementation demonstrates:\n\n1. **Successful FastMCP integration** with Superset models\n2. **Enhanced BaseDAO methods** for pagination and filtering\n3. **Preview-first chart creation** workflows\n4. **Pydantic schema compatibility** with FastMCP tooling\n5. **Independent service deployment** options\n\n### Immediate Next Steps\n\n1. Community review and feedback on architectural decisions\n2. Finalization of Pydantic schema designs for chart creation\n3. Implementation of dashboard management tools\n4. Production-ready middleware for authentication and rate limiting\n5. [Comprehensive testing framework for MCP tools](https://www.notion.so/MCP-Testing-Validation-Framework-2778718b6465807c863dcf1f8ce292c7?pvs=21)\n\n### Success Metrics\n\n- LLM agents can successfully create and modify charts through natural language\n- Chart creation workflows require fewer iterations than existing UI approaches\n- Service can handle concurrent AI agent sessions without performance degradation\n- Integration provides measurable productivity improvements for data analysis workflows\n\nThis revised SIP-171 proposal represents an evolution of the original concept, informed by practical implementation experience and optimized for the realities of AI-driven analytics workflows.",
  "Requirement ID: ISSUE-35497\nTitle: fix(frontend): remove describe/it blocks from Modal.useModal tests\nState: closed\nAuthor: sadpandajoe\nLabels: size/S, change:frontend\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nPR #35305 introduced ESLint rules banning `describe` and `it` in test files.\r\nPR #35198 was merged after #35305 and inadvertently introduced new `describe` and `it` blocks, causing linting failures on master.\r\n\r\nThis commit fixes the violations by:\r\n- Removing nested describe blocks\r\n- Converting `it()` to `test()`\r\n- Fixing prettier formatting \r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35495\nTitle: \"Drill to detail by\" doesn't let you pick which \"by\" you want (6.0.0rc2)\nState: open\nAuthor: sfirke\nLabels: dashboard:drill-down\nBody:\n### Bug description\n\nIn 4.1.3 I can choose a specific aspect to drill by - here I'm hovering over \"Trash\", see how that's greyed-out:\n\n<img width=\"456\" height=\"377\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/778e5512-4b76-4875-8dea-7caa3b0b933d\" />\n\nIn 6.0.0rc2 when I mouse over one, they all highlight and get clicked as one:\n\n<img width=\"675\" height=\"582\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/ae9732c4-1c62-4be6-956d-c1501ebcc58b\" />\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\nI don't know\n\n### Node version\n\nI don't know\n\n### Browser\n\nFirefox\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35494\nTitle: feat(frontend): Migrate to OXC linter for 1000x performance improvement\nState: closed\nAuthor: rusackas\nLabels: size/XXL, change:frontend, doc, plugins, dependencies:npm, github_actions, packages\nBody:\n## Summary\nThis PR migrates from ESLint to OXC (Oxidation Compiler) linter, achieving a 1000x performance improvement while maintaining 95% of our linting coverage.\n\n## Motivation\nFollowing the ESLint config reduction in the parent PR, this takes optimization further by replacing ESLint with the much faster OXC linter written in Rust.\n\n## Performance Improvements\n| Metric | ESLint | OXC | Improvement |\n|--------|--------|-----|-------------|\n| **Linting Time** | 2+ minutes | 138ms | **1000x faster** |\n| **Files Scanned** | 3166 | 3166 | Same coverage |\n| **Memory Usage** | High | Low | Significantly reduced |\n| **CI Pipeline** | Slow feedback | Fast feedback | Much improved |\n\n## What's Covered \u2705\n- Core ESLint rules (no-console, eqeqeq, prefer-const, etc.)\n- React rules (prop-types, jsx rules, hooks)\n- Import rules (order, extensions, no-cycle)\n- JSX-a11y accessibility rules\n- TypeScript rules (naming conventions, type safety)\n- Code quality rules (complexity, best practices)\n- ~95% of our ESLint rules successfully migrated\n\n## Trade-offs \u274c\nCustom Superset plugins not yet supported by OXC:\n- `theme-colors/no-literal-colors` - Ensures theme token usage\n- `icons/no-fa-icons-usage` - Enforces icon standards\n- `i18n-strings/no-template-vars` - i18n validation\n- `file-progress/activate` - Development helper\n\nThese will need separate tooling or manual review until OXC adds plugin support.\n\n## Testing Instructions\n1. Run linting with OXC: `npm run lint`\n2. Compare with ESLint: `npm run lint-eslint`\n3. Run auto-fix: `npm run lint-fix`\n4. Verify CI passes\n\n## Files Changed\n- `oxlint.json` - Comprehensive OXC configuration (235 lines)\n- `package.json` - Updated lint scripts to use OXC\n- `OXC_VS_ESLINT_COMPARISON.md` - Detailed comparison documentation\n- `OXC_MIGRATION_SUMMARY.md` - Migration summary and gaps\n\n## Next Steps\n- Monitor OXC development for plugin support\n- Consider writing custom tooling for critical Superset-specific rules\n- Evaluate performance in CI/CD pipeline\n\n## Additional Information\n- OXC is actively developed and improving rapidly\n- The project is focusing on performance while maintaining compatibility\n- Future versions may support custom plugins, allowing full migration\n\n\ud83e\udd16 Generated with Claude Code",
  "Requirement ID: ISSUE-35493\nTitle: Column names with spaces cannot be used on x-axis, break existing charts (6.0.0rc2)\nState: open\nAuthor: sfirke\nLabels: viz:charts:bar\nBody:\n### Bug description\n\n1. Create a dataset where a column has a space in the name\n2. Put it on the X-axis of a bar chart.\n\nChart will fail to render with `Unable to parse SQL`. Error logs:\n```\nsqlglot.errors.ParseError: Invalid expression / Unexpected token. Line 1, Col: 32.\n  SELECT TOP 100 Test AS Column AS [Test Column], COUNT(*) AS count \nFROM dbo.test_table_with_spaces GROUP BY Test AS Column ORDER BY \n```\n\nA column name with a space CAN go in a Dimension, which means this isn't a problem for e..g, pie charts. This seems to be isolated to the x-axis.\n\n### Screenshots/recordings\n\n**Works in 4.1.3**\n\n<img width=\"1128\" height=\"757\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/62f75b7d-cfc5-435a-94b7-cc5084269496\" />\n\n**Broken in 6.0.0rc2**\n\n<img width=\"1955\" height=\"792\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/81402a85-ee3d-4ff8-a68f-88cb712b8b66\" />\n\n_Other_\nI created the dataset with\n```\nSELECT 1 AS [Test Column], 1 AS [Other_Column]\nINTO test_table_with_spaces\n```\n\nAnd I'm using a Microsoft SQL Server (MSSQL) data warehouse.\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\nNot applicable\n\n### Node version\n\nNot applicable\n\n### Browser\n\nFirefox\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35492\nTitle: \"View query\" on a chart whose query errored shows error message, not query (6.0.0rc2)\nState: open\nAuthor: sfirke\nLabels: \nBody:\n### Bug description\n\nIf a query fails with a DB engine error, the error message is already visible. A user might want to click the three dots on the chart and the View Query to see what part of the query is causing the problem. In previous versions, this worked. Now it's just showing the error message, not the query.\n\nI see the failed query in the logs when I hit \"View Query\" - is Superset re-running the query against the database when I click \"View Query\"? That seems like needless load on the data warehouse.\n\n```\n2025-10-03 18:15:02,764:WARNING:superset.views.error_handling:Exception\nTraceback (most recent call last):\n  File \"src/pymssql/_pymssql.pyx\", line 447, in pymssql._pymssql.Cursor.execute\n  File \"src/pymssql/_mssql.pyx\", line 1125, in pymssql._mssql.MSSQLConnection.execute_query\n  File \"src/pymssql/_mssql.pyx\", line 1156, in pymssql._mssql.MSSQLConnection.execute_query\n  File \"src/pymssql/_mssql.pyx\", line 1289, in pymssql._mssql.MSSQLConnection.format_and_run_query\n  File \"src/pymssql/_mssql.pyx\", line 1855, in pymssql._mssql.check_cancel_and_raise\n  File \"src/pymssql/_mssql.pyx\", line 1901, in pymssql._mssql.raise_MSSQLDatabaseException\npymssql._mssql.MSSQLDatabaseException: (207, b\"Invalid column name 'Alarm'.DB-Lib error message 20018, severity 16:\\nGeneral SQL Server error: Check messages from the SQL Server\\n\")\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/app/superset/connectors/sqla/utils.py\", line 160, in get_columns_description\n    cursor.execute(mutated_query)\n  File \"src/pymssql/_pymssql.pyx\", line 462, in pymssql._pymssql.Cursor.execute\npymssql.exceptions.ProgrammingError: (207, b\"Invalid column name 'Alarm'.DB-Lib error message 20018, severity 16:\\nGeneral SQL Server error: Check messages from the SQL Server\\n\")\n```\n\n### Screenshots/recordings\n\n**4.1.3**\n\n<img width=\"1156\" height=\"386\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/bd557998-4801-4b15-b901-4947c2f6ddfe\" />\n\n**6.0.0rc2**\n\n<img width=\"2232\" height=\"537\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/4e0fdadc-3a4b-4510-af92-12e47fa63c7f\" />\n\n(In both cases I dragged the \"View Query\" window onto the chart to make for a more concise screenshot)\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\nI don't know\n\n### Node version\n\nI don't know\n\n### Browser\n\nFirefox\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35491\nTitle: fix(explore): Include chart canvases in the screenshot\nState: closed\nAuthor: msyavuz\nLabels: size/S, explore, viz:charts, v6.0\nBody:\n### SUMMARY\nFixes the \"Download as image\" functionality in Explore view that was exporting blank images. The issue was that Canvas elements lose their pixel data when cloned using `cloneNode(true)`, which is used in the image download process to hide UI elements and handle styling.\n\nThis PR adds Canvas content preservation to the cloning process by:\n- Adding a `preserveCanvasContent` function that copies Canvas pixel data using `drawImage()`\n- Maintaining all existing cloning benefits (hiding menus, handling scrollable content, copying computed styles)\n- Ensuring chart visualizations render correctly in downloaded images\n\nThe root cause was that many chart libraries (D3.js, etc.) use Canvas elements for rendering, and these were being cloned as empty canvases.\n\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\n**Before:** Download as image exported only background color (blank image)\n**After:** Download as image captures the complete chart visualization\n\n### TESTING INSTRUCTIONS\n1. Go to Explore view and create any chart (line chart, bar chart, etc.)\n2. Click the menu button (\u22ee) in the top right\n3. Select \"Download\" \u2192 \"Download as image\"\n4. Verify the downloaded image contains the chart visualization and is not blank\n\n### ADDITIONAL INFORMATION\n- [x] Changes UI\n- [ ] Has associated issue:\n- [ ] Required feature flags:\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\n- [ ] Introduces new feature or API\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35490\nTitle: Partition Chart doesn't displays the full dimension.\nState: closed\nAuthor: wallsified\nLabels: viz:charts:partition\nBody:\n### Bug description\n\nWhen creating a Partition Chart, although it calculates the actual values of the query, the chart gets limited to the first 5 values of the dimension, so it's not displaying it properly. \n\n\n### Screenshots/recordings\n\n<img width=\"1143\" height=\"499\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/9ce32c36-7202-4fd4-b995-06a770de30f0\" />\n\n### Superset version\n\n5.0.0\n\n### Python version\n\n3.10\n\n### Node version\n\nNot applicable\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35489\nTitle: fix(explore): correct search icon in dashboard submenu\nState: closed\nAuthor: rebenitez1802\nLabels: size/XS, change:frontend, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nFixed incorrect icon in the dashboard search input within the \"On dashboards\" submenu. Changed from star icon to search icon.\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n<img width=\"1505\" height=\"560\" alt=\"image\" src=\"https://github.com/user-attachments/assets/492d2bb6-5882-47db-a4f3-044b49c0b41b\" />\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n1. Add a chart to more than 10 dashboards (SEARCH_THRESHOLD = 10)\r\n2. Navigate to the chart in Explore view\r\n3. Click the \u22ef (three dots) menu\r\n4. Hover over \"On dashboards\"\r\n5. Verify the search input displays a search icon instead of a star icon\r\n  \r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35488\nTitle: fix(dashboard): fix dataset search in filter config modal\nState: open\nAuthor: rebenitez1802\nLabels: size/L, dashboard:native-filters\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n Fixes dataset dropdown search in the native filter configuration modal. Search was not working because the component was filtering on a React component instead of plain text.\r\n\r\n  Added `customLabel` field with the table name and configured `optionFilterProps` to enable client-side filtering, matching the pattern used in ChartCreation.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n1. Open any dashboard in edit mode\r\n2. Click \"Add/Edit Filters\"\r\n3. Click \"Add Filter\" or edit existing filter\r\n4. Click on the Dataset dropdown\r\n5. Type a dataset name (e.g., \"wb_\")\r\n6. Verify the dropdown filters results correctly\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35487\nTitle: fix(Select): Prevent closing the select when clicking on a tag\nState: closed\nAuthor: msyavuz\nLabels: size/M, change:frontend, packages, v6.0\nBody:\n<!---\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\nExample:\nfix(dashboard): load charts correctly\n-->\n\n### SUMMARY\n<!--- Describe the change below, including rationale and design decisions -->\n\nFixes an issue where clicking on tags in the Select component's `oneLine` mode would cause the dropdown to not open because the click target would disappear during the click event.\n\nThe problem occurred when `oneLine` mode changed `maxTagCount` from 1 to 0 immediately when the dropdown was opened, causing the tag element to disappear while the user was clicking on it, preventing the click from registering.\n\n**Solution:**\n- Introduced a stable `maxTagCount` state that doesn't change immediately during click events\n- Used `requestAnimationFrame` to delay the tag count change until after the DOM has settled\n- Added proper state management with `useRef` to track when the dropdown is opening to prevent race conditions\n\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\n<!--- Skip this if not applicable -->\n\n**Before:** Clicking on tags in oneLine mode would sometimes fail to open the dropdown because the tag would disappear mid-click.\n\n**After:** Tags remain stable during click events, ensuring the dropdown opens reliably when clicking on any tag.\n\n### TESTING INSTRUCTIONS\n<!--- Required! What steps can be taken to manually verify the changes? -->\n\n1. Create a Select component with `mode=\"multiple\"` and `oneLine={true}`\n2. Set a value with multiple options so tags are displayed with overflow (e.g., 3+ options)\n3. Click directly on the first visible tag\n4. Verify that the dropdown opens consistently every time\n5. Verify that when the dropdown opens, only the overflow tag is shown\n6. Close the dropdown and verify the first tag reappears immediately\n\n**Test case:**\n```tsx\n<Select\n  mode=\"multiple\"\n  oneLine\n  value={[option1, option2, option3]}\n  options={options}\n/>\n```\n\n### ADDITIONAL INFORMATION\n<!--- Check any relevant boxes with \"x\" -->\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\n- [x] Has associated issue: Fixes #35132\n- [ ] Required feature flags:\n- [x] Changes UI\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\n  - [ ] Confirm DB migration upgrade and downgrade tested\n  - [ ] Runtime estimates and downtime expectations provided\n- [ ] Introduces new feature or API\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35486\nTitle: Text/markdown widget doesn't leave edit mode when user clicks elsewhere in same row (6.0.0rc2)\nState: closed\nAuthor: sfirke\nLabels: dashboard:editmode\nBody:\n### Bug description\n\n- Create a dashboard\n- Add a text/markdown box, click in it\n- Click away, elsewhere in the row - the box stays in edit view\n- Only when the user clicks elsewhere on the screen above or below the row does it revert to view mode\n\nThat's how I was able to produce this screenshot with two charts in edit mode:\n\n<img width=\"2273\" height=\"800\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/c4407650-5846-471f-ac33-c47b1a776197\" />\n\nThis is a regression from 4.1.3. In 4.1.3, if you put two such widgets next to each other, when you click on one, the other correctly changes from edit to view mode. The correct behavior is for clicking _anywhere_ outside the widget to revert it to edit mode.\n\nNow that I know the deal, I can work around it, but it was frustrating until I figured out the pattern.\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\nNot applicable\n\n### Node version\n\nNot applicable\n\n### Browser\n\nFirefox\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35485\nTitle: Bold markdown doesn't work in text/markdown widget on dashboard in 6.0.0rc2\nState: open\nAuthor: sfirke\nLabels: dashboard:markdown\nBody:\n### Bug description\n\nIn a text/markdown widget, if I put two asterisks, then text, then two asterisks, I expect it to come out bold. It's not working. Underscores and a single asterisk still create italics, that part works.\n\n**4.1.3**\n\n<img width=\"528\" height=\"562\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/78d5289e-57b9-445b-8a98-dcfef8f399d3\" />\n\n**6.0.0rc2**\n\n<img width=\"512\" height=\"612\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/614005b4-808b-4c14-b896-8c6ca10790cb\" />\n\nHere's the text entered, in both cases:\n\n<img width=\"532\" height=\"607\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/bd63e9f1-415e-4645-b6b3-01b01a870033\" />\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\nI don't know\n\n### Node version\n\nI don't know\n\n### Browser\n\nFirefox\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35484\nTitle: fix(playwright): Download dashboard correctly\nState: open\nAuthor: tahvane1\nLabels: size/S, dashboard:export\nBody:\n### SUMMARY\r\nScreenshots via Celery and Playwright were cut to visible area.\r\n\r\nI used a lot of time trying to figure out what broke dashboard screenshots as this really was showstopper for us... But I guess it was accidental that it worked in the beginning.\r\n\r\nThis is documentation from locator.screenshot that was used before for both dashboards and charts.\r\n\r\n> This method captures a screenshot of the page, clipped to the size and position of a particular element matching the locator. If the element is covered by other elements, it will not be actually visible on the screenshot. If the element is a scrollable container, only the currently scrolled content will be visible on the screenshot.\r\n\r\nSo it seems that it works now exactly as documented by Playwright. I changed dashboard export to use page.screenshot instead with full_page param set and now it works without issues.\r\n\r\nI'm assuming this also renders SCREENSHOT_TILED_ENABLED obsolete as to me it seems to do roughly the same thing but without user set limits (and it also works if dashboard is smaller than set limits).\r\n\r\nIssue exist with master and 6.0 branches.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\nBefore\r\n<img width=\"3200\" height=\"2400\" alt=\"before\" src=\"https://github.com/user-attachments/assets/aee58e1e-e0e5-4bc2-aa4d-d3735fcac333\" />\r\n\r\n\r\nAfter\r\n<img width=\"3200\" height=\"3264\" alt=\"after\" src=\"https://github.com/user-attachments/assets/a832863d-b1bc-4d00-bf51-1061a088d4bd\" />\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\nTested with Chromium and Following flags enabled\r\nALERT_REPORTS\r\nENABLE_DASHBOARD_SCREENSHOT_ENDPOINTS\r\nENABLE_DASHBOARD_DOWNLOAD_WEBDRIVER_SCREENSHOT\r\nPLAYWRIGHT_REPORTS_AND_THUMBNAILS\r\n\r\nDownload dashboard...\r\n\r\n### ADDITIONAL INFORMATION\r\n- [X] Has associated issue: Fixes #31158\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35482\nTitle: fix(sqlglot): adhoc expressions\nState: closed\nAuthor: betodealmeida\nLabels: size/L, preset-io, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nThis PR refactors adhoc SQL expression validation to properly handle expressions used as columns and metrics (e.g., `COUNT(*)`, `DISTINCT owners`, `CASE` statements).\r\n\r\n**Problem:**\r\nAdhoc SQL expressions in metrics, columns, WHERE, and HAVING clauses were being validated using `_process_sql_expression()`, which doesn't wrap them in a SELECT statement. This caused sqlglot parsing failures for valid expressions like `distinct owners` because they're not complete SQL statements on their own.\r\n\r\n**Solution:**\r\n- Introduced new `_process_select_expression()` method that wraps expressions in `SELECT {expression}` for validation, then extracts the processed result\r\n- Updated all adhoc expression processing to use the appropriate method:\r\n  - `_process_select_expression()` for metrics, columns, WHERE, and HAVING clauses\r\n  - `_process_orderby_expression()` (existing) for ORDER BY clauses\r\n  - `_process_sql_expression()` remains for complete SQL statements\r\n- Applied changes consistently across both `ExploreMixin` (base) and `SqlaTable` (override)\r\n- Added comprehensive unit tests including end-to-end validation with real sqlglot processing\r\n\r\n**Files Changed:**\r\n- `superset/models/helpers.py`: Added `_process_select_expression()` and updated 5 call sites\r\n- `superset/connectors/sqla/models.py`: Updated 2 override methods to use new function\r\n- `tests/unit_tests/models/helpers_test.py`: Added 9 unit tests covering edge cases and end-to-end flows\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\nBefore: \ud83d\ude22 \r\n\r\n<img width=\"1728\" height=\"1080\" alt=\"Screenshot 2025-10-03 at 11 38 15\u202fAM\" src=\"https://github.com/user-attachments/assets/e8b1c99e-1f34-46ca-ac08-aa0dbc7e7619\" />\r\n\r\nAfter: \ud83d\ude0d \r\n\r\n<img width=\"1728\" height=\"1080\" alt=\"Screenshot 2025-10-03 at 11 38 42\u202fAM\" src=\"https://github.com/user-attachments/assets/a76758b0-19a1-490a-b2ae-33e900d58e1b\" />\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35481\nTitle: feat(reports): allow custom na values\nState: open\nAuthor: SkinnyPigeon\nLabels: size/L, data:csv, alert-reports\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\nWe have encountered a case wherein a user's surname is being excluded from a report as the name is `NA`. Pandas' exclusion list for `null` values includes the value `NA`. I propose that we add a new feature flag to complement the existing one in place for uploads to allow users to customise which values are or are not allowed, `CSV_DEFAULT_NA_NAMES`. \r\n\r\nFor instance, in our use case, we would set the configuration as follows:\r\n\r\n```python\r\nCSV_DEFAULT_NA_NAMES = [value for value in list(STR_NA_VALUES) if value != 'NA']\r\nREPORTS_CSV_NA_NAMES = list(CSV_DEFAULT_NA_NAMES)\r\n```\r\n\r\nThe video below shows the before and after effect of this in action. To start, we see the config using the default value of \r\n\r\n```python\r\nfrom pandas._libs.parsers import STR_NA_VALUES\r\n```\r\n\r\nAfterwards, I reload the config with the above example, where we filter out `NA` from the list, allowing our user to have their data sent in a report.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n\r\nhttps://github.com/user-attachments/assets/76d406d0-ec85-41d9-9a15-d989936c7ab7\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\nI have added unit tests as well as deployed the changes locally. However, to test:\r\n1. Build and launch this branch\r\n2. Create a new Dataset with the following query: `select 'NANANANA' as first_name, 'JEFF' as middle_name, 'NA' as last_name`\r\n3. Create a report with a Chart based on this query\r\n4. Update the config to filter out `NA` from the list\r\n5. Rerun report\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [x] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [x] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35478\nTitle: feat(streaming): Streaming CSV uploads for over 100k records for constant memory usage\nState: open\nAuthor: amaannawab923\nLabels: size/XXL, change:frontend, data:csv, api, \ud83c\udfaa \ud83d\udd12 showtime-blocked\nBody:\nCSV_STREAMING_ROW_THRESHOLD=100000\r\n\r\n# \ud83d\udd27 Summary\r\nThis PR introduces **streaming CSV export** functionality for SQL Lab, enabling efficient exports of large query result sets with real-time progress tracking. Users can now export millions of rows without timeouts or memory errors, while seeing live progress updates during the download.\r\n\r\nhttps://github.com/user-attachments/assets/cc1dba33-1876-483b-979e-68571ff49759\r\n\r\n\r\n## \ud83d\udc1b The Issue\r\nWhen exporting large SQL Lab query results or Charts to CSV, users face several critical problems:\r\n\r\n- **Memory crashes**: Exporting 500K+ rows loads the entire dataset into memory at once, often crashing the browser tab\r\n- **Timeout failures**: Large exports take 2-3 minutes with no feedback, frequently timing out before completion\r\n- **No progress indication**: Users have no idea if the export is working or stuck, leading to multiple retry attempts\r\n- **Unreliable for production use**: Data analysts avoid CSV export for large datasets, resorting to manual workarounds\r\n\r\nFor example, a data analyst trying to export a 500,000-row financial report would experience a frozen browser, no progress bar, and likely a timeout error after waiting several minutes.\r\n\r\n## \ud83e\udde0 Root Cause\r\nThe current CSV export loads **all rows into memory at once** before generating the file. This means:\r\n\r\n- A 500,000-row export needs 500+ MB of memory loaded simultaneously\r\n- The browser tab is blocked until the entire file is ready\r\n- Network timeouts kill the request before large exports finish\r\n- There's no way to show progress since nothing streams to the user until completion\r\n\r\nThe existing architecture simply cannot scale beyond a few thousand rows reliably.\r\n\r\n## \u2705 The Fix\r\nThis PR implements a complete streaming CSV export system that:\r\n\r\n### Backend Improvements\r\n- **New streaming endpoint** (`/api/v1/sqllab/export_streaming/`) that sends data in chunks rather than all at once\r\n- **Server-side cursors** fetch rows from the database in batches of 1,000 instead of loading everything upfront\r\n- **Progressive response streaming** sends 64KB chunks to the browser as they're generated, keeping the connection alive\r\n- **Smart session management** prevents database connection issues during long-running exports\r\n\r\n### Frontend Enhancements\r\n- **Streaming Export Modal** shows real-time progress with row count, file size, and download speed\r\n- **Automatic threshold detection** using the `CSV_STREAMING_ROW_THRESHOLD` config (default: 1,000 rows)\r\n- **Small exports use traditional method** (instant download) while large exports automatically stream with progress\r\n- **Cancel button** lets users abort long-running exports without closing the browser tab\r\n\r\n### Configuration\r\nAdministrators can control when streaming activates by setting `CSV_STREAMING_ROW_THRESHOLD` in `superset_config.py`. This same threshold is used for both Chart and SQL Lab exports, providing consistent behavior across the platform.\r\n\r\n## \ud83e\uddea How It Works\r\n\r\n1. User clicks \"Download to CSV\" in SQL Lab\r\n2. Frontend checks if the result set is larger than `CSV_STREAMING_ROW_THRESHOLD` (default 100k rows)\r\n3. **For small exports**: Works exactly as before - instant download\r\n4. **For large exports**:\r\n   - Progress modal opens immediately\r\n   - Backend starts streaming CSV data in chunks\r\n\r\nThe key difference is that data flows continuously from database \u2192 backend \u2192 browser in manageable chunks, rather than accumulating in memory all at once.\r\n\r\n## \ud83d\uddbc\ufe0f UX Enhancements\r\n\r\n### After (with streaming):\r\n- Click \"Download to CSV\" on large result set\r\n- **Progress modal appears instantly** showing export has started\r\n- **Live progress bar** with percentage\r\n- **No browser freezing, no timeouts, no crashes**\r\n\r\nUsers now have full visibility and control over large exports, with the confidence that multi-million row downloads will complete successfully.\r\n\r\n## \ud83c\udfaf Impact\r\n\r\n### Memory Usage\r\n- **Before**: Entire dataset loaded in memory (500K rows = 500+ MB)\r\n- **After**: Constant 64KB buffer regardless of dataset size\r\n\r\n\r\n### User Experience\r\n- **Before**: No feedback, frequent failures, manual workarounds required\r\n- **After**: Clear progress, reliable completion, professional export experience",
  "Requirement ID: ISSUE-35477\nTitle: (feat-streaming): Streaming Csv Uploads for over 100k records\nState: closed\nAuthor: amaannawab923\nLabels: size/XXL, change:frontend, data:csv, api\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35466\nTitle: fix(TimeTable): resolve TypeScript OOM by simplifying sparkline series type\nState: closed\nAuthor: sadpandajoe\nLabels: size/S, viz:charts:timetable, review:draft\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n  \r\nFixes TypeScript heap out of memory error during compilation caused by overly complex type annotation in `SparklineCell.tsx`. This was part of PR #35180.\r\n\r\nThe issue occurs when TypeScript attempts to resolve `Record<SparkType, (props: SeriesProps<AxisScale, AxisScale, object>) => JSX.Element>`, which forces full resolution of deeply recursive generics from `@visx/xychart`, causing exponential type inference complexity and memory exhaustion.\r\n\r\n**Solution**: Replace explicit type annotation with type inference using `as const satisfies` pattern:\r\n\r\n  ```typescript\r\n  type SparklineSeriesComponent =\r\n    | typeof LineSeries\r\n    | typeof BarSeries\r\n    | typeof AreaSeries;\r\n\r\n  const chartSeriesMap = {\r\n    line: LineSeries,\r\n    bar: BarSeries,\r\n    area: AreaSeries,\r\n  } as const satisfies Record<SparkType, SparklineSeriesComponent>;\r\n ```\r\n\r\n  This approach:\r\n  - Avoids forcing TypeScript to resolve expensive SeriesProps generics\r\n  - Preserves full type safety with precise union types\r\n  - Follows \"NO any types\" modernization guideline\r\n  - No runtime behavior changes\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35464\nTitle: [6.0.0rc2] Fetch error NOT FOUND /api/v1/_openapi in Swagger after setting SUPERSET_APP_ROOT\nState: open\nAuthor: scottyeung\nLabels: api\nBody:\n## Description\nWhen using Apache Superset 6.0.0rc2, the Swagger UI shows a fetch error:\n\n```\nFetch error\nNOT FOUND /api/v1/_openapi\n```\n\nThis happens after setting the `SUPERSET_APP_ROOT` variable in `superset_config.py` to a custom root path (e.g., `/analytics`).\n\n## Steps to Reproduce\n1. Set `SUPERSET_APP_ROOT` in `superset_config.py`, for example:\nSUPERSET_APP_ROOT = \"/analytics\"\n\n2. Restart Superset server.\n3. Open Swagger UI, typically at `http://<host>:<port>/swagger/v1`.\n4. Observe that the Swagger UI fails to load the OpenAPI specification with the above fetch error.\n\n## Expected Behavior\nSwagger UI should load OpenAPI specification from the correct prefixed path, including the `SUPERSET_APP_ROOT` prefix. For example, if `SUPERSET_APP_ROOT = \"/analytics\"`, Swagger should fetch `/analytics/api/v1/_openapi`.\n\n## Actual Behavior\nSwagger UI attempts to fetch the OpenAPI spec from `/api/v1/_openapi` without the prefix, causing a 404 NOT FOUND error.\n\n## Additional Information\n- The root path prefix set by `SUPERSET_APP_ROOT` modifies all API endpoints.\n- Swagger UI configuration needs adjustment to respect this root path prefix.\n- The problem is known to affect custom root path and Swagger integration.\n- Restarting Superset and reinitializing with `superset init` does not fix the issue alone.\n- Proxy or reverse proxy configurations (e.g., Nginx) may also need matching prefix adjustments.\n\n## Possible Workarounds\n- Adjust Swagger UI base path configuration to include the root prefix.\n- Use full prefixed URLs when accessing API endpoints directly.\n- Check relevant GitHub issues on prefix routing and Swagger UI integration.\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\n6.0.0rc2\n\n### Python version\n\n3.10\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35461\nTitle: Helm chart 0.15.1 released but not published\nState: open\nAuthor: thatguyatgithub\nLabels: deploy:helm\nBody:\n### Bug description\n\n0.15.1 superset chart was released last week, but has not yet been published into https://apache.github.io/superset repository.\n\nAbove from that, current 0.15.1 chart is broken, due to infamous Bitnami repositories being deprecated. Not trying to get on politics or suggest what to decide, but a quick workaround could be switching to bitnamilegacy (which most people including myself wont suggest, but is honestly the quickest workaround to fix it).\n\nAny chances to get 6.x at least with a -beta tag or something in charts?\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [ ] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [ ] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35460\nTitle: fix(table-chart): code improvements + component refactor\nState: open\nAuthor: gabotorresruiz\nLabels: size/XXL, viz:charts:table, plugins\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nThis PR refactors the TableChart component to improve maintainability, testability, and code organization. It also improves the `Table Chart` header controls in several ways:\r\n\r\n1. **Fixed accessibility issue**: Removed non-functional `sr-only` class that was causing \"Select page size\" label to be visible. The class doesn't exist in the codebase, so the label was showing alongside the intended UI.\r\n\r\n2. **Improved responsive layout**: Replaced multiple `Space` components with Ant Design's `Flex` component for better control wrapping behavior. The controls now properly adapt to different chart widths when resized in dashboards.\r\n\r\n3. **Layout structure**:\r\n   - Left side: \"Show X entries per page\" selector\r\n   - Right side: `Search by` dropdown and `Search` input\r\n   - Controls wrap gracefully when space is limited\r\n   - All elements use proper theming tokens (`theme.sizeUnit`)\r\n\r\n4. **Code cleanup**: Removed unnecessary styled components and simplified the component structure using built-in `Ant Design` components.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\nBefore:\r\n<img width=\"589\" height=\"412\" alt=\"image (5)\" src=\"https://github.com/user-attachments/assets/90d0ab1e-377c-49ea-bc09-c3c3414e2a0b\" />\r\n\r\nAfter:\r\n<img width=\"1461\" height=\"415\" alt=\"Screenshot 2025-10-02 at 16 57 58\" src=\"https://github.com/user-attachments/assets/2dbcba51-8bb9-4f7c-ab65-bfd6a052b829\" />\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n1. Create (or open) a Table Chart with `server-side pagination` and `Search Box` enabled\r\n2. Verify the header shows \"Show X entries per page\" on the left\r\n3. Verify `Search by` dropdown and `Search` input appear on the right\r\n4. Add the chart to a dashboard\r\n5. Resize the chart to different widths and verify:\r\n   - Large width: controls stay on one row (page size left, search controls right)\r\n   - Medium width: controls wrap to separate rows\r\n   - Small width: all controls stack vertically\r\n6. Verify no \"Select page size\" text appears anywhere\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [X] Has associated issue: Fixes #35300 \r\nFixes #35500\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35459\nTitle: feat(pie): add the ability to make half a donut\nState: open\nAuthor: SBIN2010\nLabels: size/M, viz:charts:pie, plugins\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nThis PR add the ability to make half a donut\r\n\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n<img width=\"1133\" height=\"903\" alt=\"\u0421\u043d\u0438\u043c\u043e\u043a \u044d\u043a\u0440\u0430\u043d\u0430 \u043e\u0442 2025-10-03 00-01-28\" src=\"https://github.com/user-attachments/assets/972afada-c370-418f-916e-aaba269d6e4d\" />\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35456\nTitle: fix: fix intermittent unmount test failures\nState: closed\nAuthor: sadpandajoe\nLabels: size/XL, change:frontend, review:draft\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n\r\nFixes intermittent test failure in DatasetUsageTab causing \"document global was defined...\" React error.\r\n\r\n**Problem**: PR #34707 introduced an unmanaged `setTimeout` in the `handlePageChange` callback that caused async updates after test cleanup. When the component unmounted before the 100ms timeout fired, React would throw an error about the missing document global.\r\n\r\n**Root Cause**: The pagination scroll behavior used a bare `setTimeout` without cleanup:\r\n  ```typescript\r\n  setTimeout(() => {\r\n    const tableBody = tableContainerRef.current?.querySelector('.ant-table-body');\r\n    if (tableBody) {\r\n      tableBody.scrollTo({ top: 0, behavior: 'smooth' });\r\n    }\r\n  }, 100);\r\n ```\r\n\r\n**Solution:** Implement proper timeout cleanup using useRef + useEffect:\r\n  - Track timeout IDs with scrollTimeoutRef\r\n  - Clear timeout on component unmount via cleanup function\r\n  - Clear pending timeouts before setting new ones (prevents duplicate scrolls)\r\n  - Set ref to null after timeout executes\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n1. Verify tests pass: `npm test -- DatasetUsageTab.test.tsx`\r\n2. Expected: All 12 tests pass, including the 3 new timeout cleanup tests\r\n3. Verify no intermittent errors: `npm test -- ExploreChartPanel DatasetUsageTab`\r\n4. Expected: All 20 tests pass without \"document global was defined...\" error\r\n5. Test manual pagination (if testing UI):\r\n    - Navigate to a dataset with >25 charts\r\n    - Click pagination rapidly (page 2 \u2192 page 3 \u2192 page 4)\r\n    - Verify table scrolls to top smoothly without duplicate scroll operations\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35454\nTitle: fix(security): Add active property to guest user\nState: open\nAuthor: msyavuz\nLabels: size/XS, authentication:access-control\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nFixes the error by adding a property for active on guest user.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\nEmbed a dashboard and see that there are no errors.\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [x] Has associated issue: Fixes #35284 \r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35453\nTitle: fix(ag-grid-table): remove enterprise features to use community version\nState: closed\nAuthor: amaannawab923\nLabels: size/S, change:frontend, plugins, v6.0\nBody:\n## SUMMARY\r\n  \ud83d\udd27 Remove AG Grid Enterprise features to use community version only. AG Grid has strict enforcement where using any enterprise-only\r\n  options without the corresponding enterprise modules registered will cause the table to render blank. This PR fixes those issues by\r\n  removing all enterprise features.\r\n\r\n  ## BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n  **Before:** \u274c\r\n  - Blank table rendering due to enterprise options being used without enterprise modules\r\n  - Runtime error: \"AG Grid: error  200 Unable to use rowGroupPanelShow as RowGroupingPanelModule is not registered\"\r\n  - Console errors for missing enterprise  modules (enableRowGroup, enableValue)\r\n\r\n  \r\n<img width=\"1695\" height=\"903\" alt=\"Screenshot 2025-10-02 at 9 55 30\u202fPM\" src=\"https://github.com/user-attachments/assets/aed2c1da-91a3-41d7-8e01-c6f0c777252a\" />\r\n\r\n\r\n  **After:** \u2705\r\n  - AG Grid table renders correctly using only community features\r\n  - No enterprise module errors\r\n  - Table displays data properly with all community features functional\r\n  \r\n<img width=\"1667\" height=\"887\" alt=\"Screenshot 2025-10-02 at 9 56 12\u202fPM\" src=\"https://github.com/user-attachments/assets/fc7e2c23-0ab8-4b3d-b79d-48039c9230fb\" />\r\n\r\n  \r\n\r\n  ## TESTING INSTRUCTIONS\r\n  1. \u2728 Create a new chart using the AG Grid Table visualization\r\n  2. \u2705 Verify the table renders correctly with data (not blank)\r\n  3. \ud83d\udd0d Test column sorting, filtering, and resizing functionality\r\n  4. \ud83d\udc1b Verify no console errors related to missing AG Grid modules\r\n  5. \ud83d\udcc4 Confirm pagination works as expected\r\n  6. \ud83d\udd0e Test search and column rearrangement features",
  "Requirement ID: ISSUE-35452\nTitle: fix(slice): Fix using isdigit when id passed as int\nState: closed\nAuthor: Antonio-RiveroMartnez\nLabels: size/XS, #bug:newfeature, v6.0\nBody:\n### SUMMARY\r\nAddressing the following error on the helper for slices when a thumbnail is retrieved from cache by the celery tasks.\r\n\r\n```\r\nline 371, in id_or_uuid_filter\r\n    if id_or_uuid.isdigit():\r\nAttributeError: 'int' object has no attribute 'isdigit'\r\n```\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35451\nTitle: fix(pinot): more functions\nState: closed\nAuthor: betodealmeida\nLabels: size/L, data:connect:pinot, preset-io, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nMore improvements to the Pinot dialect, handling functions that behave different from the parent MySQL dialect.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\nAdded tests for every function in the documentation.\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35447\nTitle: fix(test): changed test use unsaved changes prompt\nState: closed\nAuthor: SBIN2010\nLabels: size/L\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\nAfter adding PR #35307, linter checks do not pass\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nThis is what is corrected in this\r\n\r\n[testing guidelines](https://github.com/apache/superset/wiki/Testing-Guidelines-and-Best-Practices#avoid-nesting-when-youre-testing)\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\nBEFORE\r\n<img width=\"695\" height=\"218\" alt=\"image\" src=\"https://github.com/user-attachments/assets/39e9cee6-8b15-415d-8ef1-f1bbd104097c\" />\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35427\nTitle: fix(pinot): `SUBSTR` function\nState: closed\nAuthor: betodealmeida\nLabels: size/S, data:connect:pinot, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nImplement `SUBSTR` for Pinot correctly, otherwise if we parse and generate we get `SUBSTRING`.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35426\nTitle: fix(pinot): `DATE_SUB` function\nState: closed\nAuthor: betodealmeida\nLabels: size/M, data:connect:pinot, preset-io, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nSimilar to https://github.com/apache/superset/pull/35424, but for `DATE_SUB`.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35425\nTitle: feat(tree chart): add initial tree depth to tree chart\nState: open\nAuthor: SBIN2010\nLabels: size/S, viz:charts:echarts, plugins\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\nThis PR Tree chart improvement\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nidea #18520 implemented\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n<img width=\"1713\" height=\"1011\" alt=\"\u0421\u043d\u0438\u043c\u043e\u043a \u044d\u043a\u0440\u0430\u043d\u0430 \u043e\u0442 2025-10-01 23-26-28\" src=\"https://github.com/user-attachments/assets/77348eb7-213a-4b89-ae2e-e1199ee84405\" />\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35424\nTitle: fix(pinot): `DATE_ADD` function\nState: closed\nAuthor: betodealmeida\nLabels: size/M, data:connect:pinot, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nFix the Pinot `DATE_ADD` and logging of parsing errors.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35422\nTitle: [SIP-186] User Timezone Selection\nState: open\nAuthor: richardcrist\nLabels: sip, global:timezone, review:checkpoint\nBody:\n*Please make sure you are familiar with the SIP process documented*\n[here](https://github.com/apache/superset/issues/5602). The SIP will be numbered by a committer upon acceptance.\n\n## [SIP-186] Proposal for User Timezone Selection\n\n### Motivation\n\nCurrently, I am in Central time zone, but our Superset server and application (appropriately) use UTC time zone. All our dates in table data are also stored in UTC. Currently if user selects \"current day\" in time range filter, then at 7pm Central time it changes selected date from current date to my next day date, because the time range filter is on UTC time.  This can cause confusion because user does not know nor see this behavior, only the underlying SQL queries referencing from and to dates via jinja templating see that the date has changed. Suddenly the user gets no data or unexpected data as time range has shifted to next day from user point of view in Central time.\n\n### Proposed Change\n\nProposal is to make available to user a time zone selector, such that when they use a time range filter, all selections they make are assumed to be in that time zone.  That way if they select something like \"current day\", then the resulting time range will be from \"day at midnight\" to \"day+1 at midnight\" and will not shift day until midnight their local time.  All other relative time options such as \"last\" will also work correctly per their time zone.  Also, it would be good if the user time zone selector functionality could also be available in an automated fashion somehow. Example: User already selects, via custom interface within Superset, a warehouse, which implies a time zone. When user selects a warehouse, then it would be good to be able to programmatically set the user time zone to match warehouse time zone.  Then when user selects time range in filter it will match what they are expecting for time zone.\n\n<img width=\"407\" height=\"568\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/c86354e6-1615-4514-9e3c-3f8b94df29a8\" />\n\n### New or Changed Public Interfaces\n\nDescribe any new additions to the model, views or `REST` endpoints. Describe any changes to existing visualizations, dashboards and React components. Describe changes that affect the Superset CLI and how Superset is deployed.\n\nUser facing browser page would offer selection of time zone, maybe in top right similar to how Airflow does it:\n\n<img width=\"1287\" height=\"208\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/2fa6e833-1052-4478-9905-bdb08716e251\" />\n\nIn Superset it could be placed similar:\n\n<img width=\"1307\" height=\"909\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/f01f5e2a-6f20-4a0e-9685-9dbe9e21e570\" />\n\n### New dependencies\n\nDescribe any `npm`/`PyPI` packages that are required. Are they actively maintained? What are their licenses?\n\n**Not going to lie, I went to AI for this:**\n\nTo enable user selection of standard time zones (like \"America/Chicago\") in a Superset time range filter, these npm and PyPI packages are recommended for providing a dropdown of IANA time zone names:\n\n#### Node.js/NPM Packages\n\n- **@vvo/tzdb:** This package provides a comprehensive, always up-to-date list of IANA time zone names and related metadata. It is widely used for generating dropdowns and supports direct retrieval of time zone names such as \"America/Chicago\".[1][2][3]\n- **countries-and-timezones:** Another popular package allowing lookup and listing of all IANA-compliant time zones, with extras like country associations.[4][5]\n- **@cicatriz/timezone-toolkit:** Provides functions to list all IANA time zones or filter them by region (e.g., \"America\", \"Europe\").[6]\n\n#### Python/PyPI Packages\n\n- **tzdata:** A PyPI package that brings the IANA time zone database into Python environments. It's used as a data source for time zone info.[7]\n- **zoneinfo (Python 3.9+ standard library):** Built-in support for IANA zones, using system or tzdata-provided data; can enumerate all valid IANA zone names.[8][9]\n- **pytz:** Allows access to the full set of IANA time zone names via `pytz.all_timezones`, supporting \"America/Chicago\" style identifiers.[10]\n\n#### How These Fit Your Superset Proposal\n\n- On the **frontend (JavaScript/React)**: Use either `@vvo/tzdb` or `countries-and-timezones` to generate selectable time zone lists in the UI.\n- On the **backend (Python/Flask)**: Use `zoneinfo`, `tzdata`, or `pytz` to validate, interpret, and convert user-entered time zones.\n\nAll of these packages ensure the user can select any official time zone in IANA's canonical \"Region/City\" format.[4][1][7][10]\n\n[1](https://github.com/vvo/tzdb)  [2](https://www.[npmjs](https://www.npmjs.com/package/@cicatriz/timezone-toolkit).com/search?q=keywords%3Atimezones+list)  [3](https://stackoverflow.com/questions/66490421/valid-iana-timezone-list)  [4](https://www.npmjs.com/package/countries-and-timezones)  [5](https://classic.yarnpkg.com/en/package/countries-and-timezones)  [6](https://www.npmjs.com/package/@cicatriz/timezone-toolkit)  [7](https://[pypi](https://pypi.org/project/tzdata/).org/project/tzdata/)  [8](https://docs.python.org/3/library/zoneinfo.html)  [9](https://peps.python.org/pep-0615/)  [10](https://pypi.org/project/pytz/)  [11](https://stackoverflow.com/questions/73727629/dynamic-setting-the-timestamp-fields-in-superset-dashboards)  [12](https://www.npmjs.com/search?q=timezone)  [13](https://github.com/apache/superset/discussions/19176)  [14](https://day.js.org/docs/en/timezone/timezone)  [15](https://superset.apache.org/docs/configuration/timezones/)  [16](https://www.npmjs.com/package/date-fns-tz)  [17](https://gist.github.com/dineshsaini/69dc28c8a5258808cfe5e1c17433972c)  [18](https://socket.dev/npm/category/utilities/regional/timezone)  [19](https://www.iana.org/time-zones)  [20](https://superset.apache.org/docs/configuration/databases/)\n\n### Migration Plan and Compatibility\n\nHopefully none if the user time zone selection can be stored as cookie locally. \n\n### Rejected Alternatives\n\nI have tried to make use of every existing possible feature in current Superset version 5, but nothing is consistent or foolproof solution. In our data tables we store dates in UTC but in same data row also record the timezone.  We can convert the UTC data from table into corresponding time zone, then compare to user time filter selection. Thing is, user knows which time zone of their selected data. If user selects completely manually entered from and to, regardless of Superset UTC default, we can assume the user is specifying date and time values in the desired time zone.  This works fine for our purposes.  However, if user selects a non-specific selection for from or to, such as \"current day\", \"last\", etc., then the resulting date and time is in UTC and will not be what user expects.  Currently only way to be sure is request that the user only use manual date and time selection with no non-specific type of entry.  There is no way to remove relative non-specific options.",
  "Requirement ID: ISSUE-35421\nTitle: chore(dependabot): switch back to daily cadence (a trickle rather than a flood)\nState: closed\nAuthor: rusackas\nLabels: size/M, preset-io\nBody:\nTitle says it all, right? ;)\r\n\r\nAlso adding @sadpandajoe to codeowners for github actions for things like this. \r\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35420\nTitle: fix(pinot): dialect date truncation\nState: closed\nAuthor: betodealmeida\nLabels: size/M, data:connect:pinot, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nFix time truncation in the Pinot dialect. Because it's based off the MySQL dialect it's converting:\r\n\r\n```sql\r\nSELECT CAST(DATE_TRUNC('day', col) AS TIMESTAMP)\r\n```\r\n\r\nInto:\r\n\r\n```sql\r\nSELECT TIMESTAMP(DATE(col))\r\n```\r\n\r\nWhich is invalid since `TIMESTAMP()` is not a Pinot function.\r\n\r\nWith the changes in this PR it remains valid:\r\n\r\n```sql\r\nSELECT CAST(DATE_TRUNC('DAY', col) AS TIMESTAMP)\r\n```\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\nAdded tests.\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35419\nTitle: fix(cache): ensure SQL is sanitized before cache key generation\nState: closed\nAuthor: betodealmeida\nLabels: size/L, preset-io, global:async-query, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nFixes an isssue where we get a cache miss because we sanitize SQL clauses (where/having) when caching a query object, but not when reading it from the cache. With the migration to `sqlglot` this introduces additional whitespace to the clauses, which significantly alters them, causing the cache miss. But the root of the problem is the inconsistent validation when genereating the cache key on write vs. read.\r\n\r\nI also changed the `sanitize_clause` method to strip whitespace and comments, making the key more compact and consistent.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\nUpdated and added tests.\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35418\nTitle: fix(explore): Remove query autotrigger\nState: closed\nAuthor: kgabryje\nLabels: size/S, explore, viz:charts:deck.gl, plugins\nBody:\n### SUMMARY\r\nPR https://github.com/apache/superset/pull/34276 added autotriggering a query after any change in the control panel. This is not an expected feature - triggering a query should be a conscious choice by the user.\r\nThis PR removes that feature and adds `renderTrigger` prop to the deckgl handlebars input.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n1. Open a deckgl chart in Explore\r\n2. Change some controls - verify that the query is not triggered automatically\r\n3. Make some changes in \"Customize tooltips template\" - verify that your changes are reflected in the chart without triggering a query\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35416\nTitle: fix: Broken splitter in sql lab and some minor visual fixes\nState: closed\nAuthor: kgabryje\nLabels: sqllab, size/L, change:frontend, dependencies:npm, packages\nBody:\n### SUMMARY\r\nThis PR fixes some UI 6.0 bugs.\r\n1. Due to a bug in our AntD version, the splitter (component for changing containers heights) in SQL Lab would sometimes freeze the UI and nothing could be done until user refreshes the page. This was fixed by bumping AntD version\r\n2. The confirmation modal when swapping datasources in Explore had 2 primary buttons - there should only be 1\r\n3. The alert after swapping datasets in Explore - the buttons for clearing the control panel or dismissing the alert were missing\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\nBefore:\r\n\r\nhttps://github.com/user-attachments/assets/818a0b89-0a2e-40bd-af64-5dc7cec4e6c9\r\n\r\n\r\n<img width=\"443\" height=\"233\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4cbc01e5-02f7-4e02-a6d0-4f94a2ca2205\" />\r\n\r\n<img width=\"350\" height=\"194\" alt=\"image\" src=\"https://github.com/user-attachments/assets/1ae61d4d-8359-4f5a-8786-91070049b6b6\" />\r\n\r\nAfter:\r\n\r\nhttps://github.com/user-attachments/assets/55c90524-d38e-4a68-9aa8-0cd1eb7688ce\r\n\r\n<img width=\"459\" height=\"236\" alt=\"image\" src=\"https://github.com/user-attachments/assets/2c9ef7ca-0302-4463-9e45-26de5b428e05\" />\r\n\r\n<img width=\"349\" height=\"237\" alt=\"image\" src=\"https://github.com/user-attachments/assets/f3828a00-db12-4923-81f1-331f339237f8\" />\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\n1. Go to SQL Lab, play with the splitter a bit, confirm that it doesnt freeze\r\n2. Go to Explore, swap the dataset\r\n3. Verify that the confirmation modal has a primary button for confirm and secondary for cancel\r\n4. Verify that the alert in the control panel has visible buttons for dismising the alert and clearing the control panel\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35414\nTitle: [6.0.0-RC2] Oracle Database Bar Char Error: ORA-00979: not a GROUP BY expression\nState: open\nAuthor: n3v3rdie\nLabels: data:connect:oracle, viz:charts:bar\nBody:\n### Bug description\n\nSteps to Reproduce\n\n1. Create database connection to Oracle 19.24 using cx_Oracle.\n2. Create a bar chart visualization.\n3. Get Chart Error \"Data error\"\n4. Open View query.When \"Formatted\" = False \u2192 SQL query is valid.\nWhen \"Formatted\" = True \u2192 SQL query becomes invalid, Superset generates GROUP BY 1,2,3 which is not supported by Oracle.\n\nSuperset shows invalid query with positional grouping (GROUP BY 1,2,3) which fails in Oracle.\n\nIn Oracle, positional GROUP BY (GROUP BY 1,2,3) is not supported. Query should instead use explicit column names.\n\n### Screenshots/recordings\n\n<img width=\"534\" height=\"116\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/7d9eff1e-5b50-4aa7-a5f7-96285953f018\" />\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35357\nTitle: Missing \"Upload CSV/Excel\" UI buttons in Superset 5.0.0 after upgrade from 4.x\nState: closed\nAuthor: shihkauskas\nLabels: data:csv\nBody:\n### Bug description\n\nSuperset version: 5.0.0\nPython version: 3.11\nVirtual environment: Yes (venv)\nMetadata DB: SQLite\nInstallation method: pip install apache-superset\n\nDescription:\nAfter upgrading from Superset 4.x to 5.0.0 in a Python venv environment with default SQLite metadata database, the UI buttons for \"Upload CSV\" and \"Upload Excel to Database\" are not visible, even though:\n\nENABLE_FILE_UPLOAD = True is set in superset_config.py\nThe target database (non-metadata DB) has \"Allow file upload\" enabled in UI\nUser has Admin role\nsuperset db upgrade and superset init were executed post-upgrade\n\nIs there any way to enable this feature manually in the table?\n\n<img width=\"1090\" height=\"293\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/5e587d9b-bd6a-4e2d-9cee-ca0091b30fbc\" />\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\n5.0.0\n\n### Python version\n\n3.11\n\n### Node version\n\nI don't know\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35355\nTitle: Action Log issues\nState: closed\nAuthor: Devika7733\nLabels: browser:chrome, dashboard:import, api\nBody:\n### Bug description\n\nHi Team, While performing dashboard import through the API endpoint using the following curl command:  \"curl -k -s -b cookies.txt --url https://superset-test.com/api/v1/dashboard/import/   --header 'accept: application/json'   --header \"authorization: Bearer $ACCESS_TOKEN\"   --header 'content-type: multipart/form-data'   --header 'referer: https://superset-test.com'   --header \"x-csrftoken: $CSRF_TOKEN\"   --form 'formData=@/mnt/c/Users/Downloads/dashboard_export_20250509T031336.zip'   --form overwrite=true   --form 'passwords={\"databases/TestReports.yaml\": \"DBPA$$WORd\"}' We noticed that the password is visible in the action log. Is there any way to hide this password? We are currently encrypting the password using SOPS and decrypting it when passing to the API.\"\n\n\n\n### Superset version\n\n5.0.0\n\n### Python version\n\n3.11\n\n### Node version\n\n18 or greater\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35354\nTitle: refactor(frontend): Flatten ESLint configuration and remove Airbnb dependency\nState: open\nAuthor: rusackas\nLabels: size/XXL, dependencies:npm, review:draft\nBody:\n## Summary\n\nThis PR flattens the ESLint configuration by extracting all rules from `eslint-config-airbnb` directly into our `.eslintrc.js` file and removing the Airbnb dependency. This gives us full control over our linting rules and modernizes our configuration.\n\n### Changes Made\n\n1. **Extracted all Airbnb rules**: Added 426 rules (251 core ESLint + 175 plugin rules) directly to our configuration\n2. **Removed Airbnb dependency**: Removed `eslint-config-airbnb` from package.json\n3. **Added required plugins to config**: Added `import`, `jsx-a11y`, and `react-hooks` to the plugins array (these were already installed as dependencies)\n4. **Cleaned up redundant rules**: Removed 116 redundant rules that were either:\n   - Set to ESLint defaults (62 rules)\n   - Deprecated (6 rules)\n   - Already at their default values (48 rules)\n\n### Benefits\n\n- **Full control**: All ESLint rules are now explicitly in our config\n- **Transparency**: No hidden rules from external configs\n- **Maintainability**: Easier to understand and modify our linting setup\n- **Modern approach**: Aligns with ESLint's direction toward flat configs\n- **No new dependencies**: All required plugins were already installed\n\n### Testing\n\n- \u2705 All existing ESLint rules continue to work\n- \u2705 `npm run lint` passes without any new violations\n- \u2705 No changes to actual code, only configuration\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)",
  "Requirement ID: ISSUE-35353\nTitle: refactor(frontend): Flatten ESLint configuration and remove Airbnb dependency\nState: closed\nAuthor: rusackas\nLabels: size/XXL, doc, dependencies:npm\nBody:\n## Summary\n\nThis PR completes the ESLint configuration flattening by extracting all rules from `eslint-config-airbnb` and adding them directly to our config file. This gives us full control over our linting rules and reduces external dependencies.\n\n## Motivation\n\n- **Control**: All linting rules are now explicit and easily modifiable\n- **Transparency**: No more hidden rules from external configs\n- **Maintenance**: Easier to update individual rules without waiting for upstream changes\n- **Dependencies**: Reduced package footprint\n\n## Changes Made\n\n### 1. Extracted Airbnb Rules\n- Analyzed and extracted 426 total rules from Airbnb config:\n  - 251 core ESLint rules\n  - 175 plugin rules (import, react, jsx-a11y, react-hooks)\n- Skipped 2 rules not needed with React 17+ (`jsx-uses-react`, `react-in-jsx-scope`)\n\n### 2. Updated Configuration\n- Added all extracted rules directly to `.eslintrc.js`\n- Added required plugins to the plugins array: `['import', 'jsx-a11y', 'react-hooks']`\n- Removed `'airbnb'` from extends arrays\n\n### 3. Removed Dependencies\n- Removed `eslint-config-airbnb` and 4 utility packages:\n  - `object.assign`\n  - `object.entries`\n  - `confusing-browser-globals`\n  - `semver` (from eslint-config-airbnb-base)\n\n### 4. Cleanup\n- Removed 116 redundant rules:\n  - 62 rules set to 'off' that are already off by default\n  - 6 deprecated rules that no longer exist in ESLint\n  - 48 rules set to ESLint's default values\n\n## Testing\n\n- \u2705 ESLint configuration is valid\n- \u2705 All required plugins are installed and working\n- \u2705 Linting works on all file types (JS, JSX, TS, TSX)\n- \u2705 Pre-commit hooks pass\n- \u2705 All existing linting behavior is preserved\n\n## Benefits\n\n- **Complete control** - All rules are now explicit in our config\n- **No external config dependencies** - Everything is self-contained\n- **Easier to modify** - Can directly see and change any rule\n- **Reduced dependencies** - Removed 5 packages total\n- **Same behavior** - All the same rules are enforced\n\n## Next Steps (Future PRs)\n\n- Consider migrating to the new ESLint flat config format (ESLint 9+)\n- Review and potentially adjust rule severities based on team preferences\n- Consider enabling additional useful rules that were previously disabled\n\n\ud83e\udd16 Generated with Claude Code",
  "Requirement ID: ISSUE-35350\nTitle: fix: table quoting in DBs with `supports_cross_catalog_queries=True`\nState: closed\nAuthor: betodealmeida\nLabels: size/L, data:connect, preset-io, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nFix for https://github.com/apache/superset/issues/35116: when DBs have `supports_cross_catalog_queries=True` the table name is being incorrectly quoted.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\nAdded unit tests.\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [X] Has associated issue: Fixes #35116\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35349\nTitle: feat(themes): add enhanced validation and error handling with fallback mechanisms\nState: open\nAuthor: rebenitez1802\nLabels: size/XL, change:frontend, hold:testing!, global:theming\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n Implements enhanced theme validation and error handling for Superset's  theme system with comprehensive fallback mechanisms. This PR introduces:\r\n\r\n  - Enhanced theme token validation with detailed error reporting for invalid theme tokens\r\n  - error recovery with fallback to system default themes when theme application fails\r\n  - Feature flag controlled validation (ENHANCED_THEME_VALIDATION) to enable/disable advanced validation\r\n  - Partial theme loading that filters out invalid tokens while preserving valid ones\r\n  - Improved ThemeModal with real-time validation feedback and user guidance\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n![Theme_Token_validation](https://github.com/user-attachments/assets/54ba86cb-e0a8-440a-be19-4cd5b4432aa6)\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\nTo test live token validation:\r\n  1. Enable enhanced validation:\r\n    - Set `ENHANCED_THEME_VALIDATION: True` in feature flags\r\n    \r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35348\nTitle: Case Sensitive Schema Names\nState: open\nAuthor: M11VCS\nLabels: validation:required, data:databases\nBody:\n### Bug description\n\nHello,\nI'm using SQLAlchemy-ibmi  package with Superset on a Ubuntu box.\nWhen I create a dataset it fails on schema names which are shown in lowercase except  schemas that on IBM I have a special character , like \u00a3 or  \u00a7 , in their name.\nThis  schemas  are shown in uppercase and , on ly for these ones, everything works fine.\nSchema in IBM I are all UPPERCASE by definition, so I do not understand why in Superset are treated in lowercase.\nIs there any workaround to list all schema in UPPERCASE so I can proceed with my development.\nThank you for your support.\n\n\n<img width=\"130\" height=\"317\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/916e1025-2461-468d-8254-9221d69e95d0\" />\n\n<img width=\"679\" height=\"84\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/91ed5e00-9f8d-4daa-9791-a4635f665434\" />\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [ ] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [ ] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35347\nTitle: Stop button in Chart view doesn't stop running query in Trino, and other databases\nState: open\nAuthor: n-pitabread\nLabels: validation:required, api\nBody:\n### Bug description\n\nWhen running a query in Chart view or Dashboard view, Clicking \"Stop\" button does not have effect to the running query. Clicking Stop button, closing tab, refreshing page or going to other page leaves the query running in Trino, and other databases.\n\n**How to reproduce the bug**\n- Go to 'Chart' view\n- Click on 'Update Chart' to execute query\n- Click on 'Stop' to stop query\n\n**Expected results**\nRunning query is cancelled in a database.\n\n**Actual results**\nNothing happens.\n\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.11\n\n### Node version\n\n18 or greater\n\n### Browser\n\nChrome\n\n### Additional context\n\nClicking \"Stop\" button aborts fetch request, but that doesn't cancel running query in a database since no cancel query is handle on the backend side after the button is clicked unlike the SQL Lab view which cancel the query by sending stop request to backend when clicking \"Stop\"\n\nTo stop a running query we need to terminate query in Trino database.\n\nSimilar issue have been posted, but got close https://github.com/apache/superset/issues/24890\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [ ] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35346\nTitle: feat(helm): migrate bitnami helm charts\nState: open\nAuthor: mihaiiftode\nLabels: size/L, deploy:helm\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nIf you were not aware bitnami made changes to their helm charts and images, and images and charts were removed: https://github.com/bitnami/charts\r\n\r\n<img width=\"851\" height=\"538\" alt=\"image\" src=\"https://github.com/user-attachments/assets/9b18a611-a009-431e-b04d-f1b35592a8f8\" />\r\n\r\nI wasn't sure if maybe it should be using charts that bitnami migrated out of their main repo or use another open source alternative. I went with https://github.com/CloudPirates-io/helm-charts as the configuration parity is almost the same. \r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\nYou can manually deploy this on a k8s cluster, I tested it on a cluster and the application seems to be spawning, and migrations working correctly\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35345\nTitle: fix(auth): redirect anonymous attempts to view dashboard with next\nState: open\nAuthor: sfirke\nLabels: size/L, authentication, dashboard:security:access, api\nBody:\n### SUMMARY\r\nFixes #35344. Restores functionality from #30380 while retaining the security improvement made in [#35237](https://github.com/apache/superset/pull/35237): not leaking the existence of a dashboard the user doesn't have access to.\r\n\r\nThis may be a minor improvement on #35237, as that uses `Response(status=404)` and returns a bare 404 page. Now it uniformly uses `abort(404)` to return a Superset-formatted 404 page in both cases.\r\n\r\nI tested these workflows:\r\n1. Public dashboards remain visible to unauthenticated users\r\n2. Anonymous (unauthenticated) users are always redirected to login when entering a dashboard URL, regardless of whether it exists or they have access. The `next` parameter is used to pass this redirect through the auth process.\r\n3. Authenticated users receive the same Superset-branded 404 page whether they try to visit a dashboard they don't have access to or a dashboard that doesn't exist.\r\n\r\n### TESTING INSTRUCTIONS\r\nI added tests, I also deployed to my test environment and manually verified each scenario above. I'm using Microsoft Azure SSO. Was not able to test other auth types like OIDC.\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n- [x] Has associated issue: #35344",
  "Requirement ID: ISSUE-35344\nTitle: Redirect flow for not-logged-in users attempting to view a dashboard has broken\nState: open\nAuthor: sfirke\nLabels: authentication:access-control\nBody:\n### Bug description\n\nThe enhancement previously merged in #30380 was broken in two places, as far as I can tell:\n1. A [PR last week](https://github.com/apache/superset/pull/35237/files#diff-76c6a0b5c14a297c62ac3207416870471affdb153c5ae12b96d7b7da9304e9ddL797-R772) now just throws a 404 if a user doesn't have access to a dashboard. If not logged in, a login should be attempted first, passing the target URL as a `next` parameter.\n2. The massive theming PR #31590 moved Login CRUD functionality into Superset, instead of relying on FAB. That may be what caused the `next` URL parameter to be lost during the roundtrip to the SSO provider.\n\nThe prior behavior should be restored: if an anonymous user tries to view a dashboard (whether or not it exists), they should be prompted to log in. Upon completing login, then the dashboard access check is performed and they are granted or denied as normal.\n\n### Superset version\n\nmaster / latest-dev, I branched off it this morning\n\n### Browser\n\nFirefox\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.\n\n## Screenshot\n\nThis is from 6.0.0rc2:\n\n<img width=\"1848\" height=\"1055\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/06708282-badf-4be2-8d10-181a5ac6a0bd\" />\n\nI've moused-over the Login button when taking this screenshot. You can see that the Login button link appears in the bottom-left of the screenshot. Note that it's missing the `/?next=https:// ...` that was present in the URL, and thus that redirect path will be lost in the process of logging in.",
  "Requirement ID: ISSUE-35343\nTitle: feat(Chart): Save Chart State globally\nState: open\nAuthor: alexandrusoare\nLabels: size/XL, dashboard, viz:charts, plugins, packages\nBody:\n### SUMMARY\r\nThe changes you do in a dashboard for a chart (reorder columns, hide columns, filters etc) should be saved.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n1. Go to a dashboard\r\n2. Add a Table V2\r\n3. Make some modifications to it (eg. reorder columns, apply a filter)\r\n4. Export the chart as a csv or share the dashboard as a permalink\r\n5. The changes should be reflected in the permalink/csv\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [x] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35342\nTitle: fix: adhoc orderby in explore\nState: closed\nAuthor: betodealmeida\nLabels: size/L, explore, preset-io, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nAdhoc expressions in `ORDER BY` stopped working with the introduction of `sqlglot`, since it can't parse incomplete expressions like `col DESC, COUNT(*)`. This PR introduces a custom helper method that handles the parsing, and also cleans up some of the dupicate logic of the original code.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\nN/A\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\nAdded tests and tested locally:\r\n\r\n<img width=\"1350\" height=\"435\" alt=\"Screenshot 2025-09-30 at 12 17 35\u202fPM\" src=\"https://github.com/user-attachments/assets/b16316a7-510f-4f38-b0de-61dca1bd6e7d\" />\r\n\r\n<img width=\"383\" height=\"596\" alt=\"Screenshot 2025-09-30 at 12 18 19\u202fPM\" src=\"https://github.com/user-attachments/assets/d09b7c9d-c48e-41e5-ac31-eff01e4ddea5\" />\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35341\nTitle: fix(SqlLab): Hit tableschemaview with a valid queryEditorId\nState: closed\nAuthor: geido\nLabels: sqllab, size/L, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\nAn error on screen was firing up all the time a table was selected for a newly created Tab in Sql Lab. This PR fixes the issue by ensuring that the tableschemaview/ endpoint always receives a valid `queryEditorId`.\r\n\r\n### BEFORE\r\n\r\nhttps://github.com/user-attachments/assets/b66bb571-735b-4a33-b64e-abbc06ce09a5\r\n\r\n### AFTER\r\n\r\nhttps://github.com/user-attachments/assets/cb3a2a1a-f066-4360-9c76-65620637cdc2\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\n1. Enter SQL Lab\r\n2. Open a new Tab\r\n3. Select a db, schema, and table\r\n4. The table preview should load with no errors\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35340\nTitle: Several errors with docker install and websocket config\nState: open\nAuthor: aklein-1s\nLabels: install:docker\nBody:\n### Bug description\n\nHello !\n\nI still have some trouble with my superset install.\nI opened a thread a few weeks ago about issues to configure root application here https://github.com/apache/superset/issues/34773 but I realized that my problems have not connection with that, So I create a new thread for that.\n\nI'm trying to use docker compose to deploy superset in production environment, but I have several issues when the app start.\n<img width=\"1904\" height=\"270\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/c77d71f6-ee94-4987-9f5b-7f71a895ad29\" />\n\n<img width=\"1905\" height=\"254\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/5f118a72-0ed9-4f9d-81a7-859122cacd14\" />\n\n<img width=\"1887\" height=\"450\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/29fa0547-31dd-48f6-a740-998d3e19d20b\" />\n\nFirst, Can you tell me more about websocket, and the intereset to use it ?\n\nMy docker/superset_config_docker.py : \n```python\nHTML_SANITIZATION = True\nHTML_SANITIZATION_SCHEMA_EXTENSIONS = {\n  \"attributes\": {\n    \"*\": [\"style\", \"className\", \"class\"],\n  },\n  \"tagNames\": [\"style\"],\n}\n\nGLOBAL_ASYNC_QUERIES = True\nGLOBAL_ASYNC_QUERIES_TRANSPORT = \"ws\"\nGLOBAL_ASYNC_QUERIES_WEBSOCKET_URL = \"ws://127.0.0.1:8080/\"\nGLOBAL_ASYNC_QUERIES_JWT_SECRET = \"MY_CUSTOM_JWT_KEY\"\nGLOBAL_ASYNC_QUERIES_JWT_COOKIE_NAME = \"async-token\"\n``` \n\n```\n# Secret key to \nSUPERSET_SECRET_KEY = \"MY_CUSTOM_SUPERSET_KEY\"\n\n# Set log level\nSUPERSET_LOG_LEVEL = debug\n\n# Disable examples\n#SUPERSET_LOAD_EXAMPLES = no\n\n# Disable frontend container\nBUILD_SUPERSET_FRONTEND_IN_DOCKER = false\n\n# Configuration for websocket connection\nJWT_SECRET = \"MY_CUSTOM_JWT_KEY\"\nJWT_COOKIE_NAME = \"async-token\"\n``` \n\nMy nginx configuration : \n```\nupstream superset_app {\n    server localhost:8088;\n    keepalive 100;\n}\n\nupstream superset_websocket {\n    server localhost:8080;\n    keepalive 100;\n}\n\nserver {\n    listen [::]:443 ssl;\n    listen 443 ssl;\n    server_name my.domain.fr;\n\n    include conf.d/ssl.conf;\n\n    location /ws {\n        proxy_pass http://superset_websocket;\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"Upgrade\";\n        proxy_set_header Host $host;\n    }\n\n    location / { \n        proxy_pass http://superset_app;\n        proxy_set_header Host $http_host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        proxy_http_version 1.1;\n        port_in_redirect off;\n        proxy_connect_timeout 300;\n    }\n\n    access_log /var/log/nginx/superset/access.log;\n    error_log /var/log/nginx/superset/error.log;\n}\n\nserver {\n    listen 80;\n    listen [::]:80;\n\n    server_name my.domain.fr;\n\n    return 301 https://$host$request_uri;\n\n    access_log /var/log/nginx/superset/access.log;\n    error_log /var/log/nginx/superset/error.log;\n}\n``` \n\nMy docker compose file : \n```\nx-superset-user: &superset-user root\nx-superset-volumes: &superset-volumes\n  # /app/pythonpath_docker will be appended to the PYTHONPATH in the final container\n  - ./docker:/app/docker\n  - ./superset:/app/superset\n  - ./superset-frontend:/app/superset-frontend\n  - superset_home:/app/superset_home\n  - ./tests:/app/tests\nx-common-build: &common-build\n  context: .\n  target: ${SUPERSET_BUILD_TARGET:-dev} # can use `dev` (default) or `lean`\n  cache_from:\n    - apache/superset-cache:3.10-slim-trixie\n  args:\n    DEV_MODE: \"true\"\n    INCLUDE_CHROMIUM: ${INCLUDE_CHROMIUM:-false}\n    INCLUDE_FIREFOX: ${INCLUDE_FIREFOX:-false}\n    BUILD_TRANSLATIONS: ${BUILD_TRANSLATIONS:-true}\n    LOAD_EXAMPLES_DUCKDB: ${LOAD_EXAMPLES_DUCKDB:-true}\n\nservices:\n  redis:\n    image: redis:7\n    container_name: superset_cache\n    restart: unless-stopped\n    ports:\n      - \"127.0.0.1:6379:6379\"\n    volumes:\n      - redis:/data\n\n  db:\n    env_file:\n      - path: docker/.env # default\n        required: true\n      - path: docker/.env-local # optional override\n        required: false\n    image: postgres:16\n    container_name: superset_db\n    restart: unless-stopped\n    ports:\n      - \"127.0.0.1:5432:5432\"\n    volumes:\n      - db_home:/var/lib/postgresql/data\n      - ./docker/docker-entrypoint-initdb.d:/docker-entrypoint-initdb.d\n\n  superset:\n    env_file:\n      - path: docker/.env # default\n        required: true\n      - path: docker/.env-local # optional override\n        required: false\n    build:\n      <<: *common-build\n    container_name: superset_app\n    command: [\"/app/docker/docker-bootstrap.sh\", \"app\"]\n    restart: unless-stopped\n    ports:\n      - 8088:8088\n      # When in cypress-mode ->\n      - 8081:8081\n    extra_hosts:\n      - \"host.docker.internal:host-gateway\"\n    user: *superset-user\n    depends_on:\n      superset-init:\n        condition: service_completed_successfully\n    volumes: *superset-volumes\n    environment:\n      SUPERSET__SQLALCHEMY_EXAMPLES_URI: \"duckdb:////app/data/examples.duckdb\"\n\n  superset-websocket:\n    container_name: superset_websocket\n    build: ./superset-websocket\n    ports:\n      - 8080:8080\n    extra_hosts:\n      - \"host.docker.internal:host-gateway\"\n    depends_on:\n      - redis\n    # Mount everything in superset-websocket into container and\n    # then exclude node_modules and dist with bogus volume mount.\n    # This is necessary because host and container need to have\n    # their own, separate versions of these files. .dockerignore\n    # does not seem to work when starting the service through\n    # docker compose.\n    #\n    # For example, node_modules may contain libs with native bindings.\n    # Those bindings need to be compiled for each OS and the container\n    # OS is not necessarily the same as host OS.\n    volumes:\n      - ./superset-websocket:/home/superset-websocket\n      - /home/superset-websocket/node_modules\n      - /home/superset-websocket/dist\n\n      # Mounting a config file that contains a dummy secret required to boot up.\n      # do not use this docker compose in production\n      - ./docker/superset-websocket/config.json:/home/superset-websocket/config.json\n    environment:\n      - PORT=8080\n      - REDIS_HOST=redis\n      - REDIS_PORT=6379\n      - REDIS_SSL=false\n\n  superset-init:\n    build:\n      <<: *common-build\n    container_name: superset_init\n    command: [\"/app/docker/docker-init.sh\"]\n    env_file:\n      - path: docker/.env # default\n        required: true\n      - path: docker/.env-local # optional override\n        required: false\n    depends_on:\n      db:\n        condition: service_started\n      redis:\n        condition: service_started\n    user: *superset-user\n    volumes: *superset-volumes\n    environment:\n      SUPERSET__SQLALCHEMY_EXAMPLES_URI: \"duckdb:////app/data/examples.duckdb\"\n    healthcheck:\n      disable: true\n\n  superset-worker:\n    build:\n      <<: *common-build\n    container_name: superset_worker\n    command: [\"/app/docker/docker-bootstrap.sh\", \"worker\"]\n    env_file:\n      - path: docker/.env # default\n        required: true\n      - path: docker/.env-local # optional override\n        required: false\n    environment:\n      CELERYD_CONCURRENCY: 2\n    restart: unless-stopped\n    depends_on:\n      superset-init:\n        condition: service_completed_successfully\n    user: *superset-user\n    volumes: *superset-volumes\n    extra_hosts:\n      - \"host.docker.internal:host-gateway\"\n    healthcheck:\n      test: [\"CMD-SHELL\", \"celery -A superset.tasks.celery_app:app inspect ping -d celery@$$HOSTNAME\"]\n    # Bump memory limit if processing selenium / thumbnails on superset-worker\n    # mem_limit: 2038m\n    # mem_reservation: 128M\n\n  superset-worker-beat:\n    build:\n      <<: *common-build\n    container_name: superset_worker_beat\n    command: [\"/app/docker/docker-bootstrap.sh\", \"beat\"]\n    env_file:\n      - path: docker/.env # default\n        required: true\n      - path: docker/.env-local # optional override\n        required: false\n    restart: unless-stopped\n    depends_on:\n      - superset-worker\n    user: *superset-user\n    volumes: *superset-volumes\n    healthcheck:\n      disable: true\n\n  superset-tests-worker:\n    build:\n      <<: *common-build\n    container_name: superset_tests_worker\n    command: [\"/app/docker/docker-bootstrap.sh\", \"worker\"]\n    env_file:\n      - path: docker/.env # default\n        required: true\n      - path: docker/.env-local # optional override\n        required: false\n    profiles:\n      - optional\n    environment:\n      DATABASE_HOST: localhost\n      DATABASE_DB: test\n      REDIS_CELERY_DB: 2\n      REDIS_RESULTS_DB: 3\n      REDIS_HOST: localhost\n      CELERYD_CONCURRENCY: 8\n    network_mode: host\n    depends_on:\n      superset-init:\n        condition: service_completed_successfully\n    user: *superset-user\n    volumes: *superset-volumes\n    healthcheck:\n      test: [\"CMD-SHELL\", \"celery inspect ping -A superset.tasks.celery_app:app -d celery@$$HOSTNAME\"]\n\nvolumes:\n  superset_home:\n    external: false\n  db_home:\n    external: false\n  redis:\n    external: false\n``` \n\nDo you have any idea to resolve these errors ? Thanks\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [ ] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [ ] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35339\nTitle: fix(dashboard): Navigate to new dashboard when saved as a new one\nState: closed\nAuthor: msyavuz\nLabels: size/M, change:frontend, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nWhen using the `Save as` functionality, after saving a new dashboard redirect user to that one.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n1. Navigate to Dashboards\r\n2. Open an existing one\r\n3. Click on 3 dot menu and select save as\r\n4. Click on save\r\n5. The new dashboard is saved and loaded\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35338\nTitle: fix(tables): Dark mode scrollbar styles for webkit\nState: closed\nAuthor: msyavuz\nLabels: size/M, change:frontend, viz:charts:table, plugins, packages, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nScrollbar styles for chart components did not apply on chrome on dark mode. This pr fixes that by specifying scrollbar styles for webkit\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\nBefore:\r\n<img width=\"1613\" height=\"802\" alt=\"image\" src=\"https://github.com/user-attachments/assets/c97d804d-7d01-40e8-9270-921a93523b4f\" />\r\n\r\nAfter:\r\n<img width=\"1613\" height=\"888\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4e621fe6-b137-4f7c-8c2b-d9708bf1f326\" />\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\nVisual testing of table charts in dark mode\r\n\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35337\nTitle: fix(pinot): restrict types in dialect\nState: closed\nAuthor: betodealmeida\nLabels: size/L, data:connect:pinot, preset-io, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nThis PR improves the Pinot dialect introduced in https://github.com/apache/superset/pull/35333, ensuring the types are consistent with [the documentation](https://docs.pinot.apache.org/configuration-reference/schema#data-types). This solves an issue where a query like this:\r\n\r\n```sql\r\nSELECT concat(account_open_date_month, cast(cohort_size AS string), ' - ')\r\nFROM \"default\".credit_spend_activation_monthly\r\n```\r\n\r\nWas being converted into:\r\n\r\n```sql\r\nSELECT CONCAT(account_open_date_month, CAST(cohort_size AS CHAR), ' - ')\r\nFROM \"default\".credit_spend_activation_monthly\r\n```\r\n\r\nWhich is invalid in Pinot due to the `CHAR` type. (This happens because Pinot uses the MySQL dialect for its SQL, but not for its types.)\r\n\r\nWith this PR we get the right type after parsing the original SQL and generating it back.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\nAdded unit tests.\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35336\nTitle: fix(dashboard): exit markdown edit mode when clicking outside of element\nState: closed\nAuthor: gabotorresruiz\nLabels: size/L, change:frontend, dashboard:editmode, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nFixed a bug where the Markdown element would not exit edit mode when clicking on whitespace within the same row. Previously, the element would only switch to preview mode when clicking between rows or outside the dashboard edit area.\r\n\r\nFixes: #35486\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\nBefore:\r\nhttps://github.com/user-attachments/assets/acf4b11e-8b9f-4e94-948c-4016f6ba497e\r\n\r\nAfter:\r\n![markdown-fix](https://github.com/user-attachments/assets/34fb4c0a-24fe-4104-8ed7-742160a5f178)\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n1. Open Superset and navigate to any dashboard in edit mode\r\n2. Add a Markdown component to the dashboard\r\n3. Click on the Markdown element to enter edit mode\r\n4. Click on the whitespace in the same row --> Should exit to preview mode\r\n5. Click on whitespace between rows --> Should exit to preview mode\r\n6. Click inside the Markdown editor --> Should stay in edit mode\r\n7. Click outside the dashboard --> Should exit to preview mode\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35335\nTitle: Update README.md\nState: closed\nAuthor: rvaidhya4192\nLabels: size/XS, need:more-info\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35334\nTitle: feat: convert dataset tests to Playwright\nState: open\nAuthor: sadpandajoe\nLabels: size/XXL, review:draft\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35333\nTitle: fix: sqlglot dialect for Pinot\nState: closed\nAuthor: betodealmeida\nLabels: size/L, data:connect:pinot, preset-io, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nPinot uses Calcite to parse SQL queries, specifically the `MYSQL_ANSI` dialect. Because of this, in Superset we are currently using the \"mysql\" dialect from `sqlglot`. The problem is that `MYSQL_ANSI` uses double quotes for identifiers, while the default MySQL dialect (in `sqlglot` and in the actual database) uses double quotes for string literals.\r\n\r\nThis PR introduces a small `sqlglot` dialect for Pinot, which is essentially the MySQL dialect but using double quotes for identifiers. That seems to be the only difference between Calcite's `MYSQL` and `MYSQL_ANSI`: https://calcite.apache.org/javadocAggregate/org/apache/calcite/config/Lex.html#MYSQL_ANSI\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [X] Has associated issue: Fixes #35270 \r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35332\nTitle: fix(doris): Don't set supports_cross_catalog_queries to true\nState: closed\nAuthor: msyavuz\nLabels: change:backend, size/S, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nAfter https://github.com/apache/superset/pull/33000 doris engine spec caused issues such as https://github.com/apache/superset/issues/34996 when creating tables. This pr rolls back that property to default `False`.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n1. Create a doris connection\r\n2. Create a dataset and a chart\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [x] Has associated issue: Fixes #34996\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35331\nTitle: \u30106.0.0-RC2\u3011Sorting filter values by a metric doesn't work\nState: open\nAuthor: saghatelian\nLabels: dashboard:filtersets\nBody:\n### Bug description\n\nI'm testing the version 6.0.0-RC2. \nSorting filter values by a metric doesn't work. Instead of sorting the values my the selected metric, it always sorts alphabetically. See the screenshots for comparison between version 4.1.1 and 6.0.0rc2 of the same filter on the same dashboard with the same setup (dark theme is the 6.0.0rc2).\n\n### Screenshots/recordings\n\n<img width=\"253\" height=\"346\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/8b08a415-8258-4559-8b40-1ad0e2765a56\" />\n<img width=\"253\" height=\"346\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/a0c610db-10a1-422c-8bb6-a9851fbd85a6\" />\n<img width=\"710\" height=\"415\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/f91144d5-b741-4b37-8a17-8ccc6bad13fe\" />\n<img width=\"710\" height=\"415\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/1db59761-b591-4501-bdbe-891e4a00ad98\" />\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\nNot applicable\n\n### Node version\n\nNot applicable\n\n### Browser\n\nChrome\n\n### Additional context\n\nMy data source is BigQuery (not sure if it makes a difference).\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35330\nTitle: [6.0.0rc1] Partial Translations on pt_BR\nState: open\nAuthor: gabriela-schuster\nLabels: i18n:brazilian\nBody:\n### Bug description\n\nTitle: Partial Portuguese translations in Superset 6.0.0rc1 despite BABEL_DEFAULT_LOCALE configuration\n\nBody:\nDescribe the bug\nAfter configuring BABEL_DEFAULT_LOCALE = \"pt_BR\" in superset_config.py and compiling translations manually, some UI elements are still displayed in English while others appear in Portuguese. This occurs on Superset 6.0.0rc1.\n\nTo Reproduce\nSteps to reproduce the behavior:\n\n1. Use the Docker setup:\n\n```\nsuperset:\n    image: apache/superset:6.0.0rc1\n    container_name: superset\n    restart: always\n    build:\n      context: .docker/superset\n      dockerfile: Dockerfile\n    args:\n        BUILD_TRANSLATIONS: true\n    environment:\n      - SUPERSET_LOAD_EXAMPLES=no\n      - SUPERSET_CONFIG_PATH=/app/superset_config.py\n    ports:\n      - \"8088:8088\"\n    depends_on:\n      - postgres\n    volumes:\n      - ./.docker/superset/superset_config.py:/app/superset_config.py\n    env_file:\n      - ./envs/.superset.env\n    command: >\n      bash -c \"\n        superset db upgrade &&\n        superset run -h 0.0.0.0 -p 8088\n      \"\n```\n\n2. In `superset_config.py`:\n```\nBABEL_DEFAULT_LOCALE = \"pt_BR\"\nBABEL_DEFAULT_TIMEZONE = \"America/Sao_Paulo\"\nLANGUAGES = {\n    \"en\": {\"flag\": \"us\", \"name\": \"English\"},\n    \"pt_BR\": {\"flag\": \"br\", \"name\": \"Portugu\u00eas (Brasil)\"},\n}\n\nfrom superset.translations.utils import get_language_pack\n\ndef override_bootstrap_locale(data):\n    if data.get(\"locale\") == \"pt\":\n        data[\"locale\"] = \"pt_BR\"\n        data[\"language_pack\"] = get_language_pack('pt_BR')\n    return data\n\nCOMMON_BOOTSTRAP_OVERRIDES_FUNC = override_bootstrap_locale\n```\n\n3. Copy and compile translations:\n```\ndocker exec -it superset bash -c \"pybabel compile -d /app/superset/translations\"\n```\n\n4. Restart Superset and check UI\nExpected behavior\nAll UI elements should be displayed in Portuguese (pt_BR).\n\nActual behavior\nOnly some parts of the UI are translated; other strings remain in English. The issue is more noticeable in frontend React elements like dashboards, menus, and table headers.\n\n\n### Screenshots/recordings\n\n<img width=\"1303\" height=\"759\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/54390bf1-5a4d-4a37-8205-ccc69ec5b677\" />\n\n<img width=\"1302\" height=\"747\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/e6a43d4f-fe9a-45dc-b975-3665a3f9e1a4\" />\n\n<img width=\"1115\" height=\"191\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/3a4af94b-9277-4caa-b407-0e9dd019d8aa\" />\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.11\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\nContainer: apache/superset:6.0.0rc1\n\nTranslations compiled from /app/superset/translations/pt_BR/LC_MESSAGES/messages.po\n\nPartial translations may be caused by missing or incompatible frontend translation JSON files.\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [ ] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35329\nTitle: chore: add guidelines for using test() instead of describe()/it()\nState: open\nAuthor: eschutho\nLabels: size/S, preset-io\nBody:\n### SUMMARY\nAdded comprehensive testing structure guidelines to LLMS.md that explain why and how to use `test()` instead of `describe()` and `it()`, following the \"avoid nesting when testing\" principle championed by Kent C. Dodds.\n\nThis guideline promotes:\n- Better test isolation - each test stands alone\n- Improved readability - flat structure with descriptive test names\n- Easier test execution - simpler to run individual tests\n- Reduced cognitive overhead - less nested context switching\n\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\nN/A - Documentation only change\n\n### TESTING INSTRUCTIONS\n1. Review the updated LLMS.md file\n2. Verify the guidelines are clear and comprehensive\n3. Check that the example provided effectively illustrates the pattern\n\n### ADDITIONAL INFORMATION\n- [ ] Has associated issue: No\n- [ ] Required feature flags: No\n- [ ] Changes UI: No\n- [ ] Includes DB Migration: No\n- [ ] Introduces new feature or API: No\n- [ ] Removes existing feature or API: No\n\nThis aligns with the ongoing testing strategy migration mentioned in the document and provides concrete guidance for developers writing tests in the Superset codebase.\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.com/claude-code)",
  "Requirement ID: ISSUE-35328\nTitle: [6.0.0rc2] list of domain names that can embed this dashboard - not showing already added domains\nState: open\nAuthor: hsein-bitar\nLabels: embedded\nBody:\n### Bug description\n\n1. On 6.0.0rc2\n2. With attached config overrides ( in the comment below )\n3. Start with `docker compose -f docker-compose-non-dev.yml up --build -d`\n4. Navigate to dashboards\n5. Open the `Featured Charts` dashboard\n6. Click on three dots -> then embed under some domain like https://mytestdomain.com\n7. Save\n8. Navigate to datasets\n9. Navigate to dashboards again\n10. Open the `Featured Charts` dashboard again\n11. Click on three dots -> embed\nExpected:\n- The domains I added will be there\nActual:\n- The UI will show an empty input\n\n\n## Notes\n- The input can detect if you enter the same domain again and prevents you from saving, so it's just the UI not reflecting the saved data.\n- The console does not show any relevant errors\n\n### Screenshots/recordings\n\n## Loom\n.\nhttps://www.loom.com/share/f81fbfccc5474d87b5891c2d195e32a8?sid=ea9d5541-eea4-4659-a370-e7528fa104ac\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\nNot applicable\n\n### Node version\n\nNot applicable\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35324\nTitle: fix(dashboard): generate thumbnails correctly\nState: open\nAuthor: tahvane1\nLabels: size/XS, api\nBody:\n### SUMMARY\r\nchart_id in cache_chart_thumbnail was changed to str but calling functions still used int. This PR adds str-conversion to those.\r\n\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [X] Has associated issue:  #34832 \r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35322\nTitle: fix(pivot_table_v2): refreshed pr for fixing sorting in pivot table\nState: open\nAuthor: Kamkoz93\nLabels: size/L, viz:charts:pivot, plugins\nBody:\n### SUMMARY\r\nCherry-pick of https://github.com/apache/superset/pull/20588 (follow-up to https://github.com/apache/superset/issues/20564) to restore correct value-based ordering in Pivot Table v2 when sorting across multiple row/column groups.\r\n\r\nCommits included:\r\n\r\n5598f02e28d2ea3837442dcd7d990fdd94e3bc04 \u2014 normalize value-based ordering for multiple rows/cols\r\n\r\nfaba485908fb1820e1ee3048b5f593bc1f8f29b7 \u2014 lint fix for utilities.js\r\n\r\n\r\nCreated new PR based on old not merged due to some CI issues. \r\nFixed messed up ordering when sort descending on mertics aplied.\r\n\r\n###BEFORE SCREENSHOTS###\r\n<img width=\"1263\" height=\"672\" alt=\"image\" src=\"https://github.com/user-attachments/assets/9671a770-ddd1-4101-bb86-842bd371e81b\" />\r\n\r\n###AFTER SCREENSHOTS###\r\n<img width=\"1105\" height=\"548\" alt=\"image\" src=\"https://github.com/user-attachments/assets/44355b71-e788-4831-bb78-af44bc36af56\" />",
  "Requirement ID: ISSUE-35321\nTitle: fix(theming): CRUD view padding\nState: closed\nAuthor: msyavuz\nLabels: size/XS, change:frontend, listview, v6.0\nBody:\n## SUMMARY\r\n\r\nAdded consistent padding for a cleaner appearance.\r\n\r\n## BEFORE/AFTER\r\n\r\n**Before:**\r\n- Inconsistent spacing around table content\r\n<img width=\"945\" height=\"1679\" alt=\"charts-crud-view-BEFORE-fix\" src=\"https://github.com/user-attachments/assets/cb183dc8-7689-4a99-98c4-934dd3bc33be\" />\r\n\r\n\r\n\r\n**After:**  \r\n- Consistent padding using theme spacing tokens\r\n<img width=\"1707\" height=\"1041\" alt=\"image\" src=\"https://github.com/user-attachments/assets/dcef2964-528d-40f9-a7bf-35ba0d10b6af\" />\r\n\r\n\r\n## TESTING INSTRUCTIONS\r\n\r\n1. Navigate to any CRUD view (Charts, Dashboards, Datasets, etc.)\r\n2. Check that spacing around the table content is consistent\r\n3. Test with different themes to ensure the fix works across all theme variants\r\n\r\n## ADDITIONAL INFORMATION\r\n\r\nThis change aligns with the ongoing Ant Design theming migration by:\r\n- Applying consistent spacing using theme padding tokens\r\n\r\nNo breaking changes - purely visual improvement.",
  "Requirement ID: ISSUE-35318\nTitle: chore(frontend): Consolidate ESLint configurations in `superset-frontend`\nState: closed\nAuthor: rusackas\nLabels: size/L, change:frontend, preset-io, plugins, packages\nBody:\n## Summary\n\nThis PR consolidates the ESLint configuration in `superset-frontend/` from 6 separate config files down to 2, significantly simplifying our linting setup while maintaining the same enforcement level.\n\n### Current State of ESLint Configs in Superset\n\n#### After This PR:\n- **`superset-frontend/`**: 2 configs (down from 6)\n  - `.eslintrc.js` - Main consolidated config\n  - `cypress-base/.eslintrc` - Cypress-specific (to be removed with Playwright migration)\n- **`docs/`**: 1 config (`eslint.config.js` - already using flat config)\n- **`superset-websocket/`**: 1 config (`eslint.config.js` - already using flat config)\n\n### Changes Made\n\n#### \ud83d\uddd1\ufe0f Removed Configs (4 files)\n- `spec/.eslintrc` - Consolidated test rules into main config\n- `spec/javascripts/dashboard/.eslintrc` - Removed (empty directory with outdated config)\n- `packages/superset-ui-core/.eslintrc` - Consolidated test rules into main config  \n- `packages/generator-superset/.eslintrc` - Unnecessary (main config handles it)\n\n#### \u2705 Kept Configs (2 files)\n- `.eslintrc.js` - Main config with consolidated rules\n- `cypress-base/.eslintrc` - Kept separate (will be removed with Cypress \u2192 Playwright migration)\n\n#### \ud83d\udcdd Main Config Improvements\n- Added comprehensive test file patterns to catch all test/mock/fixture files\n- Added `jest/consistent-test-it` rule for consistent test naming (auto-fixed ~60 test files)\n- Consolidated all test-specific rules into dedicated override blocks\n- Fixed packages stories/overview files to properly disable `import/no-extraneous-dependencies`\n\n### What We Learned\n\n1. **Less is More**: We went from 6 configs to 2, making maintenance much simpler\n2. **Airbnb Config**: Despite disabling 119 of its rules (72%), Airbnb actually provides a good baseline that's less strict than modern \"recommended\" configs in problematic areas\n3. **Test Config Duplication**: Multiple directories had nearly identical Jest/testing-library configs - now unified\n4. **Flat Config Ready**: Other parts of the repo (`docs/`, `superset-websocket/`) already use ESLint 9 flat config\n5. **Project Separation**: The three projects (frontend, docs, websocket) should maintain separate configs due to different frameworks and requirements\n\n### Next Steps for ESLint Modernization\n\n#### Short Term\n- [x] ~~Consolidate configs~~ \u2705 Done in this PR\n- [ ] Remove `cypress-base/.eslintrc` when Cypress is deprecated for Playwright\n- [ ] Consider enabling some currently disabled rules gradually\n\n#### Medium Term  \n- [ ] Upgrade to ESLint 9.x (currently on 8.57.1)\n- [ ] Convert to flat config format (`eslint.config.js`)\n- [ ] Evaluate removing Airbnb config once flat config is adopted\n- [ ] Update custom plugins (`theme-colors`, `icons`, `i18n-strings`) for flat config\n\n#### Long Term\n- [ ] Align all three projects (frontend, websocket, docs) on same ESLint version\n- [ ] Consider shared base config package if beneficial\n- [ ] Enable stricter rules that are currently disabled\n\n### Testing\n\n- \u2705 `npm run lint` passes without errors\n- \u2705 `npm run lint-fix` successfully auto-fixes issues\n- \u2705 Pre-commit hooks pass\n- \u2705 All test files properly recognized by new patterns\n- \u2705 ~60 test files auto-fixed to use consistent `it()` instead of `test()`\n\n### Notes\n\n- The separate configs for `superset-websocket/` and `docs/` are intentionally kept separate as they are different projects with different requirements (Node.js service vs Docusaurus site)\n- Attempting to remove Airbnb config revealed it's actually preventing ~350+ errors that recommended configs would introduce\n- The `cypress-base/.eslintrc` will naturally disappear with the Cypress deprecation\n\n### Migration Lessons\n\nDuring this consolidation, we discovered that migrating away from Airbnb is more complex than expected:\n- Modern \"recommended\" configs are stricter in some areas (react/jsx-key, react/display-name)\n- We would need to disable MORE rules without Airbnb than with it\n- Best to wait for flat config migration before reconsidering Airbnb removal\n\n## References\n\n- [ESLint Flat Config Documentation](https://eslint.org/docs/latest/use/configure/configuration-files-new)\n- [Working with LLMs - Superset Contributing Guide](https://superset.apache.org/docs/contributing/development#working-with-llms)",
  "Requirement ID: ISSUE-35317\nTitle: fix(native-filters): prevent circular dependencies and improve dependency handling\nState: open\nAuthor: ngokturkkarli\nLabels: size/M, dashboard:native-filters, review:draft\nBody:\n### SUMMARY\r\nThis PR fixes circular dependency issues in dashboard native filters and improves dependency handling. The changes include:\r\n\r\n### TESTING INSTRUCTIONS\r\n- Open dashboard \u2192 click \"Add or edit filters\" button\r\n- Create Filter A and Filter B\r\n- Set Filter A to depend on Filter B\r\n- Try to set Filter B to depend on Filter A - this should be prevented\r\n\r\n### ADDITIONAL INFORMATION\r\n- [x] Has associated issue: https://github.com/apache/superset/issues/33908\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35316\nTitle: fix: AceEditor Autocomplete Highlight\nState: closed\nAuthor: geido\nLabels: sqllab, size/XS, change:frontend\nBody:\n### SUMMARY\r\nFixes #35313\r\n\r\n### AFTER SCREENSHOTS OR ANIMATED GIF\r\n\r\n<img width=\"1489\" height=\"389\" alt=\"Screenshot 2025-09-27 at 14 07 45\" src=\"https://github.com/user-attachments/assets/4ff659dc-6f50-4651-a233-64a3b92bc2bc\" />\r\n\r\n### TESTING INSTRUCTIONS\r\n1. Visit SQL Lab\r\n2. Change the SQL in the editor so that the autocomplete appears\r\n3. Highlight text should be visible in both dark and light mode\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35315\nTitle: feat(testing): enforce test() over describe() with grandfathered files\nState: closed\nAuthor: mistercrunch\nLabels: change:frontend, plugins, packages\nBody:\nAdd ESLint rule to ban describe() usage in favor of test() for better test organization. All 474 existing test files using describe() have been grandfathered with eslint-disable comments to avoid disruption while enforcing the new guideline for future tests.",
  "Requirement ID: ISSUE-35314\nTitle: refactor(llm): rename LLMS.md to AGENTS.md for modern AI tools\nState: closed\nAuthor: mistercrunch\nLabels: size/S, doc\nBody:\nStandardize on AGENTS.md as the master instruction file, which is the convention expected by modern coding assistants. All platform-specific files (CLAUDE.md, GEMINI.md, GPT.md, copilot-instructions.md) now symlink to AGENTS.md instead of LLMS.md.",
  "Requirement ID: ISSUE-35313\nTitle: Autocomplete matched text in SQL Lab is unreadable in dark theme (black on black)\nState: closed\nAuthor: sfirke\nLabels: #bug:cosmetic, sqllab:design\nBody:\n**Version 6.0.0rc2**\n\n## Screenshot\n\nHere I've typed \"test\" in my SQL Lab in dark theme. The letters of the matched objects are invisible b/c they're black text on black background:\n\n<img width=\"913\" height=\"207\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/ea896afc-2587-48e7-ad36-e04e9e43bbcd\" />\n\nHere's the same thing on light theme:\n\n<img width=\"871\" height=\"172\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/bad30483-6a25-4a4b-b914-81afdc196fb0\" />",
  "Requirement ID: ISSUE-35309\nTitle: fix(sqllab): fix blank bottom section in SQL Lab left panel\nState: closed\nAuthor: gabotorresruiz\nLabels: sqllab, size/M, change:frontend, testenv-up, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nFixed an issue where the bottom half of the SQL Lab left panel was appearing blank. The problem was caused by improper height calculations using fixed pixel values instead of flexbox layout. The component was using a hardcoded height prop (defaulting to 500px) and calculating the table area as `height - 130px`, which left empty space at the bottom\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\nBefore:\r\n<img width=\"420\" height=\"1008\" alt=\"image (4)\" src=\"https://github.com/user-attachments/assets/c65b8c12-4101-4f0b-bbb0-e17699a0920c\" />\r\n\r\nAfter:\r\n<img width=\"235\" height=\"661\" alt=\"image\" src=\"https://github.com/user-attachments/assets/20161219-7726-4b90-8036-5bdccdf6ae43\" />\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n1. Open SQL Lab\r\n2. Select a database and schema in the left panel\r\n3. Add some tables to view their columns\r\n4. Verify that the left panel properly fills the entire height without blank space at the bottom\r\n5. Test resizing the browser window to ensure the layout remains responsive\r\n6. Switch between different databases/schemas to ensure the layout remains consistent\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35308\nTitle: chore(superset-core): move ui to new core\nState: open\nAuthor: msyavuz\nLabels: size/L, change:frontend, alert-reports, plugins, dependencies:npm, packages\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nAs part of the extensions work, ui components are moved to the new core package. In this pr i am moving the required parts for ui components to work in new package and moving Alert component as a proof of concept.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\nAll Alert usages should work correctly.\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35307\nTitle: fix(explore): close unsaved changes modal when discarding changes\nState: closed\nAuthor: rebenitez1802\nLabels: size/M, change:frontend, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nFixes the unsaved changes modal not closing when user clicks \"Discard\" during chart editing navigation. \r\n\r\n  Root cause: The handleConfirmNavigation function was missing setShowModal(false) call, causing the modal to remain open after navigation.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n1. Open any chart\r\n2. change something like time grain or metric\r\n3. click the back button in the browser\r\n4. click on discard button\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35306\nTitle: gevent pulls in a conflicting greenlet\nState: open\nAuthor: alanorth\nLabels: python\nBody:\n### Bug description\n\nTesting Superset v5.0.0 in a Python 3.10 virtual environment on Linux. In preparation for running via WSGI, I installed `gevent`, but it pulls in an incompatible version of `greenlet`:\n\n```console\n$ python -m pip install gevent\nCollecting gevent\n  Using cached gevent-25.9.1-cp310-cp310-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (14 kB)\nCollecting greenlet>=3.2.2 (from gevent)\n  Using cached greenlet-3.2.4-cp310-cp310-manylinux_2_24_x86_64.manylinux_2_28_x86_64.whl.metadata (4.1 kB)\nRequirement already satisfied: zope.event in ./venv/lib/python3.10/site-packages (from gevent) (6.0)\nRequirement already satisfied: zope.interface in ./venv/lib/python3.10/site-packages (from gevent) (8.0.1)\nRequirement already satisfied: setuptools>=75.8.2 in ./venv/lib/python3.10/site-packages (from zope.event->gevent) (80.9.0)\nUsing cached gevent-25.9.1-cp310-cp310-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (2.2 MB)\nUsing cached greenlet-3.2.4-cp310-cp310-manylinux_2_24_x86_64.manylinux_2_28_x86_64.whl (584 kB)\nInstalling collected packages: greenlet, gevent\n  Attempting uninstall: greenlet\n    Found existing installation: greenlet 3.0.3\n    Uninstalling greenlet-3.0.3:\n      Successfully uninstalled greenlet-3.0.3\nERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.\napache-superset 5.0.0 requires greenlet<=3.1.1,>=3.0.3, but you have greenlet 3.2.4 which is incompatible.\nSuccessfully installed gevent-25.9.1 greenlet-3.2.4\n```\n\nThe [Superset docs](https://superset.apache.org/docs/configuration/configuring-superset/#running-on-a-wsgi-http-server) recommend using `gevent` with Gunicorn, but don't specify which version. As Superset v5.0.0 requires `greenlet<=3.1.1,>=3.0.3`, it seems the docs should recommend using `gevent==24.2.1`, as that is the last version that satisfies Superset's requirement.\n\nSee: https://github.com/gevent/gevent/blob/24.2.1/setup.py#L213C6-L213C23\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\n5.0.0\n\n### Python version\n\n3.10\n\n### Node version\n\nNot applicable\n\n### Browser\n\nNot applicable\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35305\nTitle: test(frontend): Migrate from describe/it to flat test() pattern\nState: closed\nAuthor: rusackas\nLabels: size/XXL, change:frontend, frontend:refactor\nBody:\n## Summary\n\nThis PR implements a comprehensive migration strategy to move away from nested `describe`/`it` test patterns to flat `test()` functions, following [Kent C. Dodds' \"avoid nesting when testing\"](https://kentcdodds.com/blog/avoid-nesting-when-youre-testing) best practices.\n\n## Changes\n\n### 1. ESLint Rules Enforcement\n- Added `jest/consistent-test-it` rule to enforce `test` over `it`\n- Added `no-restricted-globals` rule to error on `describe` and `it` usage\n- Configured in `superset-frontend/src/.eslintrc.json`\n\n### 2. Automated Migrations\n- **Auto-migrated all `it` to `test`**: 194 files updated via `npm run lint-fix`\n- **Flattened simple describe blocks**: 5 files with no hooks or complex setup safely migrated\n\n### 3. Legacy Code Handling\n- Added `eslint-disable` comments with TODO markers to 243 files containing `describe` blocks\n- Marked 1,080 existing `describe` blocks with: `// eslint-disable-next-line no-restricted-globals -- TODO: Migrate from describe blocks`\n- This allows existing code to work while preventing new usage\n\n## Migration Statistics\n\n- **Total test files**: 482\n- **`it` \u2192 `test` migration**: 100% complete (194 files)\n- **`describe` blocks removed**: 5 files (simple cases without hooks)\n- **`describe` blocks with TODOs**: 243 files (to be migrated gradually)\n- **Files with hooks requiring manual migration**: 198\n\n## Files Successfully Flattened\n\nThese files had simple `describe` blocks without hooks and were safely migrated:\n- `utils/urlUtils.test.ts`\n- `explore/controlPanels/Separator.test.ts`\n- `components/ErrorMessage/ErrorAlert.test.tsx`\n- `components/ModalTitleWithIcon/ModalTitleWithIcon.test.tsx`\n- `components/MessageToasts/reducers.test.js`\n\n## Benefits\n\n1. **Enforces modern patterns**: New tests cannot use `describe`/`it` (ESLint error)\n2. **Preserves functionality**: All existing tests continue to work\n3. **Clear technical debt**: TODO markers make legacy patterns visible\n4. **Gradual migration path**: Files can be updated as they're touched\n5. **Better test readability**: Flat structure is easier to understand and maintain\n\n## Testing Instructions\n\n1. Run tests to confirm everything still passes:\n   ```bash\n   npm run test\n   ```\n\n2. Try adding a new `describe` block - it should trigger an ESLint error:\n   ```javascript\n   describe('NewComponent', () => {  // \u274c ESLint error\n     test('works', () => {});\n   });\n   ```\n\n3. New tests should use flat structure:\n   ```javascript\n   test('NewComponent works', () => {  // \u2705 Correct pattern\n     // test implementation\n   });\n   ```\n\n## Additional Information\n\nThis migration follows React Testing Library and Jest best practices. The flat test structure:\n- Reduces nesting complexity\n- Makes test names more descriptive\n- Eliminates confusion about hook scopes\n- Improves test maintainability\n\nThe TODO markers allow us to track and gradually migrate the remaining `describe` blocks without breaking existing tests.\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>",
  "Requirement ID: ISSUE-35303\nTitle: fix(SelectFilterPlugin): clear all clears all filters including dependent ones\nState: open\nAuthor: msyavuz\nLabels: size/M, change:frontend, dashboard:native-filters, testenv-up\nBody:\n### SUMMARY\r\nThis PR fixes an issue where the \"Clear All\" button in the filter bar doesn't properly clear dependent filters when they have required parent filters.\r\n\r\nThe main changes:\r\n1. **FilterBar**: Changed to iterate over all native filters instead of just those in scope, ensuring dependent filters are cleared even if their parent was cleared first\r\n2. **SelectFilterPlugin**: Added logic to skip applying default values when the clearAllTrigger is active, preventing filters from immediately reverting to their default values during a Clear All operation\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n**Before**: When clicking \"Clear All\", dependent filters with required parents would not be cleared properly, remaining in their previous state or reverting to default values.\r\n\r\nhttps://github.com/user-attachments/assets/153555b7-54f9-49f3-b43f-ab0307c4a010\r\n\r\n\r\n\r\n\r\n**After**: All filters, including dependent ones, are properly cleared when clicking \"Clear All\".\r\n\r\n\r\nhttps://github.com/user-attachments/assets/709f7671-96a0-44af-af89-7f3f77cf204c\r\n\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\n1. Create a dashboard with native filters that have parent-child dependencies\r\n2. Set up a child filter that requires a parent filter selection\r\n3. Configure the child filter with \"Default to first item\" enabled\r\n4. Select values in both parent and child filters\r\n5. Click the \"Clear All\" button\r\n6. Verify that both parent and child filters are cleared and don't revert to default values\r\n\r\n### ADDITIONAL INFORMATION\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35302\nTitle: feat(packages): POC \u2014 migrate to Bun + Nx for faster incremental package/plugin builds\nState: open\nAuthor: rusackas\nLabels: size/XL, preset-io, plugins, dependencies:npm, packages, review:draft\nBody:\n### SUMMARY\r\n\r\n> [!NOTE]\r\n> **Bycatch warning:** I was annoyed by the lack of license headers, so I added a pre-commit hook to catch that for changed/new files. On CI, that runs on EVERYTHING, and it caught some old files without headers! So you'll see those updates here as well.\r\n\r\nThis PR updates Superset's frontend build system by combining Bun's fast JavaScript runtime with Nx's intelligent caching, achieving dramatic performance improvements:\r\n\r\n- **Faster full builds** I forget the benchmarks, but it was about 30% faster or so\r\n- **68x faster incremental builds** (56s \u2192 0.8s when no changes)\r\n- **10-20x faster typical builds** (only rebuild what changed)\r\n- **Fixed TypeScript error reporting** that was silently failing\r\n- **DRY configuration** - reduced 325+ lines of repetitive config\r\n- **Local caching only** - no cloud dependencies\r\n\r\n#### Key Changes\r\n\r\n1. **Nx Build Caching**: Intelligent, dependency-aware caching that only rebuilds changed packages\r\n2. **Bun-Optimized Pipeline**: Parallel Babel compilation with better CPU utilization (470%+ vs 350%)\r\n3. **Fixed tsc.sh Bug**: TypeScript errors now properly reported (was silently ignoring errors)\r\n4. **Apache License Compliance**: Added pre-commit hooks for license header checking\r\n5. **DRY Configuration**: Moved repetitive config to nx.json, reducing each project.json from 20 to 7 lines\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n\r\n**Before**: Every build takes 56s regardless of changes\r\n```\r\n$ npm run plugins:build\r\n... 56 seconds later ...\r\n```\r\n\r\n**After**: Incremental builds with caching\r\n```\r\n$ npm run plugins:build\r\n\u2714  25/25 tasks [25 read from cache]\r\n... 0.8 seconds ...\r\n```\r\n\r\nPerformance benchmarks:\r\n| Scenario | Old (npm) | New (Bun+Nx) | Improvement |\r\n|----------|-----------|--------------|-------------|\r\n| **No changes** | 56s | 0.8s | **68x faster** |\r\n| **1 package changed** | 56s | ~3s | **18x faster** |\r\n| **5 packages changed** | 56s | ~12s | **4.6x faster** |\r\n\r\n### TESTING INSTRUCTIONS\r\n\r\n1. **Test the build system**:\r\n   ```bash\r\n   # Clean install and initial build\r\n   npm ci\r\n   npm run plugins:build  # First build: ~56s (populating cache)\r\n   \r\n   # Test cache hit\r\n   npm run plugins:build  # Second build: ~0.8s (100% cache hits)\r\n   \r\n   # Test incremental build\r\n   echo \"// test\" >> superset-frontend/plugins/plugin-chart-table/src/index.ts\r\n   npm run plugins:build  # Only rebuilds plugin-chart-table and dependents\r\n   ```\r\n\r\n2. **Verify TypeScript error reporting**:\r\n   ```bash\r\n   # Add a type error to any package\r\n   echo \"const x: string = 123;\" >> superset-frontend/packages/superset-ui-core/src/index.ts\r\n   npm run plugins:build  # Should fail with TypeScript error\r\n   git restore superset-frontend/packages/superset-ui-core/src/index.ts\r\n   ```\r\n\r\n3. **Test license compliance**:\r\n   ```bash\r\n   # Create a file without license header\r\n   echo \"console.log('test');\" > test.js\r\n   git add test.js\r\n   git commit -m \"test\"  # Pre-commit hook should fail\r\n   rm test.js\r\n   ```\r\n\r\n### ADDITIONAL INFORMATION\r\n\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [x] Introduces new feature or API (Nx build caching)\r\n- [ ] Removes existing feature or API\r\n\r\n**Notes**:\r\n- No breaking changes - `npm run plugins:build` works exactly the same, just faster\r\n- All build outputs are identical to the previous system\r\n- Pre-commit hooks automatically installed on `npm install`\r\n- Local caching only (no Nx Cloud), stored in `.nx/cache`",
  "Requirement ID: ISSUE-35300\nTitle: \u30106.0.0-RC2\u3011 Table SearchSelectDropdown Display logic && view Query missing complete sql\nState: open\nAuthor: marunrun\nLabels: browser:chrome, explore:error\nBody:\n### Bug description\n\n1. The  SearchSelectDropdown and  Search Input not displayed together\n2. View Query did not show the complete sql\n\nStill exists in version 6.0.0rc2\n\nI have submitted two PRs to try and fix.\n\nhttps://github.com/apache/superset/pull/35208\nhttps://github.com/apache/superset/pull/35204\n\n\n### Screenshots/recordings\n\nhttps://github.com/user-attachments/assets/10f52a9b-7f7f-4db5-b41d-c03dbed0dd40\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [ ] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35298\nTitle: fix(docs): document APP_ICON deprecation in favor of theme-based brandLogoUrl\nState: open\nAuthor: sadpandajoe\nLabels: size/S, doc\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nDocumented the deprecation of APP_ICON configuration variable in favor of the new theme-based logo system introduced in PR #31590. This breaking change was causing confusion for users upgrading to Superset 6.0.0rc1 who found their custom logos no longer working.\r\n\r\n\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [X] Has associated issue: Fixes #34824\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35297\nTitle: fix(mysql): render TINYINT(1) columns as boolean in SQL Lab and charts\nState: open\nAuthor: sadpandajoe\nLabels: size/L, data:connect:mysql\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n  **Root Cause**\r\n\r\n  MySQL boolean fields were incorrectly displaying as numeric icons with raw 0/1 values instead of readable True/False text in SQL Lab and Explore views. The issue had two layers:\r\n\r\n  1. Type Mapping: TINYINT(1) columns were mapped to GenericDataType.NUMERIC instead of GenericDataType.BOOLEAN\r\n  2. Value Conversion Bug: bool(\"0\") and bool(b\"0\") return True in Python instead of the expected False\r\n\r\n  **Solution**\r\n\r\n  Two-layer fix targeting MySQL's TINYINT(1) boolean representation:\r\n\r\n  1. Schema-level: Added precise pattern matching for TINYINT(1) \u2192 GenericDataType.BOOLEAN\r\n  2. Runtime-level: Enhanced fetch_data() with normalization logic for strings/bytes/Decimal before boolean conversion\r\n\r\n  **Changes**\r\n\r\n  - superset/db_engine_specs/mysql.py: Added boolean type mapping and conversion logic\r\n  - tests/unit_tests/db_engine_specs/test_mysql.py: Comprehensive test coverage for edge cases\r\n\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n  - \u2705 All existing MySQL tests pass\r\n  - \u2705 New parametrized tests cover string/bytes/Decimal conversion scenarios\r\n  - \u2705 Preserves behavior for non-boolean TINYINT variants (TINYINT(2), etc.)\r\n  - \u2705 End-to-end pipeline validation with pandas boolean inference\r\n\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [X] Has associated issue: Fixes: #35166\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35296\nTitle: fix(auth): OAuth and LDAP login URLs respect APP_ROOT configuration\nState: open\nAuthor: sadpandajoe\nLabels: size/XL, change:frontend, authentication, review:draft\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nThis PR recreates: #34657 with additional improvements\r\n\r\n**Root Cause:** OAuth/LDAP login buttons generate hardcoded URLs without considering the SUPERSET_APP_ROOT configuration. When Superset is deployed under a subpath (e.g., /superset), buttons link to /login/provider instead of /superset/login/provider, breaking authentication.\r\n\r\n**Impact:** Authentication completely broken for non-root deployments using OAuth or LDAP.\r\n\r\n**Changes**\r\n  - Login page: Wrap OAuth/OID provider URLs and registration button with ensureAppRoot()\r\n  - Register page: Wrap login button URL with ensureAppRoot()\r\n  - Form submission: Remove double-prefix by NOT using ensureAppRoot() on SupersetClient.postForm() calls (SupersetClient handles app root internally)\r\n  - Tests: Add comprehensive coverage for both app root and non-app root scenarios, plus regression test for form submission\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\nLogin/OAuth buttons now correctly navigate to /superset/login/provider when deployed with APP_ROOT=/superset, while form submissions avoid double-prefix errors.\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [X] Has associated issue: Fixes #34552\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35294\nTitle: fix: Enable DuckDB examples loading in showtime ephemeral environments\nState: closed\nAuthor: eschutho\nLabels: size/S, preset-io, deploy\nBody:\n## Summary\n\nThis PR fixes two critical issues preventing DuckDB examples from loading in showtime ephemeral environments:\n\n1. **Docker ARG scope issue**: `LOAD_EXAMPLES_DUCKDB` build argument was being ignored\n2. **DuckDB version compatibility**: Newer DuckDB versions (1.x) cause `unhashable type: '_duckdb.typing.DuckDBPyType'` errors\n\n## Problems Fixed\n\n### 1. Docker Build Argument Scope\n**Issue**: The `LOAD_EXAMPLES_DUCKDB` ARG was declared inside the `python-common` stage, making it unavailable when passed via `--build-arg` to the `showtime` target in multi-stage builds.\n\n**Fix**: Move ARG declaration to global scope and re-declare in the stage where it's used.\n\n### 2. DuckDB Version Compatibility  \n**Issue**: Current DuckDB version `1.3.2` has type system changes incompatible with duckdb-engine, causing connection failures.\n\n**Fix**: Constrain DuckDB core to `>=0.10.2,<0.11` while keeping duckdb-engine at current `>=0.17.0`. Testing confirmed the newer driver works fine with DuckDB 0.10.x.\n\n## Version Constraints\n\n```python\n# DuckDB 1.x has type system incompatibilities with duckdb-engine.\nduckdb = [\"duckdb>=0.10.2,<0.11\", \"duckdb-engine>=0.17.0\"]\n```\n\n**Rationale**:\n- Uses **version ranges** (not pinned) to allow patch updates\n- Only constrains what's broken (duckdb core 1.x)\n- Keeps duckdb-engine at current version (tested and working)\n- Matches approach used in motherduck configuration\n\n## Testing\n\n\u2705 **Local testing confirms both fixes work**:\n- Docker ARG is properly passed through build stages\n- DuckDB 0.10.2 + duckdb-engine 0.17.0 connections work without errors\n- File-based DuckDB connections work correctly\n\n```bash\n# Tested combination\npip install duckdb==0.10.2 duckdb-engine==0.17.0\n# Result: \u2705 All connection types work\n```\n\n## Before/After\n\n**Before**: \n- Showtime builds ignored `LOAD_EXAMPLES_DUCKDB=true` \u2192 No examples file downloaded\n- DuckDB connections failed with type errors \u2192 No examples accessible\n\n**After**:\n- Docker properly downloads examples.duckdb during build\n- DuckDB connections work correctly  \n- Showtime environments can load examples successfully\n\n## Impact\n\nThis enables showtime ephemeral environments to successfully load and display examples, making them much more useful for testing and demonstration purposes.\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)",
  "Requirement ID: ISSUE-35293\nTitle: Update admin users\nState: closed\nAuthor: dramos25\nLabels: i18n, risk:db-migration, i18n:spanish, i18n:italian, i18n:french, i18n:chinese, i18n:japanese, i18n:russian, i18n:korean, api, doc, plugins, dependencies:npm, github_actions, packages, i18n:dutch, i18n:slovak, i18n:ukrainian, i18n:portuguese, i18n:brazilian, i18n:traditional-chinese\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35292\nTitle: fix(DateFilterControl): remove modal overlay style to fix z-index issues\nState: closed\nAuthor: msyavuz\nLabels: size/M, change:frontend, hold!, testenv-up, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nDateFilterControl had an option to set overlayStyle to Modal which was used in adhoc filters and explore and caused z-index issues in the former. This pr removes that option entirely.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\nBefore:\r\n\r\n<img width=\"1252\" height=\"651\" alt=\"image\" src=\"https://github.com/user-attachments/assets/69de47e0-8047-4e71-ba57-075f78a1e69d\" />\r\n\r\n<img width=\"1707\" height=\"1040\" alt=\"image\" src=\"https://github.com/user-attachments/assets/12af7241-40c0-4880-9c42-a04db6a5bf05\" />\r\n\r\nAfter:\r\n<img width=\"1360\" height=\"678\" alt=\"image\" src=\"https://github.com/user-attachments/assets/a3d4515f-ab37-4345-b47f-1b782dfdc754\" />\r\n\r\n<img width=\"1707\" height=\"1040\" alt=\"image\" src=\"https://github.com/user-attachments/assets/6041cd18-dd55-4505-9407-5e7ba2aef3b7\" />\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\nVisual testing\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [x] Has associated issue: Fixes #35280\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35291\nTitle: WIP Matrixify\nState: open\nAuthor: msyavuz\nLabels: review:draft, testenv-up\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35290\nTitle: fix(security-manager): switch from deprecated get_session to session attribute\nState: closed\nAuthor: tuantran0910\nLabels: change:backend, size/XS, v6.0\nBody:\n### SUMMARY\r\n\r\nUpdates SupersetSecurityManager to use the modern session property instead of the deprecated get_session method when querying the database.\r\n\r\nAfter Flask-AppBuilder version v5.x, the method to access the security manager\u2019s database session has changed.\r\n\r\n**Before (v4.x):**\r\n\r\n```python\r\n# Old session access method\r\nsession = appbuilder.sm.get_session\r\n```\r\n\r\n**After (v5.x):**\r\n\r\n```python\r\n# New session access method\r\nsession = appbuilder.sm.session\r\n```\r\n\r\nLink: https://flask-appbuilder.readthedocs.io/en/latest/versionmigration.html",
  "Requirement ID: ISSUE-35289\nTitle: fix(database-modal): fix issue where commas could not be typed into DB configuration.\nState: open\nAuthor: LevisNgigi\nLabels: size/M, change:frontend\nBody:\nfix(database-modal): fix issue where commas could not be typed into DB configuration.\r\n\r\n### SUMMARY\r\nThe reducer always stripped empty strings when updating schemas_allowed_for_file_upload, so a user ending the input with a comma lost the intended trailing placeholder. Now we detect a trailing comma and preserves an empty string in the array (['']) to reflect that state, allowing the UI to keep an open slot for adding another schema.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\nAFTER\r\n<img width=\"748\" height=\"775\" alt=\"Screenshot from 2025-09-25 15-01-43\" src=\"https://github.com/user-attachments/assets/c9ac59de-b5f9-4cdd-ba84-133ce37271a8\" />\r\n\r\n### TESTING INSTRUCTIONS\r\nReproduction steps:\r\n\r\n-> Click into database connections\r\n-> Edit a database\r\n-> Advanced options\r\n-> Limit upload permissions to specific schemas\r\n-> Attempt to upload desired schemas as comma separated values by typing names of desired schemas with separating commas\r\n-> one should be able to now separate schemas using commas.\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ x] Has associated issue: Fixes #28252\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35288\nTitle: Feature/db ozellikler\nState: closed\nAuthor: oxanero\nLabels: size/S, dependencies:npm\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35286\nTitle: metadata has been synced\nState: open\nAuthor: crazychaz\nLabels: data:dataset\nBody:\nHow do I disable the \"metadata has been synced\" error when saving datasets in version 5? This breaks the visualization because if there is no data at the moment, the columns are deleted.",
  "Requirement ID: ISSUE-35285\nTitle: [6.0.0-RC2] Can't set theme for Embedded Dashboard\nState: open\nAuthor: scottyeung\nLabels: global:theming, embedded, \ud83e\uddbe ai-candidate\nBody:\nCurrently the theme of embedded dashboards are bound to my system appearance, is it a better idea to allow SDK to enforce theme settings?",
  "Requirement ID: ISSUE-35284\nTitle: [6.0.0-RC2] 'GuestUser' object has no attribute 'active'\nState: open\nAuthor: scottyeung\nLabels: authentication\nBody:\n### Bug description\n\n## **Description**\nApache Superset throws an AttributeError when using guest token authentication. The GuestUser class is missing the required `active` attribute that Flask-AppBuilder's security manager expects.\n\n## **Error Message**\n```\nAttributeError: 'GuestUser' object has no attribute 'active'\n\n## **Stack Trace**\nFile \"/app/.venv/lib/python3.11/site-packages/flask_appbuilder/security/decorators.py\", line 106, in wraps\nif current_app.appbuilder.sm.has_access(\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nFile \"/app/.venv/lib/python3.11/site-packages/flask_appbuilder/security/manager.py\", line 1591, in has_access\nif current_user.is_authenticated and current_user.active:\n^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'GuestUser' object has no attribute 'active'\n```\n\n## **Steps to Reproduce**\n1. Configure Superset with guest token authentication\n2. Create a guest token for dashboard access\n3. Access dashboard API endpoint: `GET /api/v1/dashboard/{id}`\n4. Error occurs when Flask-AppBuilder security manager checks `current_user.active`\n\n## **Expected Behavior**\nGuest users should be able to access permitted dashboards without AttributeError, with the security manager properly checking user permissions.\n\n## **Actual Behavior**\nThe application crashes with a 500 error because the `GuestUser` class lacks the `active` attribute required by Flask-AppBuilder's permission system.\n\n## **Environment**\n- **Superset Version**: 6.0.0RC2\n- **Python Version**: 3.11\n- **Deployment**: Docker container\n- **Authentication**: Guest token authentication\n\n## **Suggested Fix**\nThe `GuestUser` class should include the required Flask-AppBuilder attributes:\n- `active = True`\n- `is_authenticated` property\n- `is_anonymous` property\n\n## **Additional Context**\nThis appears to be a compatibility issue between Superset's guest authentication implementation and Flask-AppBuilder's security manager expectations. The error specifically occurs at line 1591 in Flask-AppBuilder's manager.py when checking user permissions.\n\n## **Workaround**\nManually add the missing attributes to the GuestUser class implementation in the security manager configuration.\n\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\n6.0.0rc2\n\n### Python version\n\n3.11\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35283\nTitle: Feature/db ozellikler\nState: closed\nAuthor: oxanero\nLabels: size/S\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35282\nTitle: [6.0.0-RC2] 'GuestUser' object has no attribute 'active'\nState: closed\nAuthor: scott-varadise\nLabels: \nBody:\n## **Description**\nApache Superset throws an AttributeError when using guest token authentication. The GuestUser class is missing the required `active` attribute that Flask-AppBuilder's security manager expects.\n\n## **Error Message**\n```\nAttributeError: 'GuestUser' object has no attribute 'active'\n\n## **Stack Trace**\nFile \"/app/.venv/lib/python3.11/site-packages/flask_appbuilder/security/decorators.py\", line 106, in wraps\nif current_app.appbuilder.sm.has_access(\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nFile \"/app/.venv/lib/python3.11/site-packages/flask_appbuilder/security/manager.py\", line 1591, in has_access\nif current_user.is_authenticated and current_user.active:\n^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'GuestUser' object has no attribute 'active'\n```\n\n## **Steps to Reproduce**\n1. Configure Superset with guest token authentication\n2. Create a guest token for dashboard access\n3. Access dashboard API endpoint: `GET /api/v1/dashboard/{id}`\n4. Error occurs when Flask-AppBuilder security manager checks `current_user.active`\n\n## **Expected Behavior**\nGuest users should be able to access permitted dashboards without AttributeError, with the security manager properly checking user permissions.\n\n## **Actual Behavior**\nThe application crashes with a 500 error because the `GuestUser` class lacks the `active` attribute required by Flask-AppBuilder's permission system.\n\n## **Environment**\n- **Superset Version**: 6.0.0RC2\n- **Python Version**: 3.11\n- **Deployment**: Docker container\n- **Authentication**: Guest token authentication\n\n## **Suggested Fix**\nThe `GuestUser` class should include the required Flask-AppBuilder attributes:\n- `active = True`\n- `is_authenticated` property\n- `is_anonymous` property\n\n## **Additional Context**\nThis appears to be a compatibility issue between Superset's guest authentication implementation and Flask-AppBuilder's security manager expectations. The error specifically occurs at line 1591 in Flask-AppBuilder's manager.py when checking user permissions.\n\n## **Workaround**\nManually add the missing attributes to the GuestUser class implementation in the security manager configuration.\n\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [ ] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [ ] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35280\nTitle: [6.0.0-RC2]The edit time range window should be displayed above the filter\nState: closed\nAuthor: xianggao-1020\nLabels: dashboard:filterbox, validation:validated\nBody:\n### Bug description\n\nWhen adding a filter, if add a pre filter, when select a time type field, the edit time range window should be displayed above the filter.\n\n### Screenshots/recordings\n\n<img width=\"842\" height=\"572\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/dc99a6ab-9135-4bda-a744-e6fe8d0985a5\" />\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.11\n\n### Node version\n\nI don't know\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35279\nTitle: [6.0.0-RC2] Superset+Doris: When using custom SQL in the sort query by and there is a `,` in the order by sql, the chart will get an error\nState: open\nAuthor: xianggao-1020\nLabels: data:connect:doris\nBody:\n### Bug description\n\nI\u2019m experiencing a bug in 6.0.0 RC2 for a table chart using doris as database.\nWhen using custom sql in sort query by, and there is a comma in the sql, the chart will report an error, but this is fine in 5.0.0\n\n### Screenshots/recordings\n\n<img width=\"1386\" height=\"788\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/5a5aac6b-3bb8-4a57-ac06-0c57b6b62253\" />\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.11\n\n### Node version\n\nI don't know\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35277\nTitle: fix(dataset): sort by database in Dataset and Saved queries Issue\nState: closed\nAuthor: rebenitez1802\nLabels: size/M, change:frontend, listview, packages, testenv-up, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nFixes database column sorting in Dataset and SavedQuery list views. After the Ant Design v5 migration, nested columns (like database.database_name) were split into arrays for dataIndex, but when sorting occurs, AntD returns the array format instead of the original dot-notation string, causing backend validation errors.\r\n\r\n  The fix converts array fields back to dot notation in the handleTableChange callback while preserving existing string fields unchanged.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n  1. Navigate to Datasets page (/dataset/list/)\r\n  2. Click on the \"Database\" column header to sort\r\n  3. Verify sorting works without API errors\r\n  4. Repeat for Saved Queries page (/savedqueryview/list/)\r\n  5. Test sorting other columns to ensure no regressions\r\n  \r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35274\nTitle: fix(table): New ad-hoc columns retain the name of previous columns\nState: closed\nAuthor: SBIN2010\nLabels: size/L, explore:control, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\nThis PR fix #25592\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nReset only if the pop-up window is closed or has just opened.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\nBEFORE\r\n<img width=\"691\" height=\"687\" alt=\"\u0421\u043d\u0438\u043c\u043e\u043a \u044d\u043a\u0440\u0430\u043d\u0430 \u043e\u0442 2025-09-25 01-14-27\" src=\"https://github.com/user-attachments/assets/0598a3a1-595f-40df-b201-2ea5145a025e\" />\r\n\r\nAFTER\r\n<img width=\"691\" height=\"687\" alt=\"\u0421\u043d\u0438\u043c\u043e\u043a \u044d\u043a\u0440\u0430\u043d\u0430 \u043e\u0442 2025-09-25 01-12-42\" src=\"https://github.com/user-attachments/assets/b672f19a-550f-49e0-a584-643bdb14ffe1\" />\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35271\nTitle: [6.0.0-RC2] Superset+StarRocks: Error with timestamp handling in line chart\nState: open\nAuthor: maanwater\nLabels: viz:charts:line, data:connect:starrocks\nBody:\n### Bug description\n\nI\u2019m experiencing a bug in 6.0.0 RC2 (was there in RC1 already as well) for a line chart with minute time grain using StarRocks as database.\n\nIn our prod environment (v5.0.0) the graph looks like the first graph while in our nonprod environment (v6.0.0 RC2) it look like the second graph.\n\nComparing both generated SQL statements, it appears that in v6.0.0 RC2 there is a missing \u201cDATE()\u201d section in the \u201cDATE_ADD()\u201d function (see code snippet below). However, if I manually add this and execute the query in SQL_lab, the result is the same.\n\nThe issue seems to be that in v6.0.0 the timestamp is not being grouped at the minute level. Screenshot 3 gives the result in SQL lab for v5.0.0, screenshot 4 the exact same query in v6.0.0.\nAlso mark that the query in v6.0.0 gives results for timestamps which should not be possible according to my WHERE clause.\n\nThe SQL code behind the correct line chart in Apache Superset v5.0.0\n`\nSELECT \n    DATE_ADD(\n        DATE(TIMESTAMPADD(HOUR,2,timestamp)), \n        INTERVAL (\n            HOUR(TIMESTAMPADD(HOUR,2,timestamp))*60 + MINUTE(TIMESTAMPADD(HOUR,2,timestamp))\n        ) MINUTE\n    ), \n    COUNT(event_id) as count\nFROM starrocks.events \nWHERE\n  timestamp >= STR_TO_DATE('2025-09-23 00:00:00.000000', '%Y-%m-%d %T.%f')\n  AND timestamp < STR_TO_DATE('2025-09-23 11:32:16.000000', '%Y-%m-%d %T.%f')\n  AND event_name IN ('page_impression')\nGROUP BY \n    DATE_ADD(\n        DATE(TIMESTAMPADD(HOUR,2,timestamp)), \n        INTERVAL (\n            HOUR(TIMESTAMPADD(HOUR,2,timestamp))*60 + MINUTE(TIMESTAMPADD(HOUR,2,timestamp))\n        ) MINUTE\n    ) \nORDER BY count DESC \nLIMIT 5000;\n`\n\nThe SQL code behind the incorrect line chart in Apache Superset v6.0.0 RC2\n`\nSELECT\n  DATE_ADD(\n    TIMESTAMPADD(HOUR, 2, timestamp),\n    INTERVAL (\n      HOUR(TIMESTAMPADD(HOUR, 2, timestamp)) * 60 + MINUTE(TIMESTAMPADD(HOUR, 2, timestamp))\n    ) MINUTE\n  ),\n  COUNT(event_id) as count\nFROM starrocks.events \nWHERE\n  timestamp >= STR_TO_DATE('2025-09-23 00:00:00.000000', '%Y-%m-%d %T.%f')\n  AND timestamp < STR_TO_DATE('2025-09-23 11:32:16.000000', '%Y-%m-%d %T.%f')\n  AND event_name IN ('page_impression')\nGROUP BY\n  DATE_ADD(\n    TIMESTAMPADD(HOUR, 2, timestamp),\n    INTERVAL (\n      HOUR(TIMESTAMPADD(HOUR, 2, timestamp)) * 60 + MINUTE(TIMESTAMPADD(HOUR, 2, timestamp))\n    ) MINUTE\n  )\nORDER BY count DESC \nLIMIT 5000\n`\n\n### Screenshots/recordings\n\nLine chart with minute time grain in v5.0.0\n<img width=\"1986\" height=\"1104\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/99fe5e5f-0e19-4794-b5f3-70f53181d8a7\" />\n\nThe table view behind the line chart\n<img width=\"516\" height=\"792\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/60675b1d-13ae-4347-991d-15695a4f1808\" />\n\nLine chart with minute time grain in v6.0.0\n<img width=\"2030\" height=\"1120\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/8eec87f5-6dba-40a2-bb2a-451e7b9ff147\" />\n\nThe table view behind the line chart is not grouping by minute and contains elements from outside the period in the WHERE clause\n<img width=\"472\" height=\"706\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/fc09fc59-9b43-489f-b95a-981c0bda7c46\" />\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.10\n\n### Node version\n\n18 or greater\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35270\nTitle: [6.0.0-RC2] Superset+Pinot: Error with escape field names\nState: closed\nAuthor: jacob-roldan\nLabels: data:connect:pinot\nBody:\n### Bug description\n\nI have an github project with superset + pinot, where I configure the dashboard USA Births Names to use with Pinot:\nhttps://github.com/jacob-roldan/issues-superset6-pinot\n\nOne error is in the chart \"Girl Name Cloud PINOT\"\nThis is the query:\n```sql\nSELECT \"name\", SUM(num) \nFROM birth_names \nWHERE ds1 >= '1925-09-24 00:00:00.000000' AND ds1 < '2025-09-24 17:30:50.000000' AND gender = 'girl' GROUP BY \"name\"\n LIMIT 50000;\n```\n \n\nWhere the field _name_ is escaped, but the result is wrong:\n\n<img width=\"1179\" height=\"109\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/8b2769bd-4a9b-44d3-94b8-e9ff9dcf195f\" />\n\nThat query executed with dBeaver is OK:\n\n<img width=\"884\" height=\"414\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/8b1678ad-8b83-43bf-9d19-8c324a8ea7b7\" />\n\nThe step to reproduce it using that git-repo:\n\n```sh\n//Start containers\ndocker-compose up -d\n\n//Install driver for Pinot\n./superset-config-pinot.sh\n\n//Load data and import dashboard\n./example_birthnames.sh\n\n```\n\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\nWith version 5.0.0, there is a problem with Pinot driver. It's not possible to configure a connection to Pinot.\nWith version 4.1.4 all charts of USA Births Names dashboard are OK except one\n\n<img width=\"1912\" height=\"1992\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/9a3171fd-ef85-42c6-8643-12ef9d005fba\" />\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35266\nTitle: fix(deckgl): polygon elevation fixed value\nState: open\nAuthor: DamianPendrak\nLabels: size/XL, viz:charts:deck.gl, plugins\nBody:\n### SUMMARY\r\nI discovered an issue with the deck.gl polygon chart's elevation when set to a fixed value like \"1000\". This PR resolves that.\r\n\r\n### BEFORE/AFTER \r\nBefore\r\n<img width=\"2039\" height=\"1015\" alt=\"Screenshot 2025-09-24 at 16 07 42\" src=\"https://github.com/user-attachments/assets/5df343ec-831b-48f9-b9bd-6fca2fb0b411\" />\r\n\r\nAfter\r\n<img width=\"2039\" height=\"958\" alt=\"Screenshot 2025-09-24 at 16 07 17\" src=\"https://github.com/user-attachments/assets/eeb13205-7b73-4810-964b-5c962f061e65\" />\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35265\nTitle: fix(dashboard): refresh tabs as they load when dashboard is refreshed\nState: open\nAuthor: msyavuz\nLabels: size/L, dashboard:tab, dashboard\nBody:\n## SUMMARY\n\nThis PR fixes an issue where refreshing a dashboard does not update charts in tabs that haven't been loaded yet. Previously, only charts in tabs that were already visited would refresh, leaving unvisited tabs with stale data.\n\nThe fix implements lazy refresh behavior for tabs - when a dashboard refresh is triggered, tabs that haven't been loaded yet will automatically refresh their charts when the user switches to them.\n\n## BEFORE/AFTER\n\n### Before\n- When refreshing a dashboard with multiple tabs, only the charts from tabs that were already loaded would be refreshed\n- Charts in unvisited tabs would remain stale even after a dashboard refresh\n\n### After  \n- Dashboard refresh marks the refresh timestamp\n- When switching to a previously unloaded tab after a refresh, that tab's charts are automatically refreshed\n- This matches the initial loading behavior where tabs load lazily as the user navigates to them\n\n## TESTING INSTRUCTIONS\n\n1. Create a dashboard with 3 tabs, and add one chart on each tab\n2. Wait a couple of minutes so data gets cached on all charts\n3. Access the dashboard (loads on first tab) and navigate to the second tab\n4. Trigger a dashboard refresh using the refresh button\n5. Navigate to the third tab\n6. Verify that the third tab's charts are refreshed when you switch to it (you should see loading indicators)\n\n## ADDITIONAL INFORMATION\n\n- Added tracking of tab activation times to determine when tabs need refreshing\n- Added `lastRefreshTime` to dashboard state to track when refreshes occur\n- Tab component now checks if it needs to refresh when becoming visible\n- Created utility function `getChartIdsFromComponent` to get all chart IDs within a tab\n\nFixes the issue where dashboard refresh doesn't affect unloaded tabs.",
  "Requirement ID: ISSUE-35264\nTitle: feat(frontend): add dataset cache clearing utilities and integration\nState: open\nAuthor: msyavuz\nLabels: size/M, change:frontend, data:dataset\nBody:\n### SUMMARY\nImplements dataset cache clearing functionality to ensure fresh data is fetched after dataset modifications. This addresses potential stale data issues where cached API responses were not being invalidated when datasets were updated.\n\n**Key Changes:**\n- Added `datasetCache.ts` utility with functions to clear cached API responses for specific datasets\n- Integrated cache clearing in `SaveDatasetModal` after dataset updates  \n- Integrated cache clearing in `DatasourceModal` and `DatasourceEditor` components\n- Ensures that any subsequent API calls fetch fresh data from the server\n\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\nN/A - This is a backend caching improvement with no visible UI changes\n\n### TESTING INSTRUCTIONS\n1. Navigate to SQL Lab and create/modify a dataset\n2. Open the dataset in the datasource editor and make changes\n3. Verify that the changes are immediately reflected without requiring a page refresh\n4. Test saving datasets from SQL Lab and confirm fresh data is loaded\n5. Check browser network tab to verify cache invalidation is working (no stale cached responses)\n\n### ADDITIONAL INFORMATION\n- [ ] Has associated issue:\n- [ ] Required feature flags:\n- [ ] Changes UI\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\n  - [ ] Confirm DB migration upgrade and downgrade tested\n  - [ ] Runtime estimates and downtime expectations provided\n- [x] Introduces new feature or API\n- [ ] Removes existing feature or API\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)",
  "Requirement ID: ISSUE-35263\nTitle: Bug: Drill to Detail / Drill by Not Working Across Charts from Jinja-Based Datasets\nState: open\nAuthor: ShivamYadav0\nLabels: validation:required, global:jinja, dashboard:drill-down\nBody:\n### Bug description\n\nI'm working with three separate datasets, each built using Jinja templating to support dynamic filtering. These datasets are used to power three different charts in a dashboard. All charts share common filter fields (e.g., start_date, Zone, Circle, etc.), and I\u2019ve configured native filters to apply across all charts.\n\nEach dataset uses Jinja to apply filters like this:\n\n**SQL query** is something like this in all 3 datasets.\n\n_WHERE 1=1\n{% if filter_values('Zone') %}\n  AND \"Zone\" IN {{ filter_values('Zone') | where_in }}\n{% endif %}_\n\n\nThe charts display correct data when filters are applied. However, when I use Drill to Detail or Drill by on any chart, the resulting detail view shows zero records, even though the chart clearly shows data for the selected value.\n\n\n**Expected Behavior**\nDrill to Detail should return the filtered rows from the dataset that match the clicked chart element (e.g., Circle = C1, type_of_node = A).\n\n\n**Actual Behavior**\nDrill to Detail and Drill by return no rows, even though the chart shows non-zero values. This happens consistently across all three charts.\n\n\n**Notes**\n1. All datasets use Jinja templating for dynamic filters.\n\n2. All charts are built from separate datasets, but they share common column names and filter logic.\n\n3. Native filters are scoped correctly to all charts.\n\n4. The issue seems to be with how Superset applies drill filters to Jinja-based queries across multiple datasets.\n\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\n4.1.3\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n<img width=\"1622\" height=\"843\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/c03405bb-d9cb-43db-ab8f-96172019b960\" />\n\n### Checklist\n\n- [ ] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35262\nTitle: 6.0.0rc2: \u00a0url_param\u00a0Jinja macro not rendered correctly causing PostgreSQL errors\nState: closed\nAuthor: scottyeung\nLabels: global:jinja\nBody:\n### Bug description\n\n### Summary\n\nUpgrading from Superset 3.1.3 to 6.0.x causes SQL queries with `url_param` Jinja macros to fail with PostgreSQL errors. Queries using `{{ url_param('project_id', '380') }}` produce errors such as:\n\n- `function url_param(unknown, unknown) does not exist`\n- `invalid input syntax for type integer: \"{{ url_param(\"project_id\", \"380\") }}\"`\n- `column reference \"project_id\" is ambiguous`\n- Errors related to unsupported syntax like `STRUCT(STRUCT(URL_PARAM(...)))`\n\n### Steps to Reproduce\n\n1. Use a SQL query referencing URL parameters via Jinja macro in the form:\n`WHERE f.project_id = {{ url_param(\u201cproject_id\u201d, 380) | int }}`\n\n\n2. Run this query against a PostgreSQL datasource in Superset 6.0.x.\n\n3. The query fails with errors about unresolved `url_param` macros or SQL syntax errors.\n\n4. The same query works as expected in Superset 3.1.3.\n\n### Expected Results\n\n- Jinja templating replaces `url_param` macro before sending SQL to PostgreSQL.\n- Integer values are correctly injected without quoting or invalid SQL functions.\n- Queries execute without errors.\n\n### Actual Results\n\n- PostgreSQL receives raw `{{ url_param(...) }}` strings.\n- Errors about unknown functions, invalid input syntax, or ambiguous columns.\n- Superset 6.0.x appears to handle Jinja templating differently or more strictly.\n\n### Environment\n\n- Superset version: 6.0.0rc2\n- Database: PostgreSQL\n- Configuration: `ENABLE_TEMPLATE_PROCESSING = True`\n- Example minimal query included in description.\n\n### Additional Context\n\n- Legacy `STRUCT()` syntax was removed as unsupported by PostgreSQL.\n- Both SQL casting and Jinja integer filtering produce errors due to unresolved macros.\n- Confirms a change or regression in Jinja templating behavior after upgrading.\n\n### Checklist\n\n- [x] I have searched the [issue tracker](https://github.com/apache/superset/issues) for similar issues.\n- [x] I have provided steps to reproduce and sample queries.\n- [x] I have tested with the latest release version of Superset.",
  "Requirement ID: ISSUE-35261\nTitle: Timeout errors for embedded Superset dashboard\nState: open\nAuthor: natasha-tc\nLabels: validation:required, authentication, embedded\nBody:\n### Bug description\n\nCurrent Superset version: 4.0.2\n\nOur platform is set up to embed Superset charts, but we frequently encounter timeout errors in the platform when viewing Superset dashboards.\n\nWhat we have found is the Superset integration uses a library (@superset-ui/embedded-sdk) to display dashboards. This library creates temporary guest tokens each time a dashboard is viewed \u2014 even if the user hasn\u2019t directly logged into Superset. After a timeout (e.g., 15 minutes), the library automatically tries to refresh these tokens. If the user has logged out or their session has ended, these refresh attempts fail, triggering \"Insufficient Permissions\" errors. The problem worsens if multiple dashboards are viewed, as more tokens are created and retried in parallel.\n\nCan you please get assistance on a proper resolution for this issue?\n\n<img width=\"679\" height=\"597\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/ee898b43-857e-4d02-90dc-f7eb564e4448\" />\n\n### Screenshots/recordings\n\nAttached is an example of the error message displayed upon being logged out while viewing charts\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\nI don't know\n\n### Node version\n\nI don't know\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [ ] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35259\nTitle: chore: abstract models and daos into superset-core\nState: open\nAuthor: villebro\nLabels: change:backend, size/L, review:draft\nBody:\n### SUMMARY\r\nWIP\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35258\nTitle: fix: Add DuckDB examples URI to ECS task definition for showtime environments\nState: closed\nAuthor: eschutho\nLabels: size/XS, preset-io, data:connect:duckdb, github_actions\nBody:\n## Summary\n\nThis PR fixes example loading in showtime ephemeral environments by adding the missing `SUPERSET__SQLALCHEMY_EXAMPLES_URI` environment variable to the ECS task definition.\n\n**Problem**: After the August 2025 Docker changes that added DuckDB examples support (#34831), showtime ephemeral environments stopped loading examples. The Docker build process correctly downloads the DuckDB examples file to `/app/data/examples.duckdb`, but the ECS task definition was missing the environment variable that tells Superset where to find this file.\n\n**Root Cause**: The main repo's ECS task definition (used by showtime) wasn't updated when DuckDB examples support was added to the Docker build process. This created a disconnect between:\n- \u2705 Docker build: Downloads examples.duckdb file via `LOAD_EXAMPLES_DUCKDB=true`\n- \u274c Runtime config: Missing `SUPERSET__SQLALCHEMY_EXAMPLES_URI` to locate the file\n\n**Solution**: Added the DuckDB examples database URI to match the configuration used in docker-compose.yml files and the working showtime repo configuration.\n\n## Before/After\n\n**Before**: Showtime ephemeral environments failed to load examples - containers had the DuckDB file but didn't know where to find it\n**After**: Showtime environments can properly access the pre-built DuckDB examples file and load dashboards/charts\n\n## Testing Instructions\n\n1. Create a showtime ephemeral environment by adding the `\ud83c\udfaa \u26a1 showtime-trigger-start` label to a PR\n2. Wait for environment to deploy (look for `\ud83c\udfaa {sha} \ud83d\udea6 running` label)\n3. Access the showtime URL from the `\ud83c\udfaa {sha} \ud83c\udf10 {ip}:8080` label\n4. Verify examples are loaded correctly in the UI\n5. Check that dashboards and charts are available in the examples section\n\n## Context: Showtime Ephemeral Environments\n\nThis change is specifically needed for the showtime system that creates ephemeral Apache Superset environments for PR testing. The showtime repo already has this configuration working, but the main Apache Superset repo's ECS task definition was missing this critical environment variable.\n\nWithout this fix, showtime environments appear to start successfully but fail to load any example data, making them less useful for testing and demonstration purposes.\n\n## Additional Information\n\n- [x] Fixes examples loading in showtime ephemeral environments\n- [ ] Has associated issue: \n- [ ] Required feature flags: None\n- [ ] Changes UI: No\n- [ ] Includes DB Migration: No\n- [ ] Introduces new feature or API: No  \n- [ ] Removes existing feature or API: No\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)",
  "Requirement ID: ISSUE-35257\nTitle: Conditional formatting improvements\nState: closed\nAuthor: edison-lhk\nLabels: viz:charts:table\nBody:\n## Description\n\nI recently tried to apply conditional formatting to a table in Superset and found myself longing for the following:\n\n1. The ability to apply conditional formatting to non-numeric columns (specifically text and boolean columns).\n2. The ability to toggle highlighting for an entire row instead of just an individual cell.\n\ndiscussions link: https://github.com/apache/superset/discussions/22790?sort=new",
  "Requirement ID: ISSUE-35256\nTitle: fix(DatasourceModal): replace imperative modal updates with declarative state\nState: closed\nAuthor: eschutho\nLabels: size/L, change:frontend, frontend:refactor, v6.0\nBody:\n## Summary\n\nFixes DOM error `NotFoundError: Failed to execute 'insertBefore' on 'Node'` in DatasourceModal by replacing imperative modal updates with declarative React state management.\n\n## Problem\n\nThe DatasourceModal component was storing modal instances from `Modal.useModal()` and calling `.update()` on them imperatively. This caused DOM manipulation conflicts with React's reconciliation process, leading to the error when React tried to insert DOM nodes that were no longer children of their expected parents.\n\n## Solution\n\n- **Convert ref to state**: Changed `syncColumnsRef` to `syncColumns` state variable for proper React reactivity\n- **Remove imperative updates**: Eliminated `confirmModal.update()` calls that manipulated DOM outside React's control  \n- **Simplify modal creation**: Modal content now updates naturally through React re-renders\n- **Fix dependencies**: Removed circular dependency in `getSaveDialog` callback\n- **Add tests**: Created comprehensive tests to verify proper hook usage and prevent regressions\n\n## Test Plan\n\n- [x] All existing DatasourceModal tests pass (14/14)\n- [x] New tests verify `Modal.useModal` hook usage instead of direct `Modal.confirm`\n- [x] Tests confirm modal interactions work without DOM errors\n- [x] TypeScript compilation successful\n- [x] Pre-commit hooks pass (ESLint, type checking)\n\n## Technical Details\n\n**Before**: Modal content was updated imperatively:\n```javascript\nconst [confirmModal, setConfirmModal] = useState(null);\n// ...\nconfirmModal.update({ content: getSaveDialog() }); // \u274c DOM manipulation\n```\n\n**After**: Modal content updates declaratively:\n```javascript\nconst [syncColumns, setSyncColumns] = useState(false);\n// Modal re-renders naturally when syncColumns state changes \u2705\n```\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)",
  "Requirement ID: ISSUE-35255\nTitle: fix(docker): bind webpack dev server to all interfaces\nState: open\nAuthor: eschutho\nLabels: size/XS, preset-io, infra:container\nBody:\n## Summary\n\nFixes an issue where the frontend development server is inaccessible from the host machine when using Docker Compose for local development.\n\n**Problem**: When running `docker-compose -f docker-compose-light.yml up`, the frontend dev server starts successfully inside the container but cannot be accessed from the host machine at `http://localhost:9001`. This breaks the local development workflow for contributors using Docker.\n\n**Root Cause**: The webpack dev server was configured to bind only to `127.0.0.1` (localhost within the container), while the Docker port mapping expects the service to be accessible on all network interfaces.\n\n**Solution**: Changes the default `WEBPACK_DEVSERVER_HOST` from `127.0.0.1` to `0.0.0.0` in `docker-compose-light.yml`, allowing the dev server to accept connections from outside the container while still allowing override via environment variable.\n\n## Before/After\n\n**Before**: \n- `docker-compose -f docker-compose-light.yml up` starts successfully\n- Frontend dev server runs inside container but is unreachable from host\n- Developers cannot access `http://localhost:9001` for frontend development\n\n**After**:\n- Frontend dev server is accessible from host machine at `http://localhost:9001`\n- Normal Docker-based development workflow is restored\n- Environment variable override still works: `WEBPACK_DEVSERVER_HOST=127.0.0.1` forces localhost-only\n\n## Test Plan\n\n- [ ] Run `docker-compose -f docker-compose-light.yml up`\n- [ ] Verify frontend is accessible at `http://localhost:9001`\n- [ ] Confirm hot reloading works when making frontend changes\n- [ ] Test that `WEBPACK_DEVSERVER_HOST=127.0.0.1 docker-compose -f docker-compose-light.yml up` still works for localhost-only access\n\n## Impact\n\nThis change restores normal Docker-based frontend development functionality for contributors who rely on containerized development environments.\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)",
  "Requirement ID: ISSUE-35254\nTitle: fix(theme-crud): add unsaved changes modal\nState: closed\nAuthor: gabotorresruiz\nLabels: size/XXL, change:frontend\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nThis PR adds an `unsaved changes alert` to prevent accidental data loss when users have modifications but haven't saved them. The alert appears in the modal footer with options to save, discard, or continue editing.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n![after-theme-unsaved-changes](https://github.com/user-attachments/assets/580114d3-638f-4e07-8462-a53360b8e417)\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n1. Navigate to Settings > Themes\r\n2. Click \"Add Theme\" or edit an existing theme\r\n3. Make changes to the theme name or JSON configuration\r\n4. Click Cancel or the X button to close the modal\r\n5. Verify that the unsaved changes modal appears with three options:\r\n   - \"Keep editing\" - returns to the editor\r\n   - \"Save and close\" - saves changes and closes\r\n   - \"Discard changes\" - closes without saving\r\n6. Test that the modal does NOT appear when:\r\n   - No changes have been made\r\n   - Viewing a read-only system theme\r\n   - After successfully saving changes\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35253\nTitle: feat(ci): GitHub Models - Part 1 of `n`\nState: open\nAuthor: rusackas\nLabels: size/M, github_actions\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nTaking a first stab at adding GHA using the new GitHub Models feature(s). This is just copping a couple examples from this blog post:\r\nhttps://github.blog/open-source/maintainers/how-github-models-can-help-open-source-maintainers-focus-on-what-matters/\r\n\r\nApparently the org has to pay for this model access and set it up on GitHub. It's unclear if we can validate that it's currently enabled without just... trying it. So here we go!\r\n\r\nIf it fails (fairly likely), then I'll follow up with ASF Infra to see a) if they can turn this on at all, and b) if/how we need to account for token usage/fees\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n1) Merge it\r\n2) Open an issue!\r\n3) \ud83d\ude4f \r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35252\nTitle: chore(antd): upgrade antd to 5.27.4\nState: open\nAuthor: msyavuz\nLabels: size/M, dependencies:npm, review:draft\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35251\nTitle: Helm chart release for helm-publish-bc0c40c\nState: open\nAuthor: github-actions[bot]\nLabels: size/M, deploy:helm\nBody:\nThis PR releases Helm charts to the gh-pages branch.",
  "Requirement ID: ISSUE-35250\nTitle: Filter buttons being displayed at the very bottom of an embedded dashboard\nState: closed\nAuthor: davigiroux\nLabels: dashboard:design\nBody:\n## Screenshot\n\n<img width=\"2330\" height=\"494\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/d89ce041-78e4-40d0-a167-a1875246071f\" />\n\n## Description\n\nWhen embedding long dashboards, the \"Apply filters\" button is displayed at the very bottom of the page. We have to set the height of the iframe in a way that it doesn't create an internal scroll in our app, and since the buttons are configured with `100vh`, the user has to scroll all the way to the bottom to apply any filters. Could you have a way for us to have the button directly below the last filter? \n\ndesign=suggest",
  "Requirement ID: ISSUE-35249\nTitle: Iframe refresh\nState: closed\nAuthor: erdemcer\nLabels: embedded\nBody:\n## Description\n\nI have a simple application which has iframe contains Superset dashboard. I would like to refresh dashboard from custom button in main page but everytime when refresh button is called full whole iframe is reloading. Is there any way to refresh dashboard in iframe without reloading whole iframe. I have asked this issue before and wonder is there any improvements.\n\nThanks",
  "Requirement ID: ISSUE-35248\nTitle: feat(themes): Adding SupersetText support to Themes Modal\nState: closed\nAuthor: rebenitez1802\nLabels: size/S, change:frontend, global:theming\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nIn order to be able to easily customize URL's in Theme Modal, `SupersetText` is added with propper fallback \r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35247\nTitle: chore: Bumps @apache-superset/core to 0.0.1-rc5\nState: closed\nAuthor: michael-s-molina\nLabels: size/XS, dependencies:npm, packages\nBody:\n### SUMMARY\r\nBumps `@apache-superset/core` to `0.0.1-rc5` to be able to generate a new version in NPM.\r\n\r\n### TESTING INSTRUCTIONS\r\nCI should be sufficient.\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35246\nTitle: fix: docker-compose-image-tag\nState: closed\nAuthor: betodealmeida\nLabels: size/XS, preset-io, infra\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nFix the `docker-compose-image-tag` container.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35244\nTitle: fix: Typescript declaration files\nState: closed\nAuthor: michael-s-molina\nLabels: size/L, change:frontend, plugins, packages\nBody:\n### SUMMARY\r\nThis change fixes TypeScript declaration file generation across the entire superset-frontend monorepo by adding proper `rootDir`, `declarationDir`, and `baseUrl` overrides to all 23 package and plugin `tsconfig.json` files, along with comprehensive inline documentation explaining why these overrides are necessary. Previously, packages were inheriting incompatible directory paths from the parent configuration designed for the frontend root, causing `npm run build` to generate JavaScript files but no `.d.ts` declaration files needed for proper npm publishing. The fix ensures all packages and plugins now generate proper declaration files, while the added documentation prevents future developers from accidentally removing these critical configuration overrides that resolve path conflicts between the monorepo structure and individual package builds.\r\n\r\nFollow-up of https://github.com/apache/superset/pull/35159\r\n\r\n### TESTING INSTRUCTIONS\r\nBuild packages and plugins and check that their Typescript declaration files are being generated.\r\n\r\n### ADDITIONAL INFORMATION\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35243\nTitle: fix(ConditionalFormattingControl): icon color in dark mode\nState: closed\nAuthor: msyavuz\nLabels: size/XS, change:frontend, explore:control, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nCloseOutlined icon was not visible in dark themes in ConditionalFormattingControl.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\nBefore can be observed in linked issue\r\n<img width=\"325\" height=\"168\" alt=\"image\" src=\"https://github.com/user-attachments/assets/2e796e6c-c808-4b5f-babb-12d9274ca5aa\" />\r\n\r\nAfter:\r\n<img width=\"349\" height=\"134\" alt=\"image\" src=\"https://github.com/user-attachments/assets/538f26d9-6982-4f1c-a15b-bd5eb907dec8\" />\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\nVisual testing\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [x] Has associated issue: Fixes #35236 \r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35242\nTitle: docs(oracle): update driver\nState: closed\nAuthor: dim-ops\nLabels: size/XS, doc\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\nThe latest version of `cx_Oracle` dates from 2021 this driver is no longer maintained.\r\n\r\nIf you read [official documentation](https://cx-oracle.readthedocs.io/en/latest/user_guide/installation.html) you can see Oracle recommends to use `oracledb`",
  "Requirement ID: ISSUE-35240\nTitle: feat(build): auto-rebuild/check TypeScript types for packages/plugins in webpack\nState: closed\nAuthor: mistercrunch\nLabels: size/M\nBody:\nAfter PR #35159 changes, developers had to manually run `npm run plugins:build` whenever types changed in packages or plugins. This adds automatic type checking and .d.ts generation to the webpack dev process using ForkTsCheckerWebpackPlugin.\r\n\r\nKey improvements:\r\n- Automatic type rebuilding when packages/plugins change\r\n- Inline type error reporting in webpack console\r\n- Incremental compilation for better performance\r\n- skipLibCheck optimization for faster type checking\r\n- Can be disabled with DISABLE_TYPE_CHECK=true npm run dev\r\n- Fixes PropTypes compatibility for JavaScript files\r\n\r\nThis eliminates the need for manual type rebuilding and makes the development experience smoother while maintaining type safety.",
  "Requirement ID: ISSUE-35237\nTitle: refactor: remove obsolete Flask flash messaging system\nState: closed\nAuthor: mistercrunch\nLabels: change:backend, size/L, change:frontend, preset-io, api\nBody:\n## Summary\r\n\r\nThe Flask flash message system is a legacy feature from when Superset was a server-rendered application. In the current SPA architecture, these messages are never displayed to users because:\r\n- Flash messages only render on page load via FlashProvider's componentDidMount\r\n- Modern UI interactions use async API calls that don't trigger page reloads\r\n- The main consumer (/explore/ POST endpoint) is already marked @deprecated\r\n\r\nAll user-facing notifications are already handled by the frontend toast system, including chart save operations (see saveModalActions.ts) which dispatches success toasts for:\r\n- Chart saved/overwritten\r\n- Chart added to dashboard\r\n- New dashboard created with chart\r\n\r\n## Changes\r\n\r\n### Backend\r\n- Removed all flash() calls from views (14 occurrences in 4 files)\r\n- Converted error flashes to JSON responses or logging\r\n- Removed redirect_with_flash utility function\r\n- Fixed open redirect vulnerability in dashboard access denial\r\n\r\n### Frontend\r\n- Deleted FlashProvider component and tests\r\n- Removed flash_messages from CommonBootstrapData type\r\n- Cleaned up context providers and test fixtures\r\n- Removed unused getBootstrapData imports\r\n\r\n### Security Fixes\r\n- Fixed open redirect vulnerability by using url_for() instead of request.url\r\n- Dashboard access denial now uses safe URL construction\r\n\r\n### Code Cleanup\r\n- Removed unnecessary pass statements and comments\r\n- Converted permalink errors to JSON responses for consistency\r\n- Verified no tests depend on flash functionality\r\n\r\n## BREAKING CHANGE\r\nRemoves flask.flash() messaging infrastructure. However, no actual functionality is lost as the frontend already handles all notifications through its own toast system.\r\n\r\n## TESTING INSTRUCTIONS\r\n1. Save a chart from Explore - verify toast notifications appear\r\n2. Add chart to dashboard - verify success message\r\n3. Try accessing a dashboard without permissions - verify proper redirect\r\n4. Run frontend tests: `npm test`\r\n5. Run backend tests: `pytest`\r\n\r\n## ADDITIONAL INFORMATION\r\nThe application now relies entirely on client-side toast notifications for user feedback, which properly support async operations and provide a consistent UX.",
  "Requirement ID: ISSUE-35236\nTitle: Conditional Formatting item in dark themes\nState: closed\nAuthor: SBIN2010\nLabels: #bug:cosmetic, global:theming\nBody:\n## Screenshot\nlight themes\n<img width=\"325\" height=\"168\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/068ae1fe-ffe6-44ff-b06d-06ccb18ff64a\" />\n\ndark themes\n<img width=\"325\" height=\"168\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/9f9ce879-7284-4896-865c-fea11153a6fa\" />\n\n\n## Description\n\nCloseOutlined icons not visible in dark themes",
  "Requirement ID: ISSUE-35235\nTitle: fix: docker-compose file and superset-core\nState: closed\nAuthor: betodealmeida\nLabels: install:docker, size/M\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\n`docker compose up` stopped working because of the introduction of `superset-core`.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35227\nTitle: ci-cd yaml file added to branch\nState: closed\nAuthor: balaji-a11y\nLabels: i18n, risk:db-migration, i18n:spanish, i18n:italian, i18n:french, i18n:chinese, i18n:japanese, i18n:russian, i18n:korean, api, doc, plugins, dependencies:npm, github_actions, packages, i18n:dutch, i18n:slovak, i18n:ukrainian, i18n:portuguese, i18n:brazilian, i18n:traditional-chinese\nBody:\nI have uploaded the ci-cd file to baseline/upstream-5.0.0 branch.",
  "Requirement ID: ISSUE-35226\nTitle: Using Jinja SQLs in charts + enabling async execution results in HTTP error 422 - UNPROCESSABLE ENTITY\nState: closed\nAuthor: rahul-plavelimana\nLabels: global:jinja, global:async-query\nBody:\n### Bug description\n\nSteps to replicate:\n\n1. Define a chart with some jinja SQLs, referencing columns dynamically based on a dashboard level filter\n2. Keep async enabled\n\tGLOBAL_ASYNC_QUERIES = True\n\tENABLE_ASYNC_QUERIES = True\n3. Load the dashboard\n\nScenario:\n\nI have a chart in which we have defined a custom metric using jinja SQLs\n\nIt looks as below where\n\n`MAX(\n    {% if filter_values('perfmetrics')|length %}\n        {% set metric_value = filter_values('perfmetrics')[0] %}\n        {% if metric_value == 'Total IOPs' %}\n            vlun_iops_total\n        {% elif metric_value == 'Read IOPs' %}\n            vlun_iops_read\n        {% elif metric_value == 'Write IOPs' %}\n            vlun_iops_write\n        {% elif metric_value == 'Total Latency (ms)' %}\n            vlun_svt_total\n        {% elif metric_value == 'Read Latency (ms)' %}\n            vlun_svt_read\n        {% elif metric_value == 'Write Latency (ms)' %}\n            vlun_svt_write\n        {% elif metric_value == 'Total Throughput (MiB/s)' %}\n            vlun_kbps_total/1024\n        {% elif metric_value == 'Read Throughput (MiB/s)' %}\n            vlun_kbps_read/1024\n        {% elif metric_value == 'Write Throughput (MiB/s)' %}\n            vlun_kbps_write/1024\n        {% elif metric_value == 'Total IO Size (KiB)' %}\n            vlun_iosz_total\n        {% elif metric_value == 'Read IO Size (KiB)' %}\n            vlun_iosz_read\n        {% elif metric_value == 'Write IO Size (KiB)' %}\n            vlun_iosz_write\n        {% endif %}\n    {% endif %}\n)`\n\nperfmetrics => This is a list filter at dashboard level, where we can pick values as 'Total IOPs' / 'Read IOPs' / 'Write IOPs' etc. \n\nBased on the user selection, we select the right database column and aggregate it. All of the columns are of type \"double\".\n\nWith async disabled, charts are loading fine.\n\nIf async is enabled, \n\n<img width=\"1014\" height=\"465\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/2653a106-9dbd-408f-a4d6-2684f62705b5\" />\n\nSuperset version: 3.0.0\n\nwe are getting \"422 UNPROCESSABLE ENTITY\", in the UI it shows as unexpected error with no specific error message string.\n\nError screenshots are similar to the ones seen in the thread \"https://github.com/apache/superset/issues/34543\"\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35225\nTitle: docs: Alerts & Reports \u2014 document tab selection + add troubleshooting checklist\nState: closed\nAuthor: Username46786\nLabels: size/M, doc\nBody:\nUpdates docs/docs/configuration/alerts-reports.mdx:\r\n- Adds a short section on selecting a specific dashboard tab for reports (ALERT_REPORT_TABS).\r\n- Adds a compact troubleshooting checklist (SMTP, dry-run, Celery/beat, headless browser, Redis, K8s/Compose).\r\n\r\nWhy: These are recurring pain points in issues/discussions; consolidating fixes + calling out the tab feature makes setup faster and reduces support load.\r\n\r\nSource pages & threads:\r\n- Alerts & Reports doc: https://superset.apache.org/docs/configuration/alerts-reports/\r\n- Tab selection requests/issues (ALERT_REPORT_TABS)\r\n- SMTP/dry-run/Celery troubleshooting threads",
  "Requirement ID: ISSUE-35224\nTitle: fix(Mixed Chart): Tooltip incorrectly displays numbers with optional Y-axis format and showQueryIdentifiers set to true\nState: closed\nAuthor: SBIN2010\nLabels: size/S, plugins, v6.0, viz:charts:mixed\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\nThis PR fix #34030\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nAfter enabling the showQueryIdentifiers flag, the modified name is added only to the series.\r\n\r\nThe formation of primarySeries and secondarySeries\r\nused in the tooltip is moved after the formation of transformedSeries.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\nBEFORE\r\n<img width=\"1477\" height=\"1288\" alt=\"\u0421\u043d\u0438\u043c\u043e\u043a \u044d\u043a\u0440\u0430\u043d\u0430 \u043e\u0442 2025-09-21 00-30-27\" src=\"https://github.com/user-attachments/assets/faf9638e-bd55-4df5-ac8e-f82e1db8ace5\" />\r\n\r\nAFTER\r\n<img width=\"1477\" height=\"1288\" alt=\"\u0421\u043d\u0438\u043c\u043e\u043a \u044d\u043a\u0440\u0430\u043d\u0430 \u043e\u0442 2025-09-21 00-29-58\" src=\"https://github.com/user-attachments/assets/9d127555-669f-4483-8571-f428530408c6\" />\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35223\nTitle: chore(effect): add eslint plugin to reduce rerenders\nState: closed\nAuthor: msyavuz\nLabels: size/S, change:frontend, dependencies:npm, packages\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nuseEffect is widely used in the frontend of superset.\r\nhttps://react.dev/learn/you-might-not-need-an-effect#\r\n\r\nThere is an eslint plugin for catching these: \r\nhttps://github.com/NickvanDyke/eslint-plugin-react-you-might-not-need-an-effect\r\n\r\nPR also includes a sample performance improvement for select component that gets rid of useEffects that are used for derived state. https://react.dev/learn/you-might-not-need-an-effect#updating-state-based-on-props-or-state\r\n\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35222\nTitle: refactor(Notification): use Ant Design notifications for toasts\nState: open\nAuthor: msyavuz\nLabels: size/XL, change:frontend, packages\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nReplace the toast implementation with Ant Design notifications.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\nBefore:\r\n<img width=\"349\" height=\"228\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4f94142b-9612-4b7c-ae27-0ecfb6de36c5\" />\r\n\r\nAfter:\r\n<img width=\"455\" height=\"112\" alt=\"image\" src=\"https://github.com/user-attachments/assets/29774c72-e667-48a1-ae86-978910c933b3\" />\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\nVisual testing\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35221\nTitle: API Limitation: Cannot programmatically populate METRIC field in chart creation\nState: closed\nAuthor: Amen-Zelealem\nLabels: api:charts, api\nBody:\n### Bug description\n\n## \ud83d\udc1b Bug Report\n\n### **Summary**\nThe Superset API does not support programmatically populating the METRIC field when creating charts, requiring manual drag-and-drop interaction even when metrics are properly defined in the chart payload.\n\n### **Expected Behavior**\nWhen creating a chart via the API with a properly formatted metrics array in the `params` field, the METRIC field should be automatically populated in the Superset UI, eliminating the need for manual drag-and-drop configuration.\n\n### **Actual Behavior**\nThe METRIC field remains empty in the Superset UI even when the chart payload includes correctly formatted metrics. Users must manually drag metrics from the left panel to the METRIC field, which defeats the purpose of programmatic chart creation.\n\n### **Steps to Reproduce**\n\n1. **Create a dataset** via API:\n   ```bash\n   POST /api/v1/dataset/\n   {\n     \"database\": 1,\n     \"table_name\": \"test_table\",\n     \"schema\": \"public\"\n   }\n   ```\n\n2. **Create a chart** with metrics in the payload:\n   ```bash\n   POST /api/v1/chart/\n   {\n     \"slice_name\": \"Test Chart\",\n     \"viz_type\": \"pie\",\n     \"datasource_id\": 123,\n     \"datasource_type\": \"table\",\n     \"params\": \"{\\\"groupby\\\": [\\\"status\\\"], \\\"metrics\\\": [\\\"COUNT(*)\\\"]}\"\n   }\n   ```\n\n3. **Open the chart** in Superset UI\n4. **Observe** that the METRIC field is empty despite `COUNT(*)` being available in the left panel\n\n### **Environment**\n- **Superset Version**: Version: 4.1.2\n- **Python Version**: 3.12\n- **Database**: PostgreSQL\n- **Browser**: Chrome\n\n### **Additional Context**\n\n#### **What Works:**\n\u2705 Dataset creation via API  \n\u2705 Chart creation via API  \n\u2705 Dimension/groupby configuration  \n\u2705 Chart styling and customization  \n\u2705 All other chart properties  \n\n#### **What Doesn't Work:**\n\u274c Automatic METRIC field population  \n\u274c Programmatic metric configuration  \n\n#### **Attempted Solutions:**\n1. **Simple string format**: `[\"COUNT(*)\"]`\n2. **Object format**: `[{\"label\": \"COUNT(*)\", \"expressionType\": \"SIMPLE\", \"sqlExpression\": \"COUNT(*)\"}]`\n3. **Extended object format**: `[{\"label\": \"COUNT(*)\", \"expressionType\": \"SIMPLE\", \"sqlExpression\": \"COUNT(*)\", \"id\": \"COUNT(*)\", \"metric_name\": \"COUNT(*)\"}]`\n4. **Metric endpoints**: All `/metric/`, `/metrics/`, `/metric` endpoints return 404\n5. **Immediate metric addition**: Tried adding metrics right after dataset creation\n\n#### **Impact:**\nThis limitation significantly reduces the value of Superset's API for automated dashboard creation workflows. Users must manually configure metrics for every chart, making it impossible to fully automate dashboard generation.\n\n#### **Proposed Solution:**\nThe API should accept and properly process metrics in the chart creation payload, automatically populating the METRIC field in the UI. This would enable true programmatic chart creation without manual intervention.\n\n\n---\n\n**Note**: This issue affects the core functionality of programmatic chart creation and should be prioritized for the next release.\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35220\nTitle: feat(theming): add base theme config\nState: closed\nAuthor: gabotorresruiz\nLabels: size/XXL, change:frontend, global:theming, packages\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nThis PR implements a base theme configuration system that provides consistent foundation themes across the application. This change introduces `THEME_DEFAULT` and `THEME_DARK` as complete base themes that serve as the foundation for all theme customization, ensuring consistent theming while maintaining flexibility.\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n1. **Test base theme configuration**:\r\n     - Start Superset with the default configuration\r\n     - Verify the base themes are applied correctly (check colorPrimary, borders, etc.)\r\n     - Toggle between light/dark/system modes\r\n     - Confirm mode persistence after page reload\r\n\r\n  2. **Test with custom theme tokens**:\r\n     - Modify `THEME_DEFAULT` in `config.py`:\r\n       ```python\r\n       THEME_DEFAULT = {\r\n           \"token\": {\r\n               \"colorPrimary\": \"#ff0000\",\r\n               \"borderRadius\": 8,\r\n               # ... other custom tokens\r\n           }\r\n       }\r\n       THEME_DARK = {\r\n           **THEME_DEFAULT,\r\n           \"algorithm\": \"dark\"\r\n       }\r\n       ```\r\n     - Restart and verify custom tokens are applied\r\n\r\n  3. **Test UI theme administration**:\r\n     - Navigate to Settings > Themes\r\n     - Create custom themes and set as system default/dark\r\n     - Verify database themes properly overlay on base configuration\r\n     - Test \"Remove as system theme\"\r\n     - Restart and verify, should fallback to config themes\r\n\r\n  4. **Test confirmation modals theming**:\r\n     - In the Themes list, click \"Set as system default theme\" on any theme\r\n     - Verify the confirmation modal follows current theme colors\r\n     - Test in both light and dark modes\r\n     - Confirm modal buttons and styling inherit properly\r\n\r\n  5. **Test dashboard-specific themes**:\r\n     - Apply a theme to a dashboard using the bolt button\r\n     - Verify dashboard theme properly merges with base theme\r\n     - Navigate between dashboards to confirm proper theme switching\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35219\nTitle: fix: defensive code to avoid accesing attribute of a NoneType object\nState: closed\nAuthor: gabotorresruiz\nLabels: size/XS, api, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nFixed a bug in the dashboard thumbnail API (`/api/v1/dashboard/{id}/thumbnail/{digest}/`) that was causing `AttributeError: 'NoneType' object has no attribute 'read'` errors. The issue occurred when the thumbnail cache contained corrupted or invalid image data that resulted in a None object being passed to `FileWrapper`.\r\n\r\nAdded defensive validation to check if the image object exists and has the required `read` attribute before passing it to `FileWrapper`. If the image is invalid, the API now returns a proper `404` response instead of crashing\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [x] Has associated issue: Fixes thumbnail API crashes with corrupted cache\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35218\nTitle: fix: dashboard filter regress\nState: open\nAuthor: SBIN2010\nLabels: size/M, dashboard:filterbox, packages\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\nThis Pr fix #28174\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nWhen adding a new value to a filter, cleanup occurs periodically when the component is unmounted.\r\nThis PR fixes this.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35217\nTitle: feat(docs): Populate Developer Portal with comprehensive documentation framework\nState: closed\nAuthor: rusackas\nLabels: size/XXL, doc:developer, preset-io, doc\nBody:\n## SUMMARY\n\nThis PR launches the Superset Developer Portal - a dedicated documentation section for contributors and developers working with Apache Superset. The Developer Portal consolidates and reorganizes existing developer documentation while adding substantial new content.\n\n## Major Additions\n\n### \ud83d\ude80 **Developer Portal Infrastructure**\n- New documentation section at `/developer_portal/` with dedicated navigation and sidebar\n- Enabled in `versions-config.json` and configured in Docusaurus\n- Separate versioning system for developer-focused documentation\n\n### \ud83d\udcda **Extensions Documentation** (14 comprehensive pages)\n- **Architecture**: Architectural principles, high-level architecture\n- **Structure**: Extension project structure, metadata configuration  \n- **Frontend**: Contribution types, host interaction patterns\n- **Deployment**: Dynamic module loading, deployment strategies\n- **Management**: Lifecycle management, development mode, versioning\n- **Security**: Security implications and best practices\n- **POC**: Proof of concept implementation\n\n### \ud83e\uddea **Testing Documentation** (5 pages)\n- Testing overview and strategy\n- Frontend testing with Jest and React Testing Library\n- Backend testing with pytest\n- E2E testing migration from Cypress to Playwright\n- CI/CD pipeline documentation\n\n### \ud83d\udcd6 **Contributing Guide** (9 pages)\n- Complete migration of contributing docs from main documentation\n- Development setup and environment configuration\n- Submitting PRs and code review process\n- Issue reporting guidelines\n- How-to guides for common tasks\n- Release process documentation\n- Additional resources\n\n### \ud83c\udfa8 **Style Guidelines** (Reorganized)\n- Design guidelines\n- Frontend style guidelines with sub-sections:\n  - Component style guidelines\n  - Emotion styling guidelines  \n  - Testing guidelines and best practices\n- Backend style guidelines with DAO patterns\n\n### \ud83e\udd16 **LLM Context Files**\n- Added `CLAUDE.md` with comprehensive codebase context for AI assistants\n- Includes critical ongoing refactors, architecture patterns, and best practices\n- Documents testing utilities, environment validation, and PR guidelines\n\n## BEFORE/AFTER\n\n**Before:**\n- Developer documentation scattered across main docs\n- No dedicated section for contributors\n- Limited extension documentation\n- Inconsistent organization of style guidelines\n\n**After:**\n- Centralized Developer Portal with clear navigation\n- Comprehensive extensions documentation based on SIP-11\n- Well-organized contributing guide\n- Restructured guidelines under Contributing section\n- Improved sidebar organization with reduced nesting\n\n## TESTING INSTRUCTIONS\n\n1. Run the documentation locally:\n```bash\ncd docs\nyarn install\nyarn build\nyarn serve\n```\n\n2. Navigate to the Developer Portal section\n3. Verify all documentation pages load correctly\n4. Check that navigation and sidebar work as expected\n5. Confirm no broken links or build errors\n\n## Build Validation\n\n\u2705 `yarn build` completes successfully without errors\n\u2705 `yarn serve` runs without issues\n\u2705 All pre-commit hooks pass\n\u2705 Sidebar navigation properly organized\n\n## ADDITIONAL INFORMATION\n\nThis PR represents a significant improvement to Superset's developer documentation, making it easier for new contributors to get started and for experienced developers to find the information they need. The Developer Portal will serve as the foundation for future developer-focused documentation.\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>",
  "Requirement ID: ISSUE-35216\nTitle: fix(SQL Lab): syncTable on new tabs\nState: closed\nAuthor: betodealmeida\nLabels: sqllab, size/M, preset-io, review:draft, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nAfter https://github.com/apache/superset/pull/34720 the `syncTable` calls to `/tableschemaview/` fails on new tabes because it passes the old `queryEditorId` (a random string) instead of the integer ID.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [X] Has associated issue: Fixes #34997\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35215\nTitle: fix(PropertiesModal): do not show validation errors while loading\nState: closed\nAuthor: msyavuz\nLabels: size/L, change:frontend, dashboard:properties\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nDashboard properties modal was showing validation errors when in a loading state. This pr fixes that.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\nBefore:\r\n\r\nhttps://github.com/user-attachments/assets/95fec6a6-cb7f-483d-a4b9-4c6565947ec7\r\n\r\nAfter:\r\n\r\nhttps://github.com/user-attachments/assets/6ea06a81-42f3-43d1-afba-267071e82794\r\n\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\nVisual testing\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35214\nTitle: chore: Reference GenericDataType from @apache-superset/core\nState: closed\nAuthor: michael-s-molina\nLabels: size/L, change:frontend, plugins, packages\nBody:\n### SUMMARY\r\nThis PR migrates `GenericDataType` imports from `@superset-ui/core` to `@apache-superset/core` across the frontend codebase, updating numerous chart plugins, controls, and components to use the new package location.\r\n\r\n### TESTING INSTRUCTIONS\r\nCI should be sufficient.\r\n\r\n### ADDITIONAL INFORMATION\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35213\nTitle: fix(BuilderComponentPane): navigation tabs padding\nState: closed\nAuthor: msyavuz\nLabels: size/L, change:frontend, dashboard:editmode, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nFix the padding on tabs in dashboard edit mode.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\nBefore:\r\n<img width=\"407\" height=\"910\" alt=\"image\" src=\"https://github.com/user-attachments/assets/44875590-9b43-4d81-8c0c-68170632b658\" />\r\n\r\nAfter:\r\n<img width=\"407\" height=\"910\" alt=\"image\" src=\"https://github.com/user-attachments/assets/3f5ed822-e428-4b14-b47a-1b6d400645e2\" />\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\nVisual testing\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35212\nTitle: fix(SQLPopover): Use correct component\nState: closed\nAuthor: msyavuz\nLabels: size/S, change:frontend, packages, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nIn dark mode SQL popover colors were not updating, using the SQLEditor in the SQLPopover component fixes it.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\nBefore:\r\n<img width=\"600\" height=\"242\" alt=\"image\" src=\"https://github.com/user-attachments/assets/073a9ff8-dd6c-4ffb-830d-bb553fa16c12\" />\r\n<img width=\"618\" height=\"399\" alt=\"image\" src=\"https://github.com/user-attachments/assets/0121aff7-26ae-4c7c-adfd-336e6e16bdea\" />\r\n\r\nAfter:\r\n<img width=\"589\" height=\"253\" alt=\"image\" src=\"https://github.com/user-attachments/assets/bfab2e99-fd8d-4209-9992-0bf804934664\" />\r\n<img width=\"628\" height=\"179\" alt=\"image\" src=\"https://github.com/user-attachments/assets/2e1eb704-8e64-4d71-ac26-f004a572186f\" />\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\nVisual testing\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35211\nTitle: fix(table-chart): fix cell bar visibility in dark theme\nState: closed\nAuthor: LevisNgigi\nLabels: size/S, viz:charts:table, plugins, v6.0\nBody:\n### SUMMARY\r\nfix(table-chart): fix cell bar visibility in dark theme. Cell bars were not visible in dark theme.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n\r\nBEFORE\r\n<img width=\"982\" height=\"703\" alt=\"Table_before\" src=\"https://github.com/user-attachments/assets/7e4226a4-4e65-42b3-9483-da9e3da285aa\" />\r\n\r\nAFTER\r\n\r\n<img width=\"973\" height=\"658\" alt=\"Table_after\" src=\"https://github.com/user-attachments/assets/33187cfb-7e29-4d6a-a1fe-e7f1e176ca35\" />\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ x] Has associated issue: Fixes #35145\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35209\nTitle: Zen 138\nState: closed\nAuthor: MarkTFKOP\nLabels: i18n, risk:db-migration, i18n:spanish, i18n:italian, i18n:french, i18n:chinese, i18n:japanese, i18n:russian, i18n:korean, api, doc, plugins, dependencies:npm, github_actions, packages, i18n:dutch, i18n:slovak, i18n:ukrainian, i18n:portuguese, i18n:brazilian, i18n:traditional-chinese\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35208\nTitle: fix(view-query): Add ownState parameter to ViewQueryModal for query consistency\nState: open\nAuthor: marunrun\nLabels: size/S, change:frontend\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nBackend search and backend sorting have been added in the new version,But the view Query and export are not applied correctly.\r\n\r\nI only modified the View Query, and I'm not sure if the export needs to be modified.\r\n\r\n\r\n- Modified ViewQueryModal to accept and use ownState parameter\r\n- Updated useExploreAdditionalActionsMenu to pass ownState to ViewQueryModal\r\n- Fixed query parameter mismatch between View Query display and actual execution\r\n- Ensures View Query shows correct query statements matching TableChart search behavior\r\n\r\n\r\n\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\nChart Explore\r\n\r\nhttps://github.com/user-attachments/assets/81cd0b2d-82bd-45bb-a62f-9e4a61ddddc9\r\n\r\nhttps://github.com/user-attachments/assets/4b680759-f3b4-4f4c-bfdf-ae8f8070da16\r\n\r\n----\r\nDashboard\r\n\r\nhttps://github.com/user-attachments/assets/8021039e-84a2-47d1-9668-57b1781a9f59\r\n\r\n\r\nhttps://github.com/user-attachments/assets/9dff6c34-fcba-454d-bb9d-96d0ed87de0e\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [x] Has associated issue: Fixes #35300\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35207\nTitle: [6.0.0rc1] SQL Lab not showing results after tab switch\nState: closed\nAuthor: schwebke\nLabels: validation:required, sqllab:query:history\nBody:\n### Bug description\n\n1. Open SQL Lab\n2. Use two or more tabs\n3. perform a query -- without switching tabs results are shown\n4. switch to other tab and run query\n\nObserved:\n5. no results shown\n<img width=\"1813\" height=\"699\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/eaea8be9-c1e5-427e-916d-0284adf5b6c5\" />\n\nExpected:\nresults are shown\n\nWorkaround:\nreload, re-run query\n\n<img width=\"1801\" height=\"691\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/ccb7d3c9-bfc3-479b-b667-df9da4ba2dde\" />\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\nbased on official docker image with add. db drivers (duckdb)\n\n### Checklist\n\n- [ ] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [ ] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35204\nTitle: fix(table): conditionally render search dropdown only when search input is enabled\nState: open\nAuthor: marunrun\nLabels: size/XS, change:frontend, plugins\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n- Add searchInput condition to SearchSelectDropdown rendering in DataTable\r\n- Prevents search dropdown from appearing when search functionality is disabled\r\n- Fixes UI inconsistency where search controls were shown without search input capability\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\nBefore\r\n\r\n[before.mp4](https://github.com/user-attachments/assets/34f1747e-4be5-4f3c-962a-3c74069ba036)\r\n\r\nAfter\r\n\r\n[after.mp4](https://github.com/user-attachments/assets/af6b3fe5-b83c-4b0d-b353-f5bc9fcf55f4)\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [X] Has associated issue: Fixes #35300\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35201\nTitle: feat: hide favorite column when no items are favorited\nState: closed\nAuthor: eschutho\nLabels: size/XL, change:frontend, listview:dashboards\nBody:\n## SUMMARY\nHide the favorite column in chart and dashboard list views when none of the items on the current page have been marked as favorites. This improves the UI by removing empty, non-functional columns that provide no value to users.\n\nThe implementation adds a memoized helper that checks if any items on the page are favorited, and conditionally hides the favorite column when no favorites exist.\n\n## BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\n**Before**: Empty favorite column shows when user is logged in but no items are favorited\n**After**: Favorite column is completely hidden when no items on the page have favorites\n\n## TESTING INSTRUCTIONS\n1. Start the development environment\n2. Navigate to Charts page (`/chart/list/`)\n3. Ensure you're logged in as a user with chart access\n4. Verify that when no charts are marked as favorites, the favorite column is hidden\n5. Add at least one chart to favorites and verify the column appears\n6. Test the same behavior on the Dashboards page (`/dashboard/list/`)\n\n## ADDITIONAL INFORMATION\n- [x] Changes UI\n- [x] Has been tested locally\n- [x] No breaking changes\n- [x] Follows existing code patterns\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)",
  "Requirement ID: ISSUE-35200\nTitle: docs: Add instruction to avoid time-specific language in code comments\nState: closed\nAuthor: eschutho\nLabels: size/XS, doc\nBody:\n### SUMMARY\nAdded guidance to LLM documentation (LLMS.md) instructing AI assistants to avoid using time-specific words like \"now\", \"currently\", and \"today\" in code comments, as these become outdated over time. Comments should be written to remain accurate regardless of when they're read.\n\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\nN/A - Documentation change only\n\n### TESTING INSTRUCTIONS\n1. Review the updated LLMS.md file\n2. Verify the new \"Code Comments\" section appears under \"Code Standards\"\n3. Confirm the guidance is clear and actionable for LLM tools\n\n### ADDITIONAL INFORMATION\n- [ ] Has associated issue: No\n- [ ] Required feature flags: N/A\n- [ ] Changes UI: No\n- [ ] Includes DB Migration: No\n- [ ] Introduces new feature or API: No\n- [ ] Removes existing feature or API: No\n\nThis is a documentation improvement to help maintain code quality when using LLM assistants for development.\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)",
  "Requirement ID: ISSUE-35199\nTitle: fix(dashboard): update header border to use colorBorder token\nState: closed\nAuthor: eschutho\nLabels: size/XS, change:frontend, dashboard:css, v6.0\nBody:\n### SUMMARY\nThis PR updates the dashboard header border color to use the correct theming token `colorBorder` instead of `colorSplit`. This change ensures better consistency with the Ant Design theming system and improves visual cohesion across different theme modes.\n\nThe `colorBorder` token is the standard token for borders in Ant Design v5, while `colorSplit` is deprecated/less commonly used. This aligns with the ongoing frontend modernization efforts to properly use Ant Design theming tokens.\n\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\n**Before:** Dashboard header uses `colorSplit` for border\n**After:** Dashboard header uses `colorBorder` for border\n\nThis is a subtle visual change that primarily affects theme consistency, particularly noticeable in dark mode where border colors have different values.\n\n### TESTING INSTRUCTIONS\n1. Navigate to any dashboard at `/dashboard/list/`\n2. Open a dashboard\n3. Observe the header border color (the line separating the header from the dashboard content)\n4. Toggle between light and dark modes using the theme toggle button (paint roller icon in the header)\n5. Verify that the border color properly matches the theme's border color token\n\n### ADDITIONAL INFORMATION\n- [x] Changes UI\n- This change is part of the ongoing effort to standardize theming token usage across the application\n- Follows the guidance in CLAUDE.md to prefer antd tokens over legacy theming tokens\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)",
  "Requirement ID: ISSUE-35198\nTitle: fix(modals): use Modal.useModal hook for proper dark mode theming\nState: closed\nAuthor: eschutho\nLabels: size/XL, change:frontend, preset-io, global:theming\nBody:\n## Summary\n\nFixes dark mode theming issues in modal confirmation dialogs by replacing `Modal.confirm()` with the `Modal.useModal()` hook approach.\n\n## Problem\n\n`Modal.confirm()` bypasses the theme provider context by rendering directly to `document.body`. This causes confirmation modals to appear with default Ant Design styling instead of the current theme styling, breaking the user experience in dark mode.\n\n## Solution\n\n- **Replace Modal.confirm() with modal.confirm()**: Use the modal instance from `useModal` hook instead of static method\n- **Add contextHolder to JSX**: Render modals within the component tree to inherit theme context  \n- **Applied to multiple components**: Fixed ThemeList and EmbeddedModal components\n- **Add comprehensive tests**: Verify proper hook usage and prevent regressions\n\n## Technical Details\n\n**Before**: Modals rendered directly to body, bypassing theme context:\n```javascript\nModal.confirm({ ... }); // \u274c Renders to document.body, no theme context\n```\n\n**After**: Modals rendered within component tree with theme context:\n```javascript\nconst [modal, contextHolder] = Modal.useModal();\nmodal.confirm({ ... }); // \u2705 Renders within component tree with theme context\nreturn <>{contextHolder}...</>;\n```\n\n## Test Plan\n\n- [x] All existing component tests pass\n- [x] New tests verify `Modal.useModal` hook usage instead of direct `Modal.confirm`\n- [x] Tests confirm modal interactions work without DOM errors  \n- [x] Tests verify contextHolder is properly rendered for theming\n- [x] TypeScript compilation successful\n- [x] Pre-commit hooks pass (ESLint, type checking)\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)",
  "Requirement ID: ISSUE-35197\nTitle: oracledb sql error\nState: closed\nAuthor: erdemcer\nLabels: data:connect:oracle\nBody:\n### Bug description\n\nHi,\nI have installed superset 5 via docker compose . Installed cx_Oracle last version and Oracle instant_client . For Oracle database 11g sqllab gives folling error :\n \noracle error: ORA-00933: SQL command not properly ended\n\nThis error does not occur on db which is  19c. Problem is coming from following sql \n\nSELECT\n  1 AS col1\nFROM dual\nFETCH FIRST 11 ROWS ONLY\n\n\"FETCH FIRST 11 ROWS ONLY\" clause is not valid under version Oracle 12.  Is there any workaround in order to execute sql on superset 5 on Oracle db 11g.\n\nThanks.\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\n5.0.0\n\n### Python version\n\n3.11\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35196\nTitle: refactor(frontend): migrate 5 core JavaScript files to TypeScript\nState: open\nAuthor: msyavuz\nLabels: size/XL, change:frontend, frontend:refactor\nBody:\n## Summary\n\nThis PR migrates 5 core JavaScript files to TypeScript as part of the ongoing JS-to-TS migration effort.\n\n### Migrated Files:\n- `src/utils/common.js` \u2192 `src/utils/common.ts`\n- `src/utils/reducerUtils.js` \u2192 `src/utils/reducerUtils.ts`\n- `src/middleware/loggerMiddleware.js` \u2192 `src/middleware/loggerMiddleware.ts`\n- `src/explore/store.js` \u2192 `src/explore/store.ts`\n- `src/dashboard/util/newComponentFactory.js` \u2192 `src/dashboard/util/newComponentFactory.ts`\n\n## Testing Instructions\n\n1. Run the frontend build to ensure TypeScript compilation succeeds:\n   ```bash\n   npm run build\n   ```\n\n2. Run the existing tests:\n   ```bash\n   npm run test\n   ```\n\n3. Verify the application still works:\n   - Navigate to Explore view and create/edit charts\n   - Check dashboard functionality\n   - Verify logging middleware is working\n\n## Additional Information\n\n### TypeScript Improvements:\n- Added comprehensive type definitions and interfaces\n- No `any` types used - follows Superset TypeScript conventions\n- Maintains full backward compatibility\n- All existing imports continue to work without modification\n\n### Pre-commit Validation:\n- \u2705 ESLint passes\n- \u2705 Prettier formatting applied\n- \u2705 TypeScript compiler checks pass\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)",
  "Requirement ID: ISSUE-35195\nTitle: chore(matrixify): Remove leftover option\nState: closed\nAuthor: msyavuz\nLabels: size/XS, packages\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nAfter the [recent improvements pr](https://github.com/apache/superset/pull/35067) there was a matrixify enabled type and option leftover which were replaced by row and column toggles. It's removed in this pr.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\nMatrixify should work as before.\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35193\nTitle: chore: Bump ag grid to 34.2.0\nState: closed\nAuthor: kgabryje\nLabels: size/XS, plugins, dependencies:npm, packages\nBody:\n### SUMMARY\r\nBump ag-grid-community and ag-grid-react from version 34.0.2 to 34.2.0\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\nAG Grid table chart should work without changes\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35192\nTitle: docs: Add security warning for ENABLE_TEMPLATE_PROCESSING\nState: closed\nAuthor: sha174n\nLabels: size/S, doc\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nClarifies that enabling templates may lead to security issues, like SSTI, if misconfigured.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35191\nTitle: custom map tile failed\nState: closed\nAuthor: thuanghai\nLabels: browser:firefox\nBody:\n### Bug description\n\nI use apache superset helm charts(version 0.15.0 with superset version 5.0.0) to deploy superset in my air-gap environment.\n\nBefore I deploy superset, I have deploy my own map service using osm-tile-server successfully in air-gap environment. \n\nAnd I can see map using firefox with url 'http://<my-ip>/tile/0/0/0.png'\n\nThen, I deploy superset. I define custom value in value.yaml which is in the helm chart. My define is like below:\n```\nconfigOverrides:\n  map: |\n    DECKGL_BASE_MAP = [\n      ['tile://https://<my-ip>/tile/{z}/{x}/{y}.png', 'MyTile']\n    ]\n    from flask_cors import CORS\n    ENABLE_CORS = True\n    from  typing import Any\n    CORS_OPTIONS: dict[Any, Any] = {\n      \"origins\": [\n        \"http://<my-ip>/tile/{z}/{x}/{y}.png\",\n      ]\n    }\n    TALISMAN_CONFIG = {\n        \"content_security_policy\": {\n            \"connect-src\": [\n                \"'self'\",\n                \"https://<my-ip>/tile/{z}/{x}/{y}.png\",\n            ]\n    }\n  secret: |\n    SECRET_KEY = '...' # Here I define and with no display here\n```\nI add two 'from xxx import xxx', because the log describe they needed. Then I install with command below:\n\n```\nhelm install superset -n test -f value.yaml ./superset-0.15.0.tgz\n```\n\nWith kubectl port-forward command, I can not see anything.\n\nBut when cut the map reference like below:\n\n```\nconfigOverrides:\n  map: |\n    DECKGL_BASE_MAP = [\n      ['tile://https://<my-ip>/tile/{z}/{x}/{y}.png', 'MyTile']\n    ]\n  secret: |\n    SECRET_KEY = '...' # Here I define and with no display here\n```\nI can access superset web page, but no map to be displayed.\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\n5.0.0\n\n### Python version\n\nI don't know\n\n### Node version\n\nI don't know\n\n### Browser\n\nFirefox\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35190\nTitle: docs: Add Production Security Hardening Guide\nState: closed\nAuthor: sha174n\nLabels: size/L, doc\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nThis guide provides comprehensive best practices for securing a Superset instance in production, covering session management, SECRET_KEY security, and database connection hardening. Addresses community feedback on session security clarity.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35189\nTitle: fix(gantt-chart): fix Y-axis label visibility in dark theme\nState: closed\nAuthor: LevisNgigi\nLabels: size/XS, viz:charts:echarts, plugins, v6.0\nBody:\n### SUMMARY\r\nfix (Gantt chart): fix visibility of Y-axis labels in dark theme.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n\r\nBEFORE\r\n<img width=\"1264\" height=\"844\" alt=\"Gantt_before\" src=\"https://github.com/user-attachments/assets/e37d5d97-0cda-4f2d-aa70-f3000373b4ac\" />\r\n\r\nAFTER\r\n<img width=\"1264\" height=\"844\" alt=\"Gant_after\" src=\"https://github.com/user-attachments/assets/059bf085-5bd8-423f-a294-567d33a5acf6\" />\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ x] Has associated issue: Fixes #35149\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35187\nTitle: chore(i18n): update Chinese translations\nState: closed\nAuthor: marunrun\nLabels: i18n, size/XXL, i18n:chinese\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nTranslate Chinese with Claude code\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n1. Pull this branch and install any required dependencies for Superset.\r\n2. Start Superset in Chinese locale:\r\n```\r\nexport SUPERSET_LANG=zh\r\nsuperset run\r\n```\r\n3. Verify UI displays translations correctly.\r\n\r\n4. Optionally, check .po syntax:\r\n\r\n```\r\npybabel compile -d superset/translations\r\n```\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35186\nTitle: fix(ci): fix GHA for docs during PRs\nState: closed\nAuthor: sadpandajoe\nLabels: size/M, doc, github_actions\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nRestored the documentation CI workflow that has been broken since July 2024, implementing comprehensive fixes for GitHub Actions security compliance, TypeScript validation scope issues, and build process errors. The workflow now provides complete validation of documentation changes on every pull request.\r\n\r\n**Background**\r\n\r\nThe documentation CI workflow (.github/workflows/superset-docs-verify.yml) was failing with \"action not allowed\" errors since linkinator was added in July 2024. After fixing the initial GitHub Actions issue, deeper investigation revealed multiple systematic problems that were preventing proper documentation validation.\r\n\r\n**Problems Identified & Resolved**\r\n\r\n1. \ud83d\udea8 GitHub Actions Security Policy Violation\r\n\r\nIssue: Linkinator action referenced by tag (@v1.11.0) instead of ASF-required SHA hash\r\nImpact: Complete CI failure with \"action not allowed\" since July 2024\r\nFix: Updated to approved SHA hash: @3d5ba091319fa7b0ac14703761eebb7d100e6f6d # v1.11.0\r\n\r\n2. \ud83d\udd17 Linkinator Configuration Errors\r\n\r\nIssue: Broken glob exclusion pattern !superset-frontend/CHANGELOG.md\r\nImpact: Linkinator startup failures with \"returned 0 results\" errors\r\nFix: Removed problematic exclusion pattern, allowing proper markdown scanning\r\n\r\n3. \ud83d\udd27 TypeScript Validation Scope Creep (Major Issue)\r\n\r\nIssue: Docs yarn typecheck validating 586 superset-frontend files instead of docs code\r\nRoot Cause: Missing TypeScript path mappings for @superset-ui/core circular imports\r\nImpact: 8+ TypeScript errors from unrelated superset-frontend packages\r\n\r\nSolution Applied:\r\n```\r\n  // docs/tsconfig.json\r\n  \"paths\": {\r\n    \"@superset-ui/core\": [\"../superset-frontend/packages/superset-ui-core/src\"],\r\n    \"@superset-ui/core/*\": [\"../superset-frontend/packages/superset-ui-core/src/*\"]\r\n  }\r\n\r\n```\r\n\r\n4. \u26a1 Webpack Configuration Compatibility\r\n\r\nIssue: Property 'isDev' does not exist on type 'ConfigureWebpackUtils'\r\nCause: Docusaurus 3.8.1 API change - utils.isDev no longer available\r\nFix: Replaced with standard process.env.NODE_ENV === 'development'\r\n\r\n5. \ud83d\udcc4 Docusaurus Layout Component API Mismatch\r\n\r\nIssue: TypeScript errors on Layout props (title, description, wrapperClassName)\r\nSolution: Migrated to proper Docusaurus Head component pattern:\r\n```\r\n  // Before (broken)\r\n  <Layout title=\"Page Title\" description=\"...\" wrapperClassName=\"...\">\r\n\r\n  // After (correct)\r\n  <Layout>\r\n    <Head>\r\n      <title>Page Title</title>\r\n      <meta name=\"description\" content=\"...\" />\r\n    </Head>\r\n```\r\n\r\n6. \ud83d\udcdd Hidden MDX Syntax Validation (Discovered Post-Fix)\r\n\r\nDiscovery: After restoring CI, build revealed hidden MDX compilation errors\r\nIssue: Version comparisons <=4.0x and >=4.1.x interpreted as HTML tags\r\nFix: Converted to plain English: \"4.0.x and earlier\" / \"4.1.x and later\"\r\nSignificance: This error was masked by the broken CI -proves validation is now working\r\n\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n  1. Verify CI Pipeline: Check that docs CI workflow completes successfully\r\n  2. TypeScript Validation: Run cd docs && yarn typecheck (should show 0 errors)\r\n  3. Build Verification: Run cd docs && yarn build (should compile successfully)\r\n  4. Link Checking: Confirm linkinator scans complete without blocking errors\r\n  \r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35185\nTitle: fix(docs): escape comparison operators in MDX files to resolve build errors\nState: closed\nAuthor: sadpandajoe\nLabels: size/XS, doc\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nFixed MDX compilation errors in documentation build by escaping comparison operators (`<=`, `>=`) in version strings. The root cause was MDX interpreting these operators as JSX syntax rather than plain text, causing CI build failures.\r\n\r\n**Root Cause:** MDX parser was attempting to parse comparison operators as JSX expressions when they appeared outside of code blocks, resulting in syntax errors like \"Unexpected character `=` (U+003D) before name\".\r\n\r\n**Solution:** Wrapped version strings containing comparison operators in backticks to treat them as inline code, preventing MDX from attempting JSX parsing.\r\n\r\n  **Files affected:**\r\n  - `docs/docs/configuration/alerts-reports.mdx` - Fixed `<=4.0.x` and `>=4.1.x`\r\n  - `docs/docs/configuration/theming.mdx` - Fixed `apache-superset>=6.0`\r\n  - `docs/docs/contributing/guidelines.mdx` - Fixed `>=30 days`\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n  1. Run documentation build: `cd docs && yarn build`\r\n  2. Verify build completes without MDX compilation errors\r\n  3. Check that version strings display correctly as inline code in the rendered documentation\r\n\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35184\nTitle: fix: only block showtime for unauthorized users on push\nState: closed\nAuthor: mistercrunch\nLabels: size/S, github_actions\nBody:\nThe workflow was incorrectly blocking authorized maintainers from auto-deploying on push events. Now it only sets the blocked label when:\r\n- User is unauthorized (non-maintainer)\r\n- It's a synchronize (push) event\r\n- PR has active showtime labels\r\n\r\nThis allows maintainers to push and auto-deploy while preventing unauthorized users from triggering deployments through pushes.",
  "Requirement ID: ISSUE-35182\nTitle: Handlebars custom charts no longer render HTML (escaped by sanitizer) in Superset 5.0/6.0 (regression from 4.1.2)\nState: closed\nAuthor: alx25\nLabels: validation:required, global:jinja\nBody:\n### Bug description\n\nAfter upgrading from Superset 4.1.2 to 5.0 and now 6.0, my Handlebars-based custom charts stopped rendering HTML. The template output is being HTML-escaped by the frontend sanitizer (e.g., <ul>, <li>, quotes) so the chart shows raw text instead of rendered elements. In 4.1.2 this template rendered correctly.\n\nSteps to Reproduce\n\n1. Create a simple dataset.\n2. Add a Handlebars chart and set the template and CSS:\n\n```\n<ul class=\"data-list\">\n  {{#each data}}\n    <li>{{stringify this}}</li>\n  {{/each}}\n</ul>\n```\nCSS:\n`.data-list { background-color: yellow; }\n`\nExpected Behavior\n\nThe template should render valid HTML (a yellow list with <li> items) as it did in Superset 4.1.2.\n\nActual Behavior\n\nIn 5.0 and 6.0, the output appears escaped (e.g., &lt;ul class=&quot;data-list&quot;&gt; ...) and is displayed as plain text. CSS is not applied because the markup never becomes DOM elements.\n\n### Screenshots/recordings\n\n- Superset 4.1.2 (works): Handlebars output renders as a styled <ul> list (yellow background) with each row serialized into <li> items.\n\n<img width=\"1022\" height=\"771\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/3039b932-0d5d-412a-b8f9-588da02a6e7e\" />\n\n- Superset 6.0 (broken): The same output is escaped and shown as a long text line with &lt;ul&gt;, &lt;li&gt;, and &quot; entities; CSS has no effect.\n\n<img width=\"2197\" height=\"667\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/408a69df-a0c4-4e44-a2f0-16caa2407673\" />\n\n### Superset version\n\n5.0.0\n\n### Python version\n\n3.11\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\nInstall: pip in a Python venv\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35181\nTitle: fix(tests): migrate Cypress control tests to React Testing Library\nState: closed\nAuthor: sadpandajoe\nLabels: size/XXL, explore:control, merge-if-green\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nReplaces problematic Cypress e2e tests in control.test.ts that were causing browser crashes with stable, fast React Testing Library component tests.\r\n\r\n**\ud83d\udd25 Problem Solved**\r\n\r\nThe Cypress test file cypress-base/cypress/e2e/explore/control.test.ts was causing browser crashes and CI instability while testing component-level functionality that can be validated at lower test layers.\r\n\r\n**\ud83d\udccb Test Migration Coverage**\r\n\r\n\u274c Deleted Cypress Tests\r\n\r\nFile: superset-frontend/cypress-base/cypress/e2e/explore/control.test.ts\r\n\r\n\u2705 Replaced With RTL Tests\r\n\r\nCypress test \"Datasource control - should allow edit dataset\"\r\n  - DatasourceControl.test.tsx - should allow creating new metrics in dataset editor\r\n  - DatasourceControl.test.tsx - should allow deleting metrics in dataset editor\r\n  - DatasourceControl.test.tsx - should handle metric save confirmation modal\r\n  - DatasourceControl.test.tsx - should support metric creation workflow and callback integration\r\n  - DatasourceControl.test.tsx - should verify real DatasourceControl callback fires on save\r\n\r\n  Cypress test \"Color scheme control - should show color options with and without tooltips\"\r\n  - ColorSchemeControl.test.tsx - should show tooltip on hover when text overflows\r\n  - ColorSchemeControl.test.tsx - should handle tooltip content verification for color schemes\r\n  - ColorSchemeControl.test.tsx - should support search functionality for color schemes\r\n  - ColorSchemeControl.test.tsx - should NOT show tooltip for search results (original Cypress contract)\r\n\r\n  Cypress test \"VizType control - Can change vizType\"\r\n  - Already covered by existing VizTypeControl.test.tsx tests\r\n\r\n  Cypress test \"Test datatable - Data Pane opens and loads results\"\r\n  - Already covered by existing DataTablesPane.test.tsx tests\r\n\r\n  Cypress test \"Test datatable - Datapane loads view samples\"\r\n  - Already covered by existing SamplesPane.test.tsx tests\r\n\r\n  Cypress test \"Groupby control - Set groupby\"\r\n  - DndColumnSelect.test.tsx - should verify onChange callback integration (core regression protection)\r\n  - DndColumnSelect.test.tsx - should render column selection interface elements\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35180\nTitle: feat(TimeTable): add other sparkline type options\nState: closed\nAuthor: msyavuz\nLabels: size/M, viz:charts:timetable\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\n`xychart` from `visx` supports area and bar charts in addition to line charts. This pr aims to add that option to TimeSeries table visualization.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n<img width=\"1079\" height=\"805\" alt=\"image\" src=\"https://github.com/user-attachments/assets/30fdb066-785a-4119-8dde-7354e28be80d\" />\r\n\r\n<img width=\"1308\" height=\"750\" alt=\"image\" src=\"https://github.com/user-attachments/assets/3a924c76-e498-431e-969d-766e07191cf0\" />\r\n\r\n<img width=\"1258\" height=\"692\" alt=\"image\" src=\"https://github.com/user-attachments/assets/6b3376c1-40f1-455e-b24b-33a9742c5942\" />\r\n\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n1. Create a Time-series table chart and add a time series column.\r\n2. Change column type to sparkline and select chart type.\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35179\nTitle: fix: bug in tooltip timeseries chart in calculated total with annotation layer\nState: closed\nAuthor: SBIN2010\nLabels: size/M, viz:charts:timeseries, plugins, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\nThis PR fixed #31735 \r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nAnnotation layers are no longer counted towards total and percentage calculations.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\nBEFORE\r\n<img width=\"1490\" height=\"1245\" alt=\"\u0421\u043d\u0438\u043c\u043e\u043a \u044d\u043a\u0440\u0430\u043d\u0430 \u043e\u0442 2025-09-18 00-46-24\" src=\"https://github.com/user-attachments/assets/c5420425-0a72-48df-bcd5-ffa9b6f68a88\" />\r\n\r\nAFTER\r\n<img width=\"1490\" height=\"1245\" alt=\"\u0421\u043d\u0438\u043c\u043e\u043a \u044d\u043a\u0440\u0430\u043d\u0430 \u043e\u0442 2025-09-18 00-18-47\" src=\"https://github.com/user-attachments/assets/65aa419d-867d-4225-b627-667636b2e663\" />\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35177\nTitle: [6.0.0rc1] Dashboard import broken\nState: closed\nAuthor: maxfrei750\nLabels: validation:required, dashboard:import\nBody:\n### Bug description\n\n## Steps to reproduce\n- Uncertain if relevant: create a custom theme according to the [theming guide](https://superset.apache.org/docs/configuration/theming/).\n- Export a dashboard\n- Try to import it\n\n## Additional information\n- Using docker: apache/superset:6.0.0rc1\n\n## Thanks a lot for your awesome FOSS.\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.10\n\n### Node version\n\n?\n\n### Browser\n\nFirefox\n\n### Additional context\n\n## Error stack\n\n```\n2025-09-17 15:51:20,455:WARNING:superset.commands.importers.v1:Import Error: {'theme_id': ['Unknown field.']}\n2025-09-17 15:51:20,456:INFO:superset.commands.dashboard.importers.dispatcher:Command failed validation\n2025-09-17 15:51:20,456:WARNING:superset.views.error_handling:CommandException\nTraceback (most recent call last):\n  File \"/app/.venv/lib/python3.10/site-packages/flask/app.py\", line 1484, in full_dispatch_request\n    rv = self.dispatch_request()\n  File \"/app/.venv/lib/python3.10/site-packages/flask/app.py\", line 1469, in dispatch_request\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)\n  File \"/app/.venv/lib/python3.10/site-packages/flask_appbuilder/security/decorators.py\", line 109, in wraps\n    return f(self, *args, **kwargs)\n  File \"/app/superset/views/base_api.py\", line 120, in wraps\n    duration, response = time_function(f, self, *args, **kwargs)\n  File \"/app/superset/utils/core.py\", line 1409, in time_function\n    response = func(*args, **kwargs)\n  File \"/app/superset/utils/log.py\", line 304, in wrapper\n    value = f(*args, **kwargs)\n  File \"/app/superset/views/base_api.py\", line 107, in wraps\n    return f(self, *args, **kwargs)\n  File \"/app/superset/dashboards/api.py\", line 1595, in import_\n    command.run()\n  File \"/app/superset/commands/dashboard/importers/dispatcher.py\", line 57, in run\n    command.run()\n  File \"/app/superset/utils/decorators.py\", line 267, in wrapped\n    return on_error(ex)\n  File \"/app/superset/utils/decorators.py\", line 232, in on_error\n    raise ex\n  File \"/app/superset/utils/decorators.py\", line 260, in wrapped\n    result = func(*args, **kwargs)\n  File \"/app/superset/commands/importers/v1/__init__.py\", line 84, in run\n    self.validate()\n  File \"/app/superset/commands/importers/v1/__init__.py\", line 120, in validate\n    raise CommandInvalidError(\nsuperset.commands.exceptions.CommandInvalidError: Error importing dashboard\n```\n\n## superset_config.py\n\n```\n\"\"\"Superset configuration.\"\"\"\n\nimport os\n\n\nSUPERSET_DB_USER = os.getenv('SUPERSET_DB_USER', 'superset')\nSUPERSET_DB_PASSWORD = os.getenv('SUPERSET_DB_PASSWORD', 'superset')\nSUPERSET_DB_NAME = os.getenv('SUPERSET_DB_NAME', 'superset')\n\nSQLALCHEMY_DATABASE_URI = (\n    f'postgresql+psycopg2://{SUPERSET_DB_USER}:{SUPERSET_DB_PASSWORD}@superset-db:5432/{SUPERSET_DB_NAME}'\n)\n\nFEATURE_FLAGS = {\n    'ENABLE_TEMPLATE_PROCESSING': True,\n    'EXTRA_CATEGORICAL_COLOR_SCHEMES': True,\n}\n\n\nENABLE_PROXY_FIX = True\n\n\n# Theme configuration\nFAVICONS = [{'href': '/static/assets/images/favicon.ico', 'type': 'image/x-icon'}]\nAPP_NAME = 'Dashboard'\nLOGO_TARGET_PATH = '/'\nLOGO_TOOLTIP = APP_NAME\n\nEXTRA_CATEGORICAL_COLOR_SCHEMES = [\n    {\n...\n    },\n    {\n...\n    },\n]\n\nTHEME_DEFAULT = {\n    'token': {\n...\n    }\n}\n\nTHEME_DARK = {\n    'token': {\n...\n    },\n    'algorithm': 'dark',\n}\n\n```\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35176\nTitle: chore: bump sqlglot to 27.15.2\nState: closed\nAuthor: betodealmeida\nLabels: size/XS, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nFixes https://github.com/apache/superset/issues/34984.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35174\nTitle: superset helm 0.15.0 chart broken\nState: open\nAuthor: thatguyatgithub\nLabels: deploy:helm, data:connect:postgres\nBody:\n### Bug description\n\nWhen using bring your own DB, the superset-init-db k8s main job breaks under this error:\n\n```pgrading DB schema...\nLoaded your LOCAL configuration at [/app/pythonpath/superset_config.py]\n2025-09-17 12:41:33,296:ERROR:superset.app:Failed to create app\nTraceback (most recent call last):\n  File \"/app/.venv/lib/python3.10/site-packages/superset/app.py\", line 40, in create_app\n    app_initializer.init_app()\n[...]\n  File \"/app/.venv/lib/python3.10/site-packages/click/core.py\", line 1685, in invoke\n    super().invoke(ctx)\n  File \"/app/.venv/lib/python3.10/site-packages/click/core.py\", line 1434, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n  File \"/app/.venv/lib/python3.10/site-packages/click/core.py\", line 783, in invoke\n    return __callback(*args, **kwargs)\n  File \"/app/.venv/lib/python3.10/site-packages/click/decorators.py\", line 33, in new_func\n    return f(get_current_context(), *args, **kwargs)\n  File \"/app/.venv/lib/python3.10/site-packages/flask/cli.py\", line 355, in decorator\n    app = __ctx.ensure_object(ScriptInfo).load_app()\n  File \"/app/.venv/lib/python3.10/site-packages/flask/cli.py\", line 309, in load_app\n    app = locate_app(import_name, name)\n  File \"/app/.venv/lib/python3.10/site-packages/flask/cli.py\", line 238, in locate_app\n    return find_app_by_string(module, app_name)\n  File \"/app/.venv/lib/python3.10/site-packages/flask/cli.py\", line 166, in find_app_by_string\n    app = attr(*args, **kwargs)\n  File \"/app/.venv/lib/python3.10/site-packages/superset/app.py\", line 40, in create_app\n    app_initializer.init_app()\n  File \"/app/.venv/lib/python3.10/site-packages/superset/initialization/__init__.py\", line 466, in init_app\n    self.setup_db()\n  File \"/app/.venv/lib/python3.10/site-packages/superset/initialization/__init__.py\", line 662, in setup_db\n    pessimistic_connection_handling(db.engine)\n  File \"/app/.venv/lib/python3.10/site-packages/flask_sqlalchemy/__init__.py\", line 998, in engine\n    return self.get_engine()\n  File \"/app/.venv/lib/python3.10/site-packages/flask_sqlalchemy/__init__.py\", line 1017, in get_engine\n    return connector.get_engine()\n  File \"/app/.venv/lib/python3.10/site-packages/flask_sqlalchemy/__init__.py\", line 594, in get_engine\n    self._engine = rv = self._sa.create_engine(sa_url, options)\n  File \"/app/.venv/lib/python3.10/site-packages/flask_sqlalchemy/__init__.py\", line 1027, in create_engine\n    return sqlalchemy.create_engine(sa_url, **engine_opts)\n  File \"<string>\", line 2, in create_engine\n  File \"/app/.venv/lib/python3.10/site-packages/sqlalchemy/util/deprecations.py\", line 375, in warned\n    return fn(*args, **kwargs)\n  File \"/app/.venv/lib/python3.10/site-packages/sqlalchemy/engine/create.py\", line 544, in create_engine\n    dbapi = dialect_cls.dbapi(**dbapi_args)\n  File \"/app/.venv/lib/python3.10/site-packages/sqlalchemy/dialects/postgresql/psycopg2.py\", line 811, in dbapi\n    import psycopg2\nModuleNotFoundError: No module named 'psycopg2'```",
  "Requirement ID: ISSUE-35172\nTitle: Sending scheduled report via email\nState: closed\nAuthor: cvrdev\nLabels: alert-reports\nBody:\n### Bug description\n\nHello,\n\nI have configured sending a report via email in scheduler. The sending is correctly triggered but it fails always with an error (see the screenshot). I use docker installation downloaded form master branch. I use default configuration, did not change anything yet. But it seems to be some problem with browser inside of the container. I tried also to install full firefox-esr inside of container but it did not help. I have not found any solution for this issue on any web source.\n\nRegards,\n\nLud\u011bk\n\n### Screenshots/recordings\n\n<img width=\"1803\" height=\"866\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/6be7511e-ca54-47db-84eb-d9a36555d038\" />\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\nI don't know\n\n### Node version\n\nI don't know\n\n### Browser\n\nNot applicable\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35170\nTitle: fix: Bump pandas to 2.3.2\nState: closed\nAuthor: rad-pat\nLabels: size/S\nBody:\n### SUMMARY\r\nI opened PR to bump pandas to 2.1.4, but couldn't remember the reason why we could not go further, so this is just to test out which tests fail.",
  "Requirement ID: ISSUE-35169\nTitle: Incompatibility with current versions of \"marshmallow\" and \"flask_limiter\"\nState: open\nAuthor: PCore-D\nLabels: install:dependencies, v5.0\nBody:\n### Bug description\n\nAfter installing superset with Python Virtual Environment as described in official guide, superset cannot be launched due to the following errors:\n\n- superset failed to create app. TypeError: Field.__init__() got an unexpected keyword argument 'minLength'\n- no module named \"flask_limiter.wrapper\"\n\nbut changing marshmallow version as suggested in [https://github.com/apache/superset/issues/23577](url) and changing flask_limiter version in 3.5.1\n\nthe problems are solved\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\n5.0.0\n\n### Python version\n\n3.11\n\n### Node version\n\nI don't know\n\n### Browser\n\nNot applicable\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35168\nTitle: fix(embedded): resolve theme context error in Loading component\nState: closed\nAuthor: marunrun\nLabels: size/XS, change:frontend, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nMove Suspense fallback inside EmbeddedContextProviders to ensure Loading component has access to ThemeProvider context. This fixes the \"useTheme() could not find a ThemeContext\" error that occurred when Loading component was rendered outside the theme provider scope.\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\nBefore:\r\n\r\n![](https://github.com/user-attachments/assets/57cac66a-dc26-4cce-8af4-0b0d3d597bc2)\r\nAfter:\r\n![](https://github.com/user-attachments/assets/597b7e1c-e1d5-450e-a912-e6a8860b34e1)\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [x] Has associated issue: https://github.com/apache/superset/issues/35167\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35167\nTitle: \u30106.0.0\u3011EmbeddedRoute Loading Theme error\nState: closed\nAuthor: marunrun\nLabels: global:theming, embedded\nBody:\n### Bug description\n\nWhen  i using the embedded SDK, got an error.\n```\nuseTheme() could not find a ThemeContext. The <ThemeProvider/> component is likely missing from the app.\n    at useTheme (webpack-internal:///./packages/superset-ui-core/src/theme/index.tsx:61:11)\n    at Loading (webpack-internal:///./packages/superset-ui-core/src/components/Loading/index.tsx:64:65)\n```\nhttps://github.com/apache/superset/blob/dced2f8564ce65161312ee579dc47359958d4c15/superset-frontend/packages/superset-ui-core/src/components/Loading/index.tsx#L61-L71\n\nhttps://github.com/apache/superset/blob/dced2f8564ce65161312ee579dc47359958d4c15/superset-frontend/src/embedded/index.tsx#L93-L102\n\nBecause the latest Loading used useTheme.\n\nBut in embedded applications, the Loading component is used as a fallback for Suspense, but it is located outside of EmbeddedContextProviders, resulting in the inability to access the theme context.\n\n### Screenshots/recordings\n\n<img width=\"2510\" height=\"906\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/e556d7ab-64fe-4636-af5f-01a90c3d4c4d\" />\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [ ] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [ ] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35166\nTitle: Boolean fields not rendered correctly for MySQL in Superset 4.1.3\nState: open\nAuthor: sandy4597niko\nLabels: validation:required, data:connect:mysql, cares:preset\nBody:\n### Bug description\n\nI am using Superset 4.1.3 for MySQL database, and I noticed that boolean fields are not displayed correctly in the Explore/SQL Lab table preview.\n\nFor example, fields like:\n\nEnabled\n\nEmailConfirmed\n\nPhoneNumberConfirmed\n\nTwoFactorEnabled\n\nLockoutEnabled\n\nInstead of showing true / false (or 1 / 0), Superset displays them as small icons (stacked lines), making it difficult to read and interpret boolean data.\n\n### Screenshots/recordings\n\n<img width=\"1168\" height=\"108\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/23847cf1-02d2-4ce4-92aa-4b5c1f4a7f6f\" />\n\n### Superset version\n\n4.1.3\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [ ] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [ ] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35165\nTitle: feat: dao updates clean\nState: closed\nAuthor: aminghadersohi\nLabels: size/XXL\nBody:\nsee if this PR can pass CI cleanly https://github.com/apache/superset/pull/35018",
  "Requirement ID: ISSUE-35164\nTitle: feat: Add BaseDAO [ Dupe ] \nState: closed\nAuthor: aminghadersohi\nLabels: size/XXL\nBody:\nref: https://github.com/apache/superset/pull/35018\r\n\r\njust checking if ci will be ok if its a fresh branch",
  "Requirement ID: ISSUE-35163\nTitle: feat(mcp): PR1 - Add MCP service scaffold for Apache Superset\nState: open\nAuthor: aminghadersohi\nLabels: size/XXL, hold:sip!\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nThis PR introduces the basic scaffold for the Superset MCP (Model Context Protocol) service, enabling AI agents to interact programmatically with Apache Superset.\r\n\r\nPR #2: https://github.com/aminghadersohi/superset/pull/6\r\n\r\n**Rationale:**\r\nBreaking this into smaller PRs makes it easier for reviewers to evaluate the changes incrementally rather than reviewing a large implementation all at once.\r\n\r\n**What's Included:**\r\n- CLI command: `superset mcp run` \r\n- Basic FastMCP server using HTTP transport\r\n- Flask integration for Superset context\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<img width=\"819\" height=\"1075\" alt=\"Screenshot 2025-09-22 at 4 10 15\u202fPM\" src=\"https://github.com/user-attachments/assets/ef674e68-5e66-4cf3-8b51-301892265a38\" />\r\n\r\n\r\n<!--- Skip this if not applicable -->\r\n\r\nN/A - This PR adds backend service scaffolding only, no UI changes.\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n```\r\n# 2. Set up Python environment (Python 3.10 or 3.11 required)\r\npython3 -m venv venv\r\nsource venv/bin/activate\r\n\r\n# 3. Install dependencies\r\npip install -e .[development,fastmcp]\r\ncd superset-frontend && npm ci && npm run build && cd ..\r\n\r\n# 4. Configure Superset manually\r\n# Create superset_config.py in your current directory:\r\ncat > superset_config.py << 'EOF'\r\n# Apache Superset Configuration\r\nSECRET_KEY = '<your secret here - hint: `secrets.token_urlsafe(42)`>'\r\n\r\n# MCP Service Configuration\r\nMCP_ADMIN_USERNAME = 'admin'\r\nMCP_DEV_USERNAME = 'admin'\r\nSUPERSET_WEBSERVER_ADDRESS = 'http://localhost:9001'\r\n\r\n# WebDriver Configuration for screenshots\r\nWEBDRIVER_BASEURL = 'http://localhost:9001/'\r\nWEBDRIVER_BASEURL_USER_FRIENDLY = WEBDRIVER_BASEURL\r\n\r\n# MCP Service Connection\r\nMCP_SERVICE_HOST = os.environ.get(\"MCP_SERVICE_HOST\", \"localhost\")\r\nMCP_SERVICE_PORT = int(os.environ.get(\"MCP_SERVICE_PORT\", 5008))\r\n\r\nEOF\r\n\r\n# 5. Initialize database\r\nexport FLASK_APP=superset\r\nsuperset db upgrade\r\nsuperset init\r\n\r\n# 6. Create admin user\r\nsuperset fab create-admin \\\r\n  --username admin \\\r\n  --firstname Admin \\\r\n  --lastname Admin \\\r\n  --email admin@localhost \\\r\n  --password admin\r\n\r\n# 7. Start Superset (in one terminal)\r\nsuperset run -p 9001 --with-threads --reload --debugger\r\n\r\n# 8. Start frontend (in another terminal)\r\ncd superset-frontend && npm run dev\r\n\r\n# 9. Start MCP service (in another terminal, only if you want MCP features)\r\nsource venv/bin/activate\r\nsuperset mcp run --port 5008 --debug\r\n```\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [x] Introduces new feature or API\r\n- [ ] Removes existing feature or API\r\n\r\n**Notes:**\r\n- Foundational scaffold with minimal functionality, completely isolated from existing code\r\n- Requires `fastmcp` library (added to `requirements/development.in`)\r\n- Zero risk - no impact on existing Superset functionality",
  "Requirement ID: ISSUE-35162\nTitle: refactor: eliminate all static theme dependencies and enable true dynamic theming\nState: open\nAuthor: mistercrunch\nLabels: size/XL, plugins, packages, review:draft\nBody:\nThis comprehensive architectural transformation removes all static theme imports (supersetTheme, themeObject) across the entire codebase, replacing them with proper dynamic theme access patterns that support real-time theme switching.\r\n\r\n## What Changed\r\n\r\n**Static Exports Eliminated:**\r\n- Removed `supersetTheme` and `themeObject` exports from core theme module\r\n- Eliminated static theme dependencies across 47 files\r\n- Updated ESLint rules to reflect removed exports\r\n\r\n**Dynamic Theme Architecture:**\r\n- Functional components: Use `useTheme()` hook for reactive theme access\r\n- Class components: Use `withTheme()` HOC for theme injection\r\n- Transform functions: Access `theme` from chartProps parameter\r\n- Test infrastructure: Use `Theme.fromConfig()` for isolated testing\r\n- Singleton pattern: `DEFAULT_THEME` for efficient fallbacks\r\n\r\n**Test Architecture Cleanup:**\r\n- Removed unnecessary theme setup from 30+ test files\r\n- Eliminated legacy `dynamicTheme` cruft from logic tests\r\n- Simplified theme assertions to focus on behavior vs implementation details\r\n- Maintained theme testing only where legitimately needed\r\n\r\n**Core Infrastructure:**\r\n- ThemeController uses dynamic theme creation instead of static imports\r\n- ChartProps uses singleton DEFAULT_THEME for efficient fallbacks\r\n- Theme providers only at app root and isolated contexts (tests, storybook)\r\n\r\n## Why This Was Needed\r\n\r\nThe previous architecture had static theme imports that:\r\n- Always returned light theme values regardless of current theme mode\r\n- Broke dark mode compatibility in visualizations (fixed in previous commit)\r\n- Created performance overhead with redundant theme instance creation\r\n- Prevented real-time theme switching across components\r\n- Led to inconsistent theme access patterns\r\n\r\n## Benefits\r\n\r\n- \u2705 Perfect dark mode support - no static dependencies to break theming\r\n- \u2705 True dynamic theming - all components react to theme changes\r\n- \u2705 Clean architecture - minimal providers, consistent patterns\r\n- \u2705 Better performance - singleton pattern eliminates waste\r\n- \u2705 Future-proof - ready for theme customization and user preferences\r\n- \u2705 Developer experience - clear patterns for every context\r\n\r\nThis transformation enables the next generation of Superset theming with complete dynamic theme support and perfect dark mode compatibility.\r\n\r\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)\r\n\r\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35161\nTitle: fix: Oauth2 connection failures with postional arguments\nState: closed\nAuthor: sadpandajoe\nLabels: change:backend, size/L, authentication, review:draft\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n**\ud83d\udc1b Problem**\r\n\r\nSnowflake OAuth2 connections were failing with the error:\r\n```\r\nSnowflakeOAuth2Override.get_extra_params() takes 2 positional arguments but 3 were given\r\n```\r\nThis error occurred when attempting to connect to Snowflake databases with OAuth2 authentication enabled, preventing users from establishing database connections.\r\n\r\n**\ud83d\udd0d Root Cause**\r\n\r\nThe issue was a method signature mismatch when user agent customization was added:\r\n\r\n- Problem: `get_extra_params` methods were declared as `@staticmethod` but called as if they were instance methods\r\n- Call Pattern: `Database.get_extra()` calls `self.db_engine_spec.get_extra_params(self, source)`\r\n- Mismatch: Static methods expect (database, source) but receive (class_reference, database, source)\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\nAdded comprehensive test suite in `tests/unit_tests/models/test_core_database_methods.py`:\r\n  - Integration tests: Verify Database.get_extra() works with all 5 database engine types\r\n  - Contract tests: Ensure Database \u2194 EngineSpec interface compatibility\r\n  - Regression test: Specific test for the reported Snowflake OAuth2 scenario\r\n  - Coverage: Tests the actual production call pattern that was broken\r\n\r\n\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35160\nTitle: feat(mcp): Add core MCP service scaffolding - PR1 \nState: closed\nAuthor: aminghadersohi\nLabels: size/XXL\nBody:\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nThis PR introduces the basic scaffold for the Superset MCP (Model Context Protocol) service, enabling AI agents to interact programmatically with Apache Superset.\r\n\r\n**Rationale:**\r\nBreaking this into smaller PRs makes it easier for reviewers to evaluate the changes incrementally rather than reviewing a large implementation all at once.\r\n\r\n**What's Included:**\r\n- CLI commands: `superset mcp run` and `superset mcp setup`\r\n- Basic FastMCP server using HTTP transport\r\n- Flask integration for Superset context\r\n- Configuration setup script\r\n- Development environment support\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\nN/A - This PR adds backend service scaffolding only, no UI changes.\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n1. **Verify the MCP service can be imported without errors:**\r\n   ```bash\r\n   python -c \"import superset.mcp_service; print('\u2705 MCP service imports successfully')\"\r\n   ```\r\n   Expected output: `\u2705 MCP service imports successfully`\r\n\r\n2. **Test the CLI commands are available:**\r\n   ```bash\r\n   superset --help | grep mcp\r\n   ```\r\n   Expected output: Shows `mcp` command group\r\n\r\n3. **Run the setup command:**\r\n   ```bash\r\n   superset mcp setup\r\n   ```\r\n   Expected: Creates/updates `superset_config.py` with MCP settings\r\n\r\n4. **Test the MCP server startup (optional):**\r\n   ```bash\r\n   # Note: This requires superset to be running and fastmcp installed\r\n   superset mcp run --help\r\n   ```\r\n   Expected: Shows help for MCP server options\r\n\r\n5. **Verify no impact on existing Superset:**\r\n   ```bash\r\n   # Start Superset normally\r\n   superset run -p 8088 --with-threads --reload\r\n   # Navigate to http://localhost:8088\r\n   # Verify all existing functionality works as expected\r\n   ```\r\n\r\n6. **Run pre-commit checks:**\r\n   ```bash\r\n   pre-commit run --all-files\r\n   ```\r\n   All checks should pass (mypy, ruff, pylint)\r\n\r\n7. **Test Node.js proxy (if Node.js available):**\r\n   ```bash\r\n   cd superset/mcp_service\r\n   node index.js --help\r\n   ```\r\n   Expected: Shows Node.js MCP proxy options\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [x] Introduces new feature or API\r\n- [ ] Removes existing feature or API\r\n\r\n**Notes:**\r\n- Foundational scaffold with minimal functionality, completely isolated from existing code\r\n- Requires `fastmcp` library (added to `requirements/development.in`)\r\n- Zero risk - no impact on existing Superset functionality",
  "Requirement ID: ISSUE-35159\nTitle: chore: TypeScript Configuration Modernization and Cleanup\nState: closed\nAuthor: michael-s-molina\nLabels: size/XL, change:frontend, frontend:refactor, plugins, dependencies:npm, github_actions, packages, AI \ud83e\udd16\nBody:\n### SUMMARY\r\n\r\nModernized and streamlined TypeScript configuration across Superset's monorepo, consolidating redundant configurations and standardizing project references for better maintainability and consistency.\r\n\r\n#### Key Changes\r\n\r\n#### 1. Root Configuration Modernization\r\n\r\n- Consolidated `tsconfig.base.json` into main `tsconfig.json` to eliminate redundancy\r\n- Updated module resolution from \"node\" to \"bundler\" (modern recommended approach)\r\n- Updated target from \"esnext\" to \"es2020\" for better compatibility\r\n- Enhanced include patterns to cover packages and plugins test files\r\n- Added ECharts internal types path mapping to resolve bundler resolution conflicts\r\n- Added `@apache-superset/core` path mappings for proper module resolution\r\n\r\n#### 2. Package/Plugin tsconfig Cleanup (27+ files affected)\r\n\r\n- Standardized project references - All packages now properly reference `superset-core`\r\n- Simplified configurations using extends pattern from root `tsconfig.json`\r\n- Eliminated redundant compiler options already defined in root config\r\n- Consistent `baseUrl` and `outDir` settings across all packages\r\n- Updated generator templates to use new standardized configuration structure\r\n\r\n#### 3. Configuration Standardization\r\n\r\n- All packages extend root `tsconfig.json` for consistency\r\n- Proper project references to `superset-core`, `superset-ui-core`, and `chart-controls`\r\n- Centralized path mappings in root `tsconfig.json` for better maintainability\r\n- Fixed ECharts internal type imports blocked by bundler resolution\r\n- Added `@apache-superset/core` dependency to packages that need it\r\n\r\n#### 4. Additional Fixes\r\n\r\n- CI workflow improvement - Added package build step before type checking\r\n- Day.js plugin type resolution - Centralized imports in `preamble.ts`\r\n- Asset type declarations - Added missing image format support\r\n\r\n#### Technical Benefits\r\n\r\n\u2705 Faster type checking - Proper project references and inheritance\r\n\u2705 Simplified configuration - Clean extends-based inheritance pattern\r\n\u2705 Better IDE support - Modern bundler resolution works better with IDEs\r\n\u2705 Consistent build process - Standardized across all packages and plugins\r\n\u2705 Eliminated build conflicts - No more TypeScript declaration file issues\r\n\u2705 Maintained compatibility - All existing imports continue working\r\n\r\n### TESTING INSTRUCTIONS\r\n\r\n1. Type checking: `npm run type` passes without errors\r\n2. Linting: `npm run eslint` continues working\r\n3. Build: `npm run build` completes successfully\r\n4. Plugin build: `npm run plugins:build` generates declaration files\r\n5. Module resolution: All internal imports resolve correctly\r\n6. External libraries: ECharts types resolved properly\r\n\r\n\r\n### ADDITIONAL INFORMATION\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35158\nTitle: [SIP-185] Proposal for Chart Customization / Dynamic Group By in Dashboards\nState: closed\nAuthor: msyavuz\nLabels: change:backend, sip, change:frontend, design:proposal\nBody:\n## [SIP-185] Proposal for Chart Customization / Dynamic Group By in Dashboards\n\n### Motivation\n\nThere is a need to enhance dashboard interactivity by enabling users to dynamically change group by fields in charts directly from dashboards. This will allow end users greater flexibility in data exploration and reduce the need for creating multiple static charts for different group by dimensions.\n\n### Proposed Change\n\nIntroduce a feature that allows dashboard viewers to select and adjust the group by column(s) for charts in real time. This could involve UI changes to add group by selectors on charts, backend enhancements to support dynamic query generation, and state management for user selections. Reference implementation and early discussion can be found in [PR #33831](https://github.com/apache/superset/pull/33831).\n\n<img width=\"458\" height=\"273\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/ed555e4d-df00-44a7-88ad-ad7cc91156f2\" />\n\n<img width=\"959\" height=\"904\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/9decfe28-a0fc-477a-96f9-6ba986558b14\" />\n\n<img width=\"1707\" height=\"1040\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/4b53d93b-fb64-4ad5-8798-78bdabd83356\" />\n\n### New or Changed Public Interfaces\n\n- Changes to chart and dashboard React components to support group by selectors\n- Updates to REST endpoints (if needed) to accept dynamic group by parameters\n- Potential updates to chart metadata and dashboard state\n\n### New dependencies\n\nNo new dependencies\n\n### Migration Plan and Compatibility\n\n- Ensure dashboards with static group bys continue to work as before\n\n### Rejected Alternatives\n\n- Continue requiring users to create multiple charts for each group by scenario. This approach leads to dashboard clutter, increased maintenance overhead, and a less dynamic user experience. It also does not scale well when users want to explore multiple dimensions interactively.",
  "Requirement ID: ISSUE-35157\nTitle: [SIP-184] Proposal for migrating from react-dnd and react-sortable-hoc to dnd-kit\nState: closed\nAuthor: msyavuz\nLabels: sip, frontend:refactor\nBody:\n## [SIP-184] Proposal for migrating from react-dnd and react-sortable-hoc to dnd-kit\n\n### Motivation\n\nSuperset currently uses `react-dnd` as the drag-and-drop library for dashboards, filters and some UI components. While `react-dnd` has served us well, migrating to `dnd-kit` can improve both UX and DX significantly.\n\nWith the React 18 upgrade underway, we also need to upgrade `react-dnd` to the new hooks based API which breaks existing components and functionality. Since we already need to update all usages, this feels like the best time to migrate to a modern library that fits our needs.\n\n- **Bundle size**: We already have `@dnd-kit/core`, `@dnd-kit/sortable`, `@dnd-kit/utilities` as peer dependencies of geostyler. Removing `react-dnd`, `react-dnd-html5-backend`, `react-sortable-hoc` from our dependency list will reduce our bundle size.\n\n- **Maintenance**: `react-dnd` has its last release in 2022 and `react-sortable-hoc` is not actively maintained.\n\n- **Better fit for modern requirements**: A modern toolkit like `dnd-kit` provides more utilities (collision detection, constraints, auto-scroll, etc.) that map well to what Superset needs out of the box.\n\n- **Accessibility**: `dnd-kit` provides built-in accessibility improvements and documentation to improve it even more: https://docs.dndkit.com/guides/accessibility\n\n### Proposed Change\n\nFully replace `react-dnd` and `react-sortable` with `dnd-kit`. Preferable branching off of React 18 upgrade branch to avoid having to upgrade `react-dnd` first.\n\n### New or Changed Public Interfaces\n\n**Dashboards**: Dragging/resizing charts should continue to work seamlessly with saved dashboards. No changes to dashboard metadata format are expected.\n\n**Filters**: Cross-filter drag-and-drop should remain unchanged from a user perspective.\n\n**Developer interfaces**: Developers extending dashboards may need to adapt if they directly relied on `react-dnd` internals (unlikely but possible).\n\nEnd users should not experience breaking changes if migration is successful.\n\n### New Dependencies\n\n`@dnd-kit/core`, `@dnd-kit/sortable`, `@dnd-kit/modifiers`, `@dnd-kit/utilities` - all actively maintained under MIT License.\n\n### Migration Plan and Compatibility\n\n1. **React 18 Upgrade (Core Migration already underway)**\n   \n   Upgrade Superset frontend to React 18 and confirm that `react-dnd` is not upgraded (skipped) since we will remove it.\n\n   **Refactor all Drag-and-Drop functionality to use dnd-kit:**\n   - **Dashboards**: Replace all `react-dnd` usage with `@dnd-kit/core` and `@dnd-kit/sortable`. Validate layout persistence, chart rearrangement, and resizing.\n   - **Refactor filters**: Migrate drag-and-drop interactions to `dnd-kit`.\n   - Run tests and visual regression checks to confirm feature parity.\n\n2. **Stabilization**\n   - Fix edge cases (nested layouts, cross-container drag).\n   - Ensure accessibility testing with keyboard and screen readers.\n\n3. **Removal of Legacy Dependencies**\n   - Once validated, remove `react-dnd`, `react-sortable-hoc` and `react-dnd-html5-backend` entirely.\n\n### Rejected Alternatives\n\n1. **Stay on `react-dnd`**\n   - **Pros**: Minimal code churn in the short term (no need to re-learn a new API immediately).\n   - **Cons**: `react-dnd` is increasingly outdated compared to `dnd-kit`, with less active development.\n     - `react-dnd` has slower adoption of modern React patterns (e.g., concurrent rendering in React 18).\n     - Community momentum has shifted toward `dnd-kit`, meaning long-term maintenance risk if `react-dnd` stagnates.\n     - Upgrading to React 18 first and later migrating to `dnd-kit` would result in two breaking migrations instead of one.\n\n2. **Wait for a future Superset refactor to adopt `dnd-kit`**\n   - **Pros**: Spreads out work and reduces scope of the current React 18 upgrade.\n   - **Cons**: Defers inevitable migration and makes future migration harder:\n     - More Superset components will depend on `react-dnd` over time, increasing migration cost later.\n     - Future users and contributors may build new features around `react-dnd`, adding tech debt that must later be reworked.\n     - Missing the opportunity to align with the React 18 upgrade means Superset may require multiple disruptive migrations.\n\n3. **Use a custom in-house drag-and-drop abstraction**\n   - **Pros**: Maximum control over APIs and interaction patterns.\n   - **Cons**: Requires continuous maintenance and Superset's contributors lose the benefit of a robust open-source community.\n     - Both `react-dnd` and `dnd-kit` are well-tested; building a new solution would add unnecessary risk.\n     - Would not provide significant advantages beyond what `dnd-kit` already offers.\n\n4. **Adopt `react-beautiful-dnd`**\n   - **Pros**: Very popular, user-friendly API, good documentation, strong adoption in the React ecosystem.\n   - **Cons**: Project is in **maintenance mode** (no active development since Atlassian stopped maintaining it).\n     - No official support for React 18 concurrent rendering.\n     - Known performance limitations with large lists compared to `dnd-kit`.\n     - Using this would trade one aging library (`react-dnd`) for another.\n\n5. **Adopt `@hello-pangea/dnd` (community fork of `react-beautiful-dnd`)**\n   - **Pros**: Actively maintained fork of `react-beautiful-dnd`, with bug fixes and React 18 support.\n   - **Cons**: Still tied to the original design decisions and performance constraints of `react-beautiful-dnd`.\n     - Focused primarily on list reordering use cases, while Superset requires more flexible drag-and-drop interactions (layout building, dashboards, etc.).\n     - Community smaller than `dnd-kit`.\n\n\n6. **Adopt `@atlaskit/pragmatic-drag-and-drop`**\n   - **Pros**:\n     - Official successor to `react-beautiful-dnd`, created and maintained by Atlassian.\n     - Actively developed with modern React and TypeScript support.\n     - Lightweight, composable primitives instead of opinionated abstractions, giving more flexibility than `react-beautiful-dnd`.\n     - Good fit for React 18's rendering model.\n\n   - **Cons**:\n     - Still relatively new, with a smaller ecosystem and fewer real-world production examples compared to `dnd-kit`.\n     - Documentation and community adoption are not yet as mature as `dnd-kit`. One-way mirror to their internal repo and doesn't accept open source contributions.\n     - Designed with Atlassian's use cases in mind, which may not fully align with Superset's complex dashboard interactions.\n     - Migration effort similar to `dnd-kit`, so it offers no clear advantage for Superset over the more widely adopted `dnd-kit`.",
  "Requirement ID: ISSUE-35156\nTitle: feat(Tabs): Rearange tabs when editing dashboard\nState: open\nAuthor: alexandrusoare\nLabels: size/L, change:frontend, dashboard:tab, dependencies:npm, packages, testenv-up\nBody:\n### SUMMARY\r\nDashboard creators should be able to rearrange tabs to the desired sequence.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n\r\n#### BEFORE\r\nhttps://github.com/user-attachments/assets/64b742a0-9ff0-44f2-997c-3e5d884d1000\r\n\r\n#### AFTER\r\nhttps://github.com/user-attachments/assets/0de1f1e8-7360-466d-b8cb-01cf00b3c6de\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [x] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35155\nTitle: fix(CrudThemeProvider): Optimized theme loading logic\nState: closed\nAuthor: marunrun\nLabels: size/S, change:frontend, global:theming, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n- Modified the conditional rendering logic in the CrudThemeProvider component\r\n- Added handling to return Loading when themeId exists but the theme has not been loaded\r\n- This prevents the mounting of child components before the theme is loaded, avoiding unnecessary re-mounting\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\nBefore\r\n![](https://github.com/user-attachments/assets/4b497b76-0a43-4c0e-88d2-791399112587)\r\n\r\nAfter\r\n![](https://github.com/user-attachments/assets/4b860ecb-61ec-4cca-9659-c15048962aa0)\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [x] Has associated issue: Fixes #35131\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35152\nTitle: fix(filters): preserve backend metric-based sorting\nState: open\nAuthor: eschutho\nLabels: size/L, change:frontend, explore:filter, preset-io, hold:testing!\nBody:\n## SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nFixes broken metric-based sorting (e.g., sort by MAU) in select filter components by preventing frontend alphabetical sorting from overriding backend sort order. Also adds comprehensive test coverage for this functionality.\r\n\r\n**Problem:**\r\n- When `sortMetric` was specified in filter configuration, the backend would correctly sort data by the specified metric (e.g., MAU, revenue, etc.)\r\n- However, the frontend `sortComparator` was then applying alphabetical sorting on the labels, completely overriding the intended metric-based order\r\n- This resulted in filters showing values sorted alphabetically instead of by their actual metric values\r\n\r\n**Solution:**\r\n- Check if `formData.sortMetric` is specified before applying sort logic\r\n- When `sortMetric` exists, return 0 to preserve the original backend order\r\n- Only apply alphabetical sorting when no `sortMetric` is configured\r\n- Add `sortMetric` to useCallback dependency array for proper re-rendering\r\n- Add comprehensive test coverage for all sorting scenarios\r\n\r\nThis ensures that metric-based sorting (like \"sort by MAU\") works correctly while maintaining alphabetical sorting as a fallback for other cases.\r\n\r\n## BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n**Before:** Select filter options sorted alphabetically regardless of sortMetric setting\r\n**After:** Select filter options preserve backend metric-based order when sortMetric is specified\r\n\r\n## TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n1. Run the test suite: `npm test -- SelectFilterPlugin.test.tsx`\r\n2. Verify all tests pass, including 4 new comprehensive sortMetric tests\r\n3. Manual testing:\r\n   - Create a select filter with `sortMetric` specified\r\n   - Verify options appear in metric order, not alphabetical order\r\n   - Test fallback: create filter without `sortMetric`, verify alphabetical sorting still works\r\n\r\n## ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n\r\n- [x] Has associated issue: Fixes #35331\r\n- [ ] Required feature flags:\r\n- [x] Changes UI (sorting behavior)\r\n- [ ] Includes DB Migration\r\n- [ ] Introduces new feature or API  \r\n- [ ] Removes existing feature or API\r\n\r\n**Test Coverage Added:**\r\n- \u2705 Backend order preservation when `sortMetric` is specified\r\n- \u2705 Alphabetical sorting fallback when no `sortMetric` is specified\r\n- \u2705 Ascending and descending alphabetical sorting behavior\r\n- \u2705 `sortMetric` precedence over `sortAscending` setting\r\n\r\n**Commits:**\r\n1. `fix(filters): preserve backend metric-based sorting in select filters` - The core fix\r\n2. `test(filters): add comprehensive tests for sortMetric functionality` - Test coverage\r\n\r\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)",
  "Requirement ID: ISSUE-35151\nTitle: fix(viz): resolve dark mode compatibility issues in BigNumber and Heatmap\nState: closed\nAuthor: mistercrunch\nLabels: size/S, viz:charts:bignumber, viz:charts:heatmap, plugins, v6.0\nBody:\n- BigNumber with Trendline: Replace hardcoded supersetTheme.colorBgContainer with 'transparent' in sparkline gradient\r\n- Heatmap: Use live theme.colorText with alpha transparency instead of static supersetTheme colors for emphasis styles\r\n\r\nBoth visualizations now properly support theme switching without visual artifacts in dark mode.",
  "Requirement ID: ISSUE-35149\nTitle: Poor visibility of y-axis labels on Gantt chart in dark themes\nState: closed\nAuthor: VasilijeBursac\nLabels: global:theming, validation:validated\nBody:\n## Screenshot\n\n<img width=\"850\" height=\"705\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/74ac9afe-cb15-4432-85ae-391785a392c2\" />\n\n## Description\n\nWhen using the Gantt chart component in dark theme, the y-axis labels currently render with a white outline. On a dark background this makes them:\n- Harder to read\n- Visually straining on the eyes\n- Inconsistent with the style of other chart types in dark theme (where labels generally use more balanced colors and contrast)\n\n\nIt would be great if the y-axis label styling could be aligned with other charts in dark mode for better readability and consistency.",
  "Requirement ID: ISSUE-35148\nTitle: docs(llms): add PR template guidelines to LLMS.md\nState: closed\nAuthor: eschutho\nLabels: size/S\nBody:\n### SUMMARY\nAdded comprehensive Pull Request guidelines section to LLMS.md (which CLAUDE.md symlinks to) to help LLM tools create properly formatted PRs that follow Superset conventions.\n\nThe new section includes:\n- The complete Superset PR template format with all required sections\n- Conventional Commits specification for PR titles\n- Examples of proper PR title formatting (fix, feat, docs, etc.)\n\nThis ensures consistent PR creation when using Claude Code and other LLM tools by providing clear instructions on how to format PR descriptions and titles according to project standards.\n\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\nN/A - Documentation only change\n\n### TESTING INSTRUCTIONS\n1. Review the added PR guidelines section in LLMS.md\n2. Verify the template matches the actual PR template in `.github/PULL_REQUEST_TEMPLATE.md`\n3. Confirm the Conventional Commits examples are accurate\n\n### ADDITIONAL INFORMATION\n- [ ] Has associated issue: N/A\n- [ ] Required feature flags: None\n- [ ] Changes UI: No\n- [ ] Includes DB Migration: No\n- [ ] Introduces new feature or API: No\n- [ ] Removes existing feature or API: No\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)",
  "Requirement ID: ISSUE-35147\nTitle: refactor: migrate 5 dashboard utility files to TypeScript\nState: closed\nAuthor: msyavuz\nLabels: size/L, change:frontend, dashboard, AI \ud83e\udd16\nBody:\n## Summary\n- Migrated 5 JavaScript files in the dashboard module to TypeScript\n- Added proper type annotations and interfaces\n- All files pass pre-commit hooks (ESLint, TypeScript type checking)\n\n## Files Migrated\n1. `src/dashboard/reducers/sliceEntities.js` \u2192 `.ts` - Redux reducer with discriminated union types\n2. `src/dashboard/util/buildFilterScopeTreeEntry.js` \u2192 `.ts` - Utility with typed interfaces\n3. `src/dashboard/util/findFirstParentContainer.js` \u2192 `.ts` - Layout navigation utility\n4. `src/dashboard/util/getEmptyLayout.js` \u2192 `.ts` - Layout creation utility\n5. `src/dashboard/util/getLeafComponentIdFromPath.js` \u2192 `.ts` - Path traversal utility\n\n## Test Plan\n- [x] All TypeScript compilation passes\n- [x] ESLint checks pass\n- [x] Pre-commit hooks pass\n- [x] No runtime type errors\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)",
  "Requirement ID: ISSUE-35146\nTitle: fix(filters): preserve backend metric-based sorting with comprehensive tests\nState: closed\nAuthor: eschutho\nLabels: size/L, change:frontend, preset-io\nBody:\n## SUMMARY\n<!--- Describe the change below, including rationale and design decisions -->\n\nFixes broken metric-based sorting (e.g., sort by MAU) in select filter components by preventing frontend alphabetical sorting from overriding backend sort order. Also adds comprehensive test coverage for this functionality.\n\n**Problem:**\n- When `sortMetric` was specified in filter configuration, the backend would correctly sort data by the specified metric (e.g., MAU, revenue, etc.)\n- However, the frontend `sortComparator` was then applying alphabetical sorting on the labels, completely overriding the intended metric-based order\n- This resulted in filters showing values sorted alphabetically instead of by their actual metric values\n\n**Solution:**\n- Check if `formData.sortMetric` is specified before applying sort logic\n- When `sortMetric` exists, return 0 to preserve the original backend order\n- Only apply alphabetical sorting when no `sortMetric` is configured\n- Add `sortMetric` to useCallback dependency array for proper re-rendering\n- Add comprehensive test coverage for all sorting scenarios\n\nThis ensures that metric-based sorting (like \"sort by MAU\") works correctly while maintaining alphabetical sorting as a fallback for other cases.\n\n## BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\n<!--- Skip this if not applicable -->\n\n**Before:** Select filter options sorted alphabetically regardless of sortMetric setting\n**After:** Select filter options preserve backend metric-based order when sortMetric is specified\n\n## TESTING INSTRUCTIONS\n<!--- Required! What steps can be taken to manually verify the changes? -->\n\n1. Run the test suite: `npm test -- SelectFilterPlugin.test.tsx`\n2. Verify all tests pass, including 4 new comprehensive sortMetric tests\n3. Manual testing:\n   - Create a select filter with `sortMetric` specified\n   - Verify options appear in metric order, not alphabetical order\n   - Test fallback: create filter without `sortMetric`, verify alphabetical sorting still works\n\n## ADDITIONAL INFORMATION\n<!--- Check any relevant boxes with \"x\" -->\n\n- [x] Has associated issue: Fixes metric-based sorting in select filters\n- [ ] Required feature flags:\n- [x] Changes UI (sorting behavior)\n- [ ] Includes DB Migration\n- [ ] Introduces new feature or API  \n- [ ] Removes existing feature or API\n\n**Test Coverage Added:**\n- \u2705 Backend order preservation when `sortMetric` is specified\n- \u2705 Alphabetical sorting fallback when no `sortMetric` is specified\n- \u2705 Ascending and descending alphabetical sorting behavior\n- \u2705 `sortMetric` precedence over `sortAscending` setting\n\n**Commits:**\n1. `fix(filters): preserve backend metric-based sorting in select filters` - The core fix\n2. `test(filters): add comprehensive tests for sortMetric functionality` - Test coverage\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)",
  "Requirement ID: ISSUE-35145\nTitle: Cell bars in Table chart barely visible in dark themes\nState: closed\nAuthor: VasilijeBursac\nLabels: viz:charts:table, global:theming, validation:validated\nBody:\n## Screenshot\n\nDark theme (bars barely or not visible):\n<img width=\"880\" height=\"247\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/bb74379b-9600-490a-81d7-dd5aef186a69\" />\n\nLight theme (bars visible):\n<img width=\"873\" height=\"228\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/701a7c47-70b4-41a6-9ac2-221e570319ef\" />\n\n## Description\n\nWhen using the Table chart in Superset, the cell bars are almost invisible in dark themes.\n\n- On lighter zebra stripe rows, they are very faint and only noticeable at certain viewing angles.\n- On darker rows, they are not visible at all.\n\nIn comparison, the bars are clearly visible in the light theme.",
  "Requirement ID: ISSUE-35144\nTitle: fix: import bug template params\nState: closed\nAuthor: SBIN2010\nLabels: size/XS, data:dataset, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\nFhis PR fix #35037\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\n\r\nadded template parameters where equals '' processing in pre_load\r\n\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n1) unload dataset, in which template_params = ''\r\n2) download archive with such dataset\r\n3) make sure that the import was successful\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35143\nTitle: fix(embedded-sdk): clear fetchGuestToken timers on unmount\nState: open\nAuthor: NewtonFernandis\nLabels: size/M, #bug:newfeature, embedded\nBody:\n### SUMMARY\r\nFixes memory leak in @superset-ui/embedded-sdk where fetchGuestToken refresh timers continue running after unmount().\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\nN/A\r\n\r\n### TESTING INSTRUCTIONS\r\n1. Create a test application that uses embedDashboard()\r\n2. Call unmount() after embedding\r\n3. Verify no setTimeout timers continue running\r\n4. Check browser dev tools for continued network requests (should be none)\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [x] Has associated issue: #34529 \r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35142\nTitle: fix(deck.gl): restore legend display for Polygon charts with linear palette and fixed color schemes\nState: closed\nAuthor: sadpandajoe\nLabels: size/L, viz:charts:deck.gl, plugins, v6.0, AI \ud83e\udd16\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n- Fixed critical regression where legends disappeared in deck.gl Polygon charts between Superset 5.0 and 6.0\r\n- Affected charts using linear_palette (default) and fixed_color schemes when displaying metrics\r\n- Single-line conditional logic fix with comprehensive test coverage\r\n\r\n**Root Cause**\r\n\r\nThe bucket generation logic incorrectly treated any truthy colorSchemeType as requiring color breakpoints:\r\n\r\nbefore:\r\n```\r\nconst buckets = colorSchemeType\r\n? getColorBreakpointsBuckets(formData.color_breakpoints)\r\n: getBuckets(formData, payload.data.features, accessor);\r\n```\r\n\r\nafter:\r\n```  \r\nconst buckets = colorSchemeType === COLOR_SCHEME_TYPES.color_breakpoints\r\n? getColorBreakpointsBuckets(formData.color_breakpoints)\r\n: getBuckets(formData, payload.data.features, accessor);\r\n```\r\n\r\nWhen colorSchemeType was \"linear_palette\" or \"fixed_color\", it incorrectly called getColorBreakpointsBuckets() with undefined color_breakpoints, returning empty buckets and causing legends to disappear.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n11 comprehensive tests covering all scenarios:\r\n- Bucket generation logic for all color scheme types\r\n- Error handling and edge cases\r\n- Legend integration testing\r\n- Utility function validation\r\n\r\nManual test:\r\n1. open up a workspace\r\n2. go to the polygon chart\r\n3. verify legend shows up\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [X] Has associated issue: fixes #34822\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35141\nTitle: Export table data with \"Search box\" enabled\nState: open\nAuthor: alesnav\nLabels: validation:required, viz:charts:table\nBody:\n### Bug description\n\nHaving a table chart with many rows and option `Search box` enabled and trying to export the data, the behavior is:\n\n- **Download as image**. It works as expected, because only shown data (filtered by search box) is exported.\n- **Export to full .CSV/Excel**.  I think that it works as expected, because all data is exported, regardless the filter included in the Search box.\n- **Export to .CSV/Excel**. I think that it does not work as expected. Giving that search box filter, the final user expects to download only the table rows seen in the screen, but the downloaded file includes all rows, regardless the filter included in the Search box.\n\nI think that this is a bug regarding `Export to .CSV` and `Export to Excel` functions. It should apply the same filter included in search box before exporting the data.\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35139\nTitle: Export to excel (row count 50k)\nState: open\nAuthor: anartapdigov-ux\nLabels: validation:required, data:csv\nBody:\n### Bug description\n\nWhen I download to csv, all rows are loaded. But when I download to excel, 50k rows are loaded. How can I solve this?\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [ ] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [ ] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35137\nTitle: Export to excel\nState: closed\nAuthor: anartapdigov-ux\nLabels: validation:required, data:csv\nBody:\n### Bug description\n\nIn Apache Superset 4.1.4, when export to excel or export to csv, it sends it as a zip file.\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [ ] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [ ] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35133\nTitle: fix: Add support for 8-digit hex colors in theme system and color utilities\nState: closed\nAuthor: rebenitez1802\nLabels: size/M, change:frontend, global:theming, packages\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\n  This PR adds comprehensive support for 8-digit hex colors (with alpha channel) in Superset's theme system and color utilities. This enables custom\r\nthemes to use colors like #FF000080 without breaking existing functionality.\r\n\r\n Problem Solved\r\n\r\n  - Issue: Color utilities failed when custom themes provided 8-digit hex values\r\n  - Root Cause: getContrastingColor() incorrectly treated 8-digit hex as RGB format\r\n  - Impact: emotion-rgba library incompatible with 8-digit hex colors in components\r\n\r\n Changes Made\r\n\r\n  Color Utilities Enhanced (packages/superset-ui-core/src/color/utils.ts)\r\n\r\n  - getContrastingColor(): Fixed logic to properly detect RGB vs hex formats, handles 8-digit hex by ignoring alpha channel\r\n  - hexToRgb(): Added support for 8-digit hex conversion (ignores alpha for RGB output)\r\n  - addAlpha(): Enhanced to replace existing alpha channel instead of appending\r\n\r\n  Component Fixes\r\n\r\n  - ActionButtons: Replaced emotion-rgba with addAlpha for gradient backgrounds\r\n  - BuilderComponentPane: Replaced emotion-rgba with addAlpha for box shadows\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n Manual Testing:\r\n  1. Create a custom theme with 8-digit hex colors:\r\n  {\r\n    \"colorPrimary\": \"#FF000080\",\r\n    \"colorBgLayout\": \"#FFFFFF40\",\r\n    \"colorBorder\": \"# 00000020\"\r\n  }\r\n  2. Apply the custom theme and verify:\r\n    - Dashboard FilterBar renders without console errors\r\n    - Dashboard builder components render correctly\r\n    - Color contrasting still works for text readability\r\n    - No visual regressions in existing themes\r\n    \r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35132\nTitle: [6.0.0][Filter] Can not display filter dropdown when click selection in filter\nState: closed\nAuthor: Oooooori\nLabels: validation:required\nBody:\n### Bug description\n\nWhen click an empty filter, the selection dropdown should keep display on the screen.\nBug if select some filter selection, then click, dropdown displays and then disappears automatically. Only clicking on a blank part of the filter will keep it displayed.\nIt's hard to add multiple filters. And the width of the dropdown is also incorrect.\n\nMy superset version is 6.0.0 (branch 6.0)\n\n\n### Screenshots/recordings\n\nHere is my record:\n\nhttps://github.com/user-attachments/assets/f086f388-6693-4648-bdf4-a1d54353e6f7\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.11\n\n### Node version\n\n18 or greater\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35131\nTitle: [6.0.0][Filter] Import Issue: Filter can not apply after setting theme for dashboard.\nState: closed\nAuthor: Oooooori\nLabels: global:theming, dashboard:filtersets, validation:validated\nBody:\n### Bug description\n\nThere is a bug that causes the filters can not be applied! \nIf the theme of the dashboard is customized, then filters cannot be applied.\nBut if instead of setting it for a dashboard, set a system global theme, then filters can be applied.\n\n1. set theme for a dashboard\n\n<img width=\"1907\" height=\"557\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/bf0f5545-ee66-4a32-88bb-94d4aca36e48\" />\n\n2. back to dashboard list and reopen the dashboard\n\n<img width=\"852\" height=\"180\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/fce61276-2b74-46d3-b827-3f77981c2ae4\" />\n\n3.  filter can't be applied\n\n<img width=\"1905\" height=\"93\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/2f82ff0a-b235-449e-8b3a-4c576f61e54e\" />\n\n\n4. But if clean theme for the same dashboard, and set theme in global theme config, filter can be applied.\n\n<img width=\"594\" height=\"485\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/34068318-3b84-45c7-9935-0100f003f2b0\" />\n\n<img width=\"1905\" height=\"380\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/45e7b6a4-118b-4a3a-ad28-59b1e69967c8\" />\n\n<img width=\"1918\" height=\"167\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/b3e4e87d-12af-4614-8b72-21992fd3a73e\" />\n\n\nMy superset version is 6.0.0.\nHere is my filter json and theme json:\n\njson metadata:\n`{\n  \"chart_configuration\": {\n    \"2115\": {\n      \"id\": 2115,\n      \"crossFilters\": {\n        \"scope\": {\"rootPath\": [], \"excluded\": [2115]},\n        \"chartsInScope\": []\n      }\n    },\n    \"2116\": {\n      \"id\": 2116,\n      \"crossFilters\": {\"scope\": \"global\", \"chartsInScope\": [2115, 2121]}\n    },\n    \"2121\": {\n      \"id\": 2121,\n      \"crossFilters\": {\"scope\": \"global\", \"chartsInScope\": [2115, 2116]}\n    }\n  },\n  \"global_chart_configuration\": {\n    \"scope\": {\"rootPath\": [\"ROOT_ID\"], \"excluded\": []},\n    \"chartsInScope\": [2115, 2116, 2121]\n  },\n  \"color_scheme\": \"\",\n  \"refresh_frequency\": 0,\n  \"expanded_slices\": {},\n  \"label_colors\": {\n    \"Unkown\": \"#96D4DA\",\n    \"Completed\": \"#11B289\",\n    \"Active\": \"#34D399\",\n    \"Cancel\": \"#BCBBBB\",\n    \"Opt out\": \"#838688\",\n    \"Pending\": \"#FFB72F\",\n    \"Cancel(can be re-added)\": \"#FFE4A6\"\n  },\n  \"timed_refresh_immune_slices\": [],\n  \"cross_filters_enabled\": true,\n  \"default_filters\": \"{}\",\n  \"native_filter_configuration\": [\n    {\n      \"id\": \"NATIVE_FILTER-k1QDMC_RSJ6V-6A1Ggv6z\",\n      \"controlValues\": {\n        \"enableEmptyFilter\": false,\n        \"defaultToFirstItem\": false,\n        \"creatable\": true,\n        \"multiSelect\": true,\n        \"searchAllOptions\": false,\n        \"inverseSelection\": false\n      },\n      \"name\": \"Test Filter\",\n      \"filterType\": \"filter_select\",\n      \"targets\": [{\"datasetId\": 85, \"column\": {\"name\": \"Program\"}}],\n      \"defaultDataMask\": {\n        \"extraFormData\": {},\n        \"filterState\": {},\n        \"ownState\": {}\n      },\n      \"cascadeParentIds\": [],\n      \"scope\": {\"excluded\": [], \"rootPath\": [\"ROOT_ID\"]},\n      \"type\": \"NATIVE_FILTER\",\n      \"description\": \"\"\n    }\n  ],\n  \"filter_bar_orientation\": \"HORIZONTAL\"\n}`\n\n\ntheme json:\n`{\n    \"algorithm\": \"dark\",\n    \"token\": {\n        \"colorTextBase\": \"#ffffff\",\n        \"controlItemBgHover\": \"#404040\",\n        \"hoverBorderColor\": \"transparent\",\n        \"colorPrimaryBorder\": \"transparent\",\n        \"colorPrimary\": \"#ffffff\",\n        \"colorInfo\": \"#ffffff\"\n    },\n    \"components\": {\n        \"DatePicker\": {\n            \"colorTextPlaceholder\": \"#B3B5B6\",\n            \"colorBorder\": \"#404040\",\n            \"hoverBorderColor\": \"#EE8E25\",\n            \"colorTextLightSolid\": \"#EE8E25\",\n            \"controlItemBgActive\": \"#EE8E25\",\n            \"cellHoverBg\": \"#EE8E25\"\n        },\n        \"Popover\": {\n            \"colorText\": \"#ffffff\",\n            \"colorTextHeading\": \"#ffffff\",\n            \"colorBgElevated\": \"#262626\"\n        },\n        \"Select\": {\n            \"colorBgElevated\": \"#262626\",\n            \"selectorBg\": \"#161519\",\n            \"hoverBorderColor\": \"#EE8E25\",\n            \"activeBorderColor\": \"#EE8E25\",\n            \"activeOutlineColor\": \"transparent\",\n            \"optionSelectedBg\": \"#404040\",\n            \"optionSelectedColor\": \"#ffffff\",\n            \"multipleItemBg\": \"#EE8E25\",\n            \"colorBorder\": \"#404040\",\n            \"colorPrimary\": \"#EE8E25\",\n            \"colorText\": \"#ffffff\",\n            \"colorPrimaryHover\": \"#404040\"\n        },\n        \"Button\": {\n            \"defaultColor\": \"#646464\",\n            \"defaultBg\": \"#EE8E25\",\n            \"defaultActiveColor\": \"#EE8E25\",\n            \"colorPrimaryBgHover\": \"#edb687\",\n            \"defaultActiveBorderColor\": \"#EE8E25\",\n            \"colorPrimaryTextActive\": \"#EE8E25\",\n            \"defaultBorderColor\": \"transparent\",\n            \"defaultHoverBorderColor\": \"transparent\",\n            \"colorPrimaryBg\": \"#EE8E25\",\n            \"defaultShadow\": \"none\",\n            \"primaryShadow\": \"none\",\n            \"colorTextLightSolid\": \"#EE8E25\",\n            \"colorLink\": \"#EE8E25\",\n            \"colorLinkActive\": \"#EE8E25\",\n            \"colorTextDisabled\": \"#646464\",\n            \"colorBgContainerDisabled\": \"#000000\",\n            \"borderColorDisabled\": \"transparent\",\n            \"defaultGhostColor\": \"#646464\"\n        },\n        \"Input\": {\n            \"hoverBorderColor\": \"#EE8E25\",\n            \"colorBorder\": \"#404040\",\n            \"activeShadow\": \"inset 0 0 0 1px #e59653\",\n            \"colorPrimaryActive\": \"#EE8E25\",\n            \"activeBorderColor\": \"#EE8E25\",\n            \"colorBgContainer\": \"#161519\"\n        },\n        \"Menu\": {\n            \"itemHoverBg\": \"#f5f7fa\",\n            \"subMenuItemBg\": \"#ffffff\",\n            \"itemActiveBg\": \"#EE8E25\",\n            \"horizontalItemHoverColor\": \"#303133\",\n            \"itemHoverColor\": \"#EE8E25\",\n            \"horizontalItemSelectedColor\": \"#EE8E25\",\n            \"itemSelectedColor\": \"#EE8E25\",\n            \"subMenuItemSelectedColor\": \"#EE8E25\"\n        },\n        \"Dropdown\": {\n            \"colorPrimary\": \"rgb(82,196,26)\",\n            \"colorText\": \"rgb(255,255,255)\",\n            \"colorSplit\": \"rgb(0,0,0)\",\n            \"colorTextDescription\": \"rgb(255,255,255)\",\n            \"colorTextLightSolid\": \"rgb(235,47,150)\",\n            \"controlItemBgActive\": \"rgb(64,64,64)\",\n            \"controlItemBgActiveHover\": \"rgb(250,140,22)\",\n            \"controlItemBgHover\": \"rgb(64,64,64)\",\n            \"algorithm\": true,\n            \"colorBgElevated\": \"rgb(38,38,38)\"\n        },\n        \"Tooltip\": {\n            \"colorTextLightSolid\": \"#ffffff\",\n            \"colorText\": \"#ffffff\"\n        },\n        \"Table\": {\n            \"colorLink\": \"#ffffff\"\n        },\n        \"Alert\": {\n            \"colorInfo\": \"#ffffff\",\n            \"colorInfoBorder\": \"transparent\",\n            \"colorText\": \"#ffffff\",\n            \"colorTextHeading\": \"#ffffff\",\n            \"colorInfoBg\": \"#EE8E25\"\n        },\n        \"Badge\": {\n            \"colorTextLightSolid\": \"#000000\",\n            \"colorText\": \"#000000\"\n        },\n        \"Radio\": {\n            \"buttonSolidCheckedActiveBg\": \"#EE8E25\",\n            \"buttonSolidCheckedBg\": \"#EE8E25\",\n            \"colorBorder\": \"#ffffff\",\n            \"buttonCheckedBg\": \"#EE8E25\"\n        },\n        \"Card\": {\n            \"colorBorderSecondary\": \"#404040\"\n        },\n        \"Tag\": {\n            \"defaultColor\": \"#606266\",\n            \"defaultBg\": \"#EE8E25\",\n            \"colorTextLightSolid\": \"#606266\",\n            \"colorPrimary\": \"#606266\",\n            \"colorText\": \"#606266\",\n            \"colorFillSecondary\": \"colorFillSecondary\"\n        }\n    }\n}`\n\n### Screenshots/recordings\n\n[record.zip](https://github.com/user-attachments/files/22309215/record.zip)\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.11\n\n### Node version\n\n18 or greater\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35130\nTitle: fix(filters): preserve backend metric-based sorting in select filters\nState: closed\nAuthor: eschutho\nLabels: size/XS, change:frontend, \ud83c\udfaa 0f3953c \ud83d\udcc5 2025-09-13T02-47, \ud83c\udfaa 0f3953c \u231b 24h, \ud83c\udfaa 0f3953c \ud83e\udd21 eschutho, \ud83c\udfaa 0f3953c \ud83d\udea6 running, \ud83c\udfaa 0f3953c \ud83c\udf10 44.252.104.2:8080\nBody:\n## Summary\n- Fixes broken metric-based sorting in select filter components  \n- Preserves backend sort order when sortMetric is specified (e.g., sort by MAU)\n- Maintains alphabetical sorting as fallback when no metric is configured\n\n## Problem\nSelect filters with metric-based sorting were not working correctly:\n\n**Expected behavior:**\n- Configure filter with \"Sort by MAU\" \n- Backend returns data sorted by MAU values: [high MAU, medium MAU, low MAU]\n- Filter options should display in that metric-based order\n\n**Actual behavior:**  \n- \u274c Backend correctly sorted by MAU and returned proper order\n- \u274c Frontend `sortComparator` was applying alphabetical sorting on labels\n- \u274c This completely overrode the intended metric-based sort order\n- \u274c Users saw alphabetically sorted options instead of metric-sorted ones\n\n## Root Cause\nThe `sortComparator` in `SelectFilterPlugin.tsx` was always applying alphabetical sorting based on `formData.sortAscending`, without considering whether `formData.sortMetric` was specified. This meant metric-based backend sorting was being ignored.\n\n## Solution\n**1. Check for metric-based sorting:**\n```typescript\nif (formData.sortMetric) {\n  return 0; // Preserve the original order from the backend\n}\n```\n\n**2. Preserve backend order when sortMetric exists:**\n- When `sortMetric` is specified, return 0 from comparator\n- This maintains the exact order returned by the backend\n- Backend has already done the complex metric-based sorting\n\n**3. Fallback to alphabetical sorting:**\n- Only apply alphabetical sorting when no `sortMetric` is configured\n- Maintains existing behavior for non-metric sorts\n\n**4. Update dependencies:**\n- Added `formData.sortMetric` to `useCallback` dependency array\n- Ensures proper re-rendering when sortMetric configuration changes\n\n## Impact\n- \u2705 Metric-based sorting now works correctly (e.g., sort by MAU, revenue, etc.)\n- \u2705 Alphabetical sorting still works when no metric is specified  \n- \u2705 No breaking changes to existing functionality\n- \u2705 Backend sort order is properly respected\n\n## Files Changed\n- `superset-frontend/src/filters/components/Select/SelectFilterPlugin.tsx`\n\n## Testing\n- Create filter with \"Sort by MAU\" configuration\n- Verify filter options appear in MAU order (not alphabetical)\n- Test filters without sortMetric still sort alphabetically\n- Confirm sortAscending toggle still works for both cases\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)",
  "Requirement ID: ISSUE-35129\nTitle: fix(loading): improve loading screen theming for dark mode support\nState: closed\nAuthor: eschutho\nLabels: size/M, change:frontend, preset-io, global:theming, packages, review:draft, v6.0, \ud83c\udfaa 032abe7 \ud83d\udcc5 2025-10-03T23-32, \ud83c\udfaa 032abe7 \u231b 48h, \ud83c\udfaa 032abe7 \ud83e\udd21 eschutho, \ud83c\udfaa 032abe7 \ud83d\udea6 running, \ud83c\udfaa 032abe7 \ud83c\udf10 35.90.97.68:8080\nBody:\n### SUMMARY\nThis PR improves the loading screen experience for users with dark mode preferences and enhances accessibility.\n\n**Changes:**\n- Added CSS styles to support system dark mode preference (`@media (prefers-color-scheme: dark)`)\n- Improved accessibility by using `aria-label=\"Loading\"` instead of `alt` text for spinner images\n- Ensures loading indicators work properly in both light and dark themes\n\nThe changes provide a better initial loading experience that respects user's system theme preferences before the main application loads and eliminates jarring white flashes in dark mode.\n\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\n\nhttps://github.com/user-attachments/assets/a4afb904-a95c-4209-aad6-7b85aab8e4ef\n\n### TESTING INSTRUCTIONS\n1. Set your system to dark mode preference\n2. Load a Superset page and observe the loading screen\n3. Verify the loading screen background/text matches your system theme\n4. Test with screen reader to confirm \"Loading\" is announced properly\n5. Verify no white flash occurs during page load in dark mode\n\n### ADDITIONAL INFORMATION\n- [x] Changes UI\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)",
  "Requirement ID: ISSUE-35128\nTitle: fix(dashboard): remove visual gap at top of horizontal filter bar\nState: closed\nAuthor: eschutho\nLabels: size/XS, change:frontend, \ud83c\udfaa 1927af8 \ud83d\udcc5 2025-09-13T02-55, \ud83c\udfaa 1927af8 \u231b 24h, \ud83c\udfaa 1927af8 \ud83e\udd21 eschutho, \ud83c\udfaa 1927af8 \ud83d\udea6 running, \ud83c\udfaa 1927af8 \ud83c\udf10 34.220.221.5:8080\nBody:\n## Summary\n- Removes unnecessary visual gap at the top of the horizontal filter bar\n- Fixes layout issue where filter bar had excessive top padding\n\n## Problem\nThe horizontal filter bar was displaying with an unnecessary visual gap at the top due to excessive padding (`theme.sizeUnit * 3px` on the top). This created poor visual alignment between the filter bar and the rest of the dashboard content.\n\n## Solution\n- Remove top padding from the `HorizontalBar` styled component\n- Change from `padding: ${theme.sizeUnit * 3}px ${theme.sizeUnit * 2}px ...` \n- To `padding: 0 ${theme.sizeUnit * 2}px ...`\n- Maintains proper side and bottom padding for appropriate spacing\n\n## Visual Impact\n- \u2705 Eliminates unwanted gap above horizontal filter bar\n- \u2705 Improves visual alignment with dashboard content\n- \u2705 Better overall page layout and spacing\n- \u2705 No impact on filter functionality\n\n## Files Changed\n- `superset-frontend/src/dashboard/components/nativeFilters/FilterBar/Horizontal.tsx`\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)",
  "Requirement ID: ISSUE-35127\nTitle: refactor: remove unnecessary themedConfirm wrapper function\nState: closed\nAuthor: eschutho\nLabels: size/XS, change:frontend, frontend:refactor, packages\nBody:\n## Summary\n- Removed unnecessary `themedConfirm` wrapper function in Modal component\n- Replaced with direct reference to `AntdModal.confirm` for clarity\n- Eliminates pointless abstraction layer that provided no value\n\n## Problem\nThe `themedConfirm` function was a pass-through wrapper that added no functionality:\n```typescript\nconst themedConfirm = (props: Parameters<typeof AntdModal.confirm>[0]) =>\n  AntdModal.confirm(props);\n```\n\nIssues with this approach:\n- \u274c Claims to be \"theme-aware\" but provides no theming logic\n- \u274c Simply calls `AntdModal.confirm(props)` with identical props  \n- \u274c Adds unnecessary abstraction without benefits\n- \u274c Misleading comment suggests functionality that doesn't exist\n\n## Solution\nReplaced the wrapper with direct reference:\n```typescript\n// Before\nconfirm: themedConfirm,\n\n// After  \nconfirm: AntdModal.confirm,\n```\n\n## Why This Is Safe\n- **Theming is automatic**: Ant Design modals inherit theming through the App wrapper in SupersetThemeProvider\n- **No behavior change**: The function was a pure pass-through\n- **Same API**: All existing `Modal.confirm()` calls continue to work identically\n- **Better clarity**: More honest about what's actually happening\n\n## Analysis\nThis appears to be:\n- **Legacy code** from an older theming implementation, or\n- **Prepared infrastructure** that was never actually utilized, or  \n- **Future-proofing** that turned out to be unnecessary\n\n## Testing\n\u2705 No functional changes - pure refactor\n\u2705 All existing Modal.confirm() usage continues to work\n\u2705 Theming still works through SupersetThemeProvider's App wrapper\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)",
  "Requirement ID: ISSUE-35126\nTitle: fix(tests): update SuperChartCore test to handle Ant Design App wrapper\nState: closed\nAuthor: eschutho\nLabels: size/XS, change:frontend, packages\nBody:\n## Summary\n- Fixed failing test in `SuperChartCore.test.tsx` that was expecting empty DOM when `chartProps=null`\n- Updated test expectations to account for Ant Design App wrapper that's always present due to SupersetThemeProvider\n\n## Problem\nThe test `does not render if chartProps is null` was failing because:\n- The `SupersetThemeProvider` wraps all content with an Ant Design `App` component\n- This creates a `<div class=\"ant-app\">` element that makes the container never truly empty\n- The test was using `expect(container).toBeEmptyDOMElement()` which was impossible to satisfy\n\n## Solution\nUpdated the test to:\n- Check that no chart component (`.test-component`) is rendered when `chartProps=null`\n- Verify that only the Ant Design App wrapper (`.ant-app`) is present\n- This is more accurate as it tests the actual intended behavior\n\n## Test Results\n\u2705 All SuperChartCore tests now pass (14/14)\n\u2705 Specific failing test now passes\n\u2705 No other tests were broken\n\n## Technical Details\n- **Root cause**: SupersetThemeProvider always renders `<App>{children}</App>` \n- **File**: `packages/superset-ui-core/src/theme/Theme.tsx:246`\n- **Previous expectation**: Container should be completely empty\n- **New expectation**: Container should have App wrapper but no chart content\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)",
  "Requirement ID: ISSUE-35125\nTitle: fix(theming): small improvements\nState: closed\nAuthor: eschutho\nLabels: size/M, change:frontend, preset-io, packages, \ud83c\udfaa 76c5b40 \ud83d\udcc5 2025-09-13T01-25, \ud83c\udfaa 76c5b40 \u231b 24h, \ud83c\udfaa 76c5b40 \ud83e\udd21 eschutho, \ud83c\udfaa 76c5b40 \ud83d\udea6 running, \ud83c\udfaa 76c5b40 \ud83c\udf10 18.236.95.86:8080\nBody:\n## SUMMARY\r\nFixes four UI bugs in Superset dashboards and theming:\r\n\r\n1. **Filter Bar Gap** - Removes visual gap at top of horizontal filter bar superset-frontend/src/dashboard/components/nativeFilters/FilterBar/Horizontal.tsx\r\n2. **Loading Screen Theming** - Fixes white flash in dark mode and removes \"Loading...\" text superset/templates/superset/spa.html\r\n3. **Filter Value Sorting** - Fixes broken metric-based sorting (e.g., sort by MAU) superset-frontend/src/filters/components/Select/SelectFilterPlugin.tsx\r\n4. **Modal Theming** - Makes confirmation dialogs respect current light/dark theme 9617b8b39208812f098bc8b1ec1ca86e0a04e140\r\n\r\n## BEFORE/AFTER SCREENSHOTS OR ANIMATED GIFS\r\n**Before:**\r\n- Gap at top of horizontal filter bar when scrolling\r\n- White flash in dark mode during page loading\r\n- \"Loading...\" text in Times New Roman before spinner appears\r\n- Filter values sorted alphabetically instead of by specified metric (MAU, etc.)\r\n- System theme confirmation dialogs always in light mode\r\n\r\n**After:**  \r\n- No gap in filter bar\r\n- Proper dark/light background from page load\r\n- No loading text, only themed spinner\r\n- Filter values correctly sorted by backend metrics when specified\r\n- Confirmation dialogs respect current theme mode\r\n\r\n## TESTING INSTRUCTIONS\r\n\r\n### Filter Bar Gap\r\n1. Create dashboard with horizontal filter bar\r\n2. Scroll dashboard and observe no gap at top of filter bar\r\n\r\n### Loading Screen\r\n1. Switch to dark mode in Superset settings\r\n2. Refresh page and observe:\r\n   - No white flash during loading\r\n   - No \"Loading...\" text appears\r\n3. Test in light mode to ensure no regressions\r\n\r\n### Filter Sorting\r\n1. Create a filter with type = \"Value\"\r\n2. In filter configuration, enable \"Sort filter values\"\r\n3. Set \"Sort Metric\" to a numerical metric (e.g., MAU)\r\n4. Set sort direction (ascending/descending)\r\n5. Save filter and verify values are sorted by metric, not alphabetically\r\n\r\n### Modal Theming\r\n1. Go to Themes page\r\n2. Switch to dark mode\r\n3. Click sun/moon icon to set theme as system default\r\n4. Verify confirmation dialog appears in dark mode\r\n\r\n## ADDITIONAL INFORMATION\r\n\r\n### Technical Changes\r\n- **Filter Bar**: Removed 12px top padding from `HorizontalBar` component\r\n- **Loading Screen**: Added `colorBgBase` theme token to spa.html body, removed fallback text\r\n- **Filter Sorting**: Modified `sortComparator` to preserve backend order when `sortMetric` is specified\r\n- **Modal Theming**: Enhanced `Modal.confirm` to inject theme-aware CSS dynamically\r\n\r\n### Backwards Compatibility\r\n- All changes maintain existing functionality\r\n- Only affects specific bugs, no breaking changes\r\n- Filter sorting preserves alphabetical sorting when no metric specified\r\n- Modal theming only affects confirmation dialogs, not regular modals\r\n\r\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)\r\n\r\nCo-Authored-By: Claude <noreply@anthropic.com>",
  "Requirement ID: ISSUE-35124\nTitle: fix: Remove emotion-rgba from dependencies and codebase\nState: closed\nAuthor: eschutho\nLabels: size/S, preset-io, dependencies:npm, v6.0, \ud83c\udfaa 15937c2 \ud83d\udcc5 2025-09-12T23-20, \ud83c\udfaa 15937c2 \u231b 24h, \ud83c\udfaa 15937c2 \ud83e\udd21 eschutho, \ud83c\udfaa 15937c2 \ud83d\udea6 running, \ud83c\udfaa 15937c2 \ud83c\udf10 35.167.95.18:8080\nBody:\n### SUMMARY\r\nRemoved emotion-rgba package from dependencies as it is no longer maintained. The package does not support 8-digit hex colors (with alpha channel), which are increasingly used in modern web development for transparency. The package was not being utilized anywhere in the codebase but was still being bundled, unnecessarily increasing bundle size.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\nsetting up a theme with an 8 digit value: \r\n<img width=\"1470\" height=\"824\" alt=\"Screenshot 2025-09-12 at 7 55 52\u202fPM\" src=\"https://github.com/user-attachments/assets/612a5ab9-6f5d-41ea-a141-b2763698b40a\" />\r\n\r\nDashboard with filter (no errors)\r\n<img width=\"1470\" height=\"824\" alt=\"Screenshot 2025-09-12 at 7 56 33\u202fPM\" src=\"https://github.com/user-attachments/assets/8290bef3-07a0-4817-a414-017a2b9a334b\" />\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\nSet up a theme with an 8 digit hex color. \r\n\r\n### ADDITIONAL INFORMATION\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35123\nTitle: fix(charts): fix legend theming and hollow symbols in dark mode\nState: closed\nAuthor: gabotorresruiz\nLabels: size/M, change:frontend, plugins, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nThis PR addresses theming issues with `ECharts` line chart legends in dark mode:\r\n\r\n1. **Legend pagination styling**: Applied correct theme colors to pagination numbers and navigation icons, ensuring proper visibility in both light and dark modes.\r\n2. **Hollow symbol fix**: Fixed an issue where hollow circle symbols in line chart legends appeared with white fills in dark mode, making them look out of place.\r\n\r\n### BEFORE/AFTER SCREENSHOTS\r\n<!--- Skip this if not applicable -->\r\nBefore:\r\n<img width=\"795\" height=\"58\" alt=\"Screenshot 2025-09-12 at 14 12 13\" src=\"https://github.com/user-attachments/assets/e5c737e2-f625-4f40-b18c-7d4dcf8864ff\" />\r\n\r\n------------------------------\r\n\r\nAfter:\r\n<img width=\"892\" height=\"317\" alt=\"Screenshot 2025-09-12 at 14 54 59\" src=\"https://github.com/user-attachments/assets/f3213e8b-8a1e-4c67-9d35-5e7e9dad886c\" />\r\n<img width=\"889\" height=\"320\" alt=\"Screenshot 2025-09-12 at 14 54 43\" src=\"https://github.com/user-attachments/assets/f094b7ec-8823-4973-8044-c4d82f2f280e\" />\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n1. Create or open a Line Chart in Superset\r\n2. Ensure the chart has multiple series to see the legend\r\n3. Toggle between light and dark themes\r\n4. Verify:\r\n   - Legend text and pagination numbers are visible in both themes\r\n   - Legend symbols appear as hollow circles in light mode\r\n   - Legend symbols appear as filled circles in dark mode (no white centers)\r\n   - If legend has pagination, verify page numbers and navigation icons are properly themed\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35122\nTitle: fix: Cosmetic issues\nState: closed\nAuthor: geido\nLabels: size/XXL, change:frontend, dashboard:editmode, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n- Refactor drill by menu items to use the same patterns as other menu items, following latest Ant Design recommendations.\r\n- Fix: Drill to Detail By options are all \u201chighlighted\u201d.\r\n- Fix: In Dashboard Edit Mode - Chart Title Field Overlaps Trash Icon.\r\n- Fix: Dark Mode - Highlighting chart when hovering on filter is not properly visible\r\n- Fix: Collapse/expand caret is not centered to the tabs text\r\n\r\n### BEFORE\r\n<img width=\"405\" height=\"123\" alt=\"Screenshot 2025-08-07 at 10 15 32\u202fAM\" src=\"https://github.com/user-attachments/assets/882b9483-afa4-40aa-81d3-2c2ad9676381\" />\r\n<img width=\"875\" height=\"138\" alt=\"image\" src=\"https://github.com/user-attachments/assets/61e96dc8-7565-413a-a2f8-a0043adb5a9e\" />\r\n<img width=\"1621\" height=\"777\" alt=\"Screenshot 2025-08-07 at 10 21 27\u202fAM\" src=\"https://github.com/user-attachments/assets/3edbfc27-a278-40be-8c35-730aa08b160e\" />\r\n<img width=\"1101\" height=\"495\" alt=\"image (1)\" src=\"https://github.com/user-attachments/assets/9d799ae7-be71-43b1-b2a4-e67b7ae18b53\" />\r\n\r\n\r\n### AFTER\r\n<img width=\"746\" height=\"115\" alt=\"Screenshot 2025-09-19 at 18 55 44\" src=\"https://github.com/user-attachments/assets/15554055-1784-4b5b-b096-a0f6ada2ffa5\" />\r\n\r\n<img width=\"791\" height=\"297\" alt=\"Screenshot 2025-09-19 at 18 56 32\" src=\"https://github.com/user-attachments/assets/8750334d-9a86-4174-9d12-e7e98294d504\" />\r\n\r\n\r\n<img width=\"1019\" height=\"364\" alt=\"Screenshot 2025-09-19 at 18 54 00\" src=\"https://github.com/user-attachments/assets/dede6d05-500f-45bf-b5f5-75a24932748a\" />\r\n\r\n<img width=\"1027\" height=\"495\" alt=\"Screenshot 2025-09-19 at 18 54 09\" src=\"https://github.com/user-attachments/assets/66384d00-4275-4798-82b6-52e3f0f4321f\" />\r\n\r\n<img width=\"2016\" height=\"923\" alt=\"Screenshot 2025-09-19 at 18 55 11\" src=\"https://github.com/user-attachments/assets/f02f39c8-9e16-42cc-8420-bc88178e1824\" />\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35121\nTitle: Mcp service amin dev flask mcp\nState: closed\nAuthor: aminghadersohi\nLabels: size/XXL, doc, dependencies:npm\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35120\nTitle: Pie Chart Labels Adaptive Formatting - formats big numbers as percentage\nState: closed\nAuthor: steele-boolkin-naked\nLabels: viz:charts:pie\nBody:\n### Bug description\n\n<img width=\"409\" height=\"293\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/7f469de8-e63b-4265-afe0-117b7afa2042\" />\n\nIf you create a pie chart with metric being count, it formats the count adaptively, incorrectly as a percentage.\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [ ] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [ ] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35119\nTitle: refactor: Organizes the src/core folder\nState: closed\nAuthor: michael-s-molina\nLabels: size/XXL, dependencies:npm, packages\nBody:\n### SUMMARY\r\nOrganized the `src/core` folder by splitting monolithic files into logical modules and applied DRY principles to eliminate code duplication, reducing repetitive patterns with shared helper functions and leveraging inheritance more effectively through constructor parameter reordering and spread operators.\r\n\r\n  \ud83e\udd16 Generated with https://claude.ai/code\r\n\r\n  Co-Authored-By: Claude noreply@anthropic.com\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35118\nTitle: fix(sqllab): Fix CSV export button href in SQL Lab when application root is defined\nState: open\nAuthor: martyngigg\nLabels: sqllab, size/M, change:frontend, v6.0\nBody:\n### SUMMARY\r\n\r\nIncludes the application root in the href of the \"Download to CSV\" button on the SQL Lab page, if one is defined.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n\r\nBefore:\r\n\r\n<img width=\"1898\" height=\"901\" alt=\"Superset-master-sqllab-download-to-csv-broken\" src=\"https://github.com/user-attachments/assets/ec5a3480-1652-4462-b58f-88e495c4b324\" />\r\n\r\nAfter:\r\n\r\n<img width=\"1898\" height=\"901\" alt=\"Superset-master-sqllab-download-to-csv-fixed\" src=\"https://github.com/user-attachments/assets/8eae0ad1-2322-43d0-acdb-42816520b405\" />\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\n\r\nAdd\r\n\r\n```sh\r\nSUPERSET_APP_ROOT=\"/workspace/example\"\r\n```\r\n\r\nto `docker/.env-local`.\r\n\r\n- Spin up the `docker-compose-light` setup\r\n- Go to the Sql Lab page and run a query from one of the datasets\r\n- Click the `Download to CSV` button\r\n- A new CSV should be downloaded. \r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35117\nTitle: chore: Support Flask 3.X and SQLAlchemy 2.X\nState: open\nAuthor: dpgaspar\nLabels: risk:db-migration, size/XXL, review:draft\nBody:\n## Summary\r\nThis PR upgrades Apache Superset to Flask 3.x and SQLAlchemy 2.x while maintaining backward compatibility with SQLAlchemy 1.4.54. This is a critical upgrade to keep Superset current with the Flask/SQLAlchemy ecosystem and enable future feature development.\r\n\r\n## Background: The Flask 3.x Dependency Challenge\r\n\r\nUpgrading to Flask 3.x presents a unique challenge due to interdependencies between Flask, Flask-SQLAlchemy, and SQLAlchemy versions:\r\n\r\n### The Dependency Matrix Problem:\r\n- **Flask 2.x** works with Flask-SQLAlchemy 2.x, which only supports SQLAlchemy 1.4.x\r\n- **Flask 3.x** requires Flask-SQLAlchemy 3.x, which only supports SQLAlchemy 2.x\r\n- **Flask-SQLAlchemy 2.x** does NOT support SQLAlchemy 2.x\r\n- **Flask-SQLAlchemy 3.x** does NOT support SQLAlchemy 1.4.x\r\n\r\nThis creates two mutually exclusive dependency chains:\r\n1. Flask 2.x \u2192 Flask-SQLAlchemy 2.x \u2192 SQLAlchemy 1.4.54\r\n2. Flask 3.x \u2192 Flask-SQLAlchemy 3.x \u2192 SQLAlchemy 2.x\r\n\r\n**This PR implements the complete upgrade to Flask 3.x + Flask-SQLAlchemy 3.x + SQLAlchemy 2.x**, ensuring all components work together properly.\r\n\r\n## SQLAlchemy 2.x Migration Patterns\r\n\r\nThis PR implements all necessary SQLAlchemy 2.x migration patterns while maintaining backward compatibility with 1.4.54:\r\n\r\n### 1. Engine Execution Pattern Migration\r\n- **Old Pattern:** `engine.execute(\"SQL\")`\r\n- **New Pattern:** \r\n  ```python\r\n  with engine.connect() as connection:\r\n      connection.execute(text(\"SQL\"))\r\n  ```\r\n- **Affected files:** 30+ files including tests, engine specs, utilities\r\n\r\n### 2. Inspector Bind Execution Pattern\r\n- **Old Pattern:** `inspector.bind.execute(\"SQL\")`\r\n- **New Pattern:**\r\n  ```python\r\n  with inspector.bind.connect() as connection:\r\n      connection.execute(text(\"SQL\"))\r\n  ```\r\n- **Affected engine specs:** Databricks, Presto, Doris, PostgreSQL, DuckDB, Snowflake\r\n\r\n### 3. SQL Text Wrapping\r\n- **Old Pattern:** `connection.execute(\"raw SQL string\")`\r\n- **New Pattern:** `connection.execute(text(\"raw SQL string\"))`\r\n- **Reason:** SQLAlchemy 2.x requires explicit text() wrapping for raw SQL strings\r\n\r\n### 4. Parameter Binding Format\r\n- **Old Pattern:** `execute(sql, (param1, param2))` (positional)\r\n- **New Pattern:** `execute(sql, {\"name1\": param1, \"name2\": param2})` (named)\r\n- **Example:** SQLite parameter binding in tests\r\n\r\n### 5. Connection String Rendering\r\n- **Old Pattern:** `str(conn)` for connection URLs\r\n- **New Pattern:** `conn.render_as_string(hide_password=False)`\r\n- **Reason:** SQLAlchemy 2.x masks passwords by default in string representations\r\n\r\n### 6. URL Constructor Changes\r\n- **Old Pattern:** `URL(drivername, **params)`\r\n- **New Pattern:** `URL.create(drivername, **params)`\r\n- **Affected specs:** DuckDB, Databend\r\n\r\n### 7. Case Expression Syntax\r\n- **Old Pattern:** `sa.case([(condition, value)], else_=default)`\r\n- **New Pattern:** `sa.case((condition, value), else_=default)`\r\n- **Note:** Changed from list to tuple for when conditions\r\n\r\n### 8. Select Expression Syntax\r\n- **Old Pattern:** `sa.select([column1, column2])`\r\n- **New Pattern:** `sa.select(column1, column2)`\r\n- **Note:** Removed list wrapper for select columns\r\n\r\n### 9. Table Autoload Parameter\r\n- **Old Pattern:** `Table(name, metadata, autoload=True, autoload_with=engine)`\r\n- **New Pattern:** `Table(name, metadata, autoload_with=engine)`\r\n- **Note:** `autoload=True` is now implicit when `autoload_with` is provided\r\n\r\n### 10. Subtransactions Removal\r\n- **Old Pattern:** `db.session.begin(subtransactions=True)`\r\n- **New Pattern:** `db.session.begin()`\r\n- **Note:** Subtransactions are deprecated in SQLAlchemy 2.x\r\n\r\n### 11. Custom Type Literal Processing\r\n- Added `literal_processor` methods to custom SQLAlchemy types for proper literal rendering\r\n- **Affected:** Presto/Trino `Date` and `TimeStamp` custom types\r\n\r\n### 12. Objects must be explicitly added to the session\r\n- **Old Pattern:**\r\n``` python\r\n  table = SqlaTable(...)\r\n  column = TableColumn(table=table, ...)\r\n  db.session.commit()  # column was auto-added\r\n```\r\n- **New Pattern:**\r\n``` python\r\n  table = SqlaTable(...)\r\n  db.session.add(table)  # Must explicitly add\r\n  column = TableColumn(table=table, ...)\r\n  db.session.add(column)  # Must explicitly add\r\n  db.session.commit()\r\n```\r\n\r\n\r\n## Testing Improvements\r\n\r\n### Context Manager Mocking\r\n- Updated test mocks to properly handle SQLAlchemy 2.x context manager patterns\r\n- Changed from `Mock()` to `MagicMock()` for proper `__enter__`/`__exit__` support\r\n\r\n### URL String Assertions\r\n- Updated tests to use `url.render_as_string(hide_password=False)` instead of `str(url)`\r\n- Ensures password visibility in test assertions\r\n\r\n## Files Modified\r\n\r\n**Core Changes:**\r\n- `superset/models/core.py` - Connection string handling\r\n- `superset/sql_lab.py` - Query execution patterns\r\n- `superset/utils/mock_data.py` - Test data generation\r\n- `superset/utils/core.py` - Utility functions\r\n- `superset/models/helpers.py` - Query helpers\r\n- `superset/extensions/metadb.py` - Metadata handling\r\n\r\n**Engine Specifications:**\r\n- Updated all database engine specs for SQLAlchemy 2.x patterns\r\n- Fixed URL building and parameter handling\r\n- Updated catalog/schema queries\r\n\r\n**Tests:**\r\n- Fixed 100+ test cases for SQLAlchemy 2.x compatibility\r\n- Updated mocking patterns for context managers\r\n- Fixed parameter binding in test queries\r\n\r\n## Backward Compatibility\r\n\r\nAll changes maintain full backward compatibility with SQLAlchemy 1.4.54. The patterns used (`with engine.connect()`, `text()`, etc.) are available in SQLAlchemy 1.4.x when using future mode, ensuring a smooth transition path.\r\n\r\n## Impact\r\n\r\nThis PR completes the upgrade to:\r\n- **Flask 3.x** - Latest Flask framework with improved performance and features\r\n- **Flask-SQLAlchemy 3.x** - Required for Flask 3.x compatibility\r\n- **SQLAlchemy 2.x** - Modern ORM with better type safety and performance\r\n\r\nBenefits:\r\n1. Keeps Superset current with the modern Python web stack\r\n2. Improves security with proper password masking\r\n3. Enables access to latest Flask and SQLAlchemy features\r\n4. Better type safety and clearer API patterns\r\n5. Performance improvements from SQLAlchemy 2.x optimizations\r\n\r\n## Testing\r\n\r\n- All existing tests pass with SQLAlchemy 2.x\r\n- No functional regressions identified\r\n- Performance characteristics remain unchanged or improved\r\n- Comprehensive test coverage for all migration patterns\r\n\r\n## Breaking Changes\r\n\r\nNone for end users. All changes are internal implementation details that maintain the same external API and behavior.",
  "Requirement ID: ISSUE-35116\nTitle: Physical dataset SQL compilation error in charts, due to incorrect quoting (Snowflake, Superset 6.0.0rc1)\nState: closed\nAuthor: donicek\nLabels: data:connect:snowflake, data:dataset\nBody:\n### Bug description\n\n**Observed:**\n\nWhen a **physical** dataset is created and subsequently used in a chart, the following error is raised when trying to render the chart:\n\n```\nSQL compilation error: Object '\"my_db.my_schema.my_table\"' does not exist or not authorized.\n```\n\n**Expected:**\n\nChart renders.\n\n**Notes:**\n\nConnection string, privileges and table/schema/database names are all set up correctly. Apparently, this is due to the table reference being incorrectly quoted as a single identifier in the generated query for a chart with a physical dataset:\n```sql\nSELECT\n  DATE_TRUNC('DAY', \"ROW_INSERTED_TIME\") AS \"ROW_INSERTED_TIME\",\n  COUNT(*) AS \"count\"\nFROM \"my_db.my_schema.my_table\"\nGROUP BY\n  DATE_TRUNC('DAY', \"ROW_INSERTED_TIME\")\nORDER BY\n  \"count\" DESC\nLIMIT 10000\n```\n\nIf I create a **virtual** dataset on that exact Snowflake table, with the exact same database connection, it works as expected (since SQL Lab allows me to specify the table reference w/o any quotes): the chart renders, and the generated query looks like this:\n```sql\nSELECT\n  DATE_TRUNC('DAY', \"ROW_INSERTED_TIME\") AS \"ROW_INSERTED_TIME\",\n  COUNT(*) AS \"count\"\nFROM (\n  SELECT\n    *\n  FROM my_db.my_schema.my_table\n) AS virtual_table\nGROUP BY\n  DATE_TRUNC('DAY', \"ROW_INSERTED_TIME\")\nORDER BY\n  \"count\" DESC\nLIMIT 10000\n```\n\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.11\n\n### Node version\n\nNot applicable\n\n### Browser\n\nChrome\n\n### Additional context\n\nsuperset 6.0.0rc1\nsnowflake-sqlalchemy==1.7.6, 1.7.7 (latest - tested with both versions, same results)\n\nThe only somewhat similar issue that I found, is https://github.com/apache/superset/issues/34996 (a different engine - Doris vs. this is on Snowflake - hinting that this might be a bug in Superset or one of its dependencies, that is not specific to a single engine spec). \n\nAlso, I have a report from a coworker who tried using an older version of Superset with Snowflake, and didn't observe any issues while using physical datasets - so assuming this may be a regression in 6.0.0.\n\n```\nWARNING:superset.connectors.sqla.models:Query SELECT DATE_TRUNC('DAY', \"ROW_INSERTED_TIME\") AS \"ROW_INSERTED_TIME\", COUNT(*) AS \"count\" \nFROM \"my_db.my_schema.my_table\" GROUP BY DATE_TRUNC('DAY', \"ROW_INSERTED_TIME\") ORDER BY \"count\" DESC\nLIMIT 10000 on schema my_schema failed\nTraceback (most recent call last): \nFile \"/app/superset/connectors/sqla/models.py\", line 1593, in query\ndf = self.database.get_df(\n^^^^^^^^^^^^^^^^^^^^^ \nFile \"/app/superset/models/core.py\", line 705, in get_df\nself.db_engine_spec.execute(cursor, sql_, self) \nFile \"/app/superset/db_engine_specs/base.py\", line 1853, in execute \nraise cls.get_dbapi_mapped_exception(ex) from ex \nFile \"/app/superset/db_engine_specs/base.py\", line 1849, in execute \ncursor.execute(query) \nFile \"/app/.venv/lib/python3.11/site-packages/snowflake/connector/cursor.py\", line 1134, in execute\nError.errorhandler_wrapper(self.connection, self, error_class, errvalue) \nFile \"/app/.venv/lib/python3.11/site-packages/snowflake/connector/errors.py\", line 286, in errorhandler_wrapper \nhanded_over = Error.hand_to_other_handler(\n ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ \nFile \"/app/.venv/lib/python3.11/site-packages/snowflake/connector/errors.py\", line 341, in hand_to_other_handler\ncursor.errorhandler(connection, cursor, error_class, error_value)\nFile \"/app/.venv/lib/python3.11/site-packages/snowflake/connector/errors.py\", line 217, in default_errorhandler\nraise error_class( \nsnowflake.connector.errors.ProgrammingError: 002003 (42S02): 01bf0031-0811-88a3-0002-21017995f1db: SQL compilation error: \nObject '\"my_db.my_schema.my_table\"' does not exist or not authorized.\n```\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35114\nTitle: fix(theming): Lighter text colors on dark mode\nState: closed\nAuthor: msyavuz\nLabels: size/XS, global:theming, packages, v6.0, \ud83c\udfaa 37c0479 \ud83d\udcc5 2025-09-12T12-23, \ud83c\udfaa 37c0479 \u231b 24h, \ud83c\udfaa 37c0479 \ud83e\udd21 msyavuz, \ud83c\udfaa 37c0479 \ud83d\udea6 running, \ud83c\udfaa 37c0479 \ud83c\udf10 52.38.158.129:8080\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nGrey texts in dark mode are hard to read. This pr uses lighter colors for texts where possible.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\nEmpty state before:\r\n\r\n<img width=\"259\" height=\"170\" alt=\"image\" src=\"https://github.com/user-attachments/assets/687dd474-73d7-4c01-83b0-5a730aaa4a82\" />\r\n\r\n\r\nEmpty state after:\r\n\r\n<img width=\"259\" height=\"170\" alt=\"image\" src=\"https://github.com/user-attachments/assets/15198b29-b889-437f-87b7-2c80c0bdf243\" />\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\nVisual testing of mentioned components\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [x] Has associated issue: Fixes #34825\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35112\nTitle: fix: deck.gl Arc and Scatter chart legend visibility issues\nState: closed\nAuthor: sadpandajoe\nLabels: size/XL, viz:charts:deck.gl, plugins, review:draft, \ud83c\udfaa 9ca73bb \ud83d\udcc5 2025-09-12T22-39, \ud83c\udfaa 9ca73bb \u231b 24h, \ud83c\udfaa 9ca73bb \ud83e\udd21 sadpandajoe, \ud83c\udfaa 9ca73bb \ud83d\udea6 running, \ud83c\udfaa 9ca73bb \ud83c\udf10 54.70.17.157:8080\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nFixes #34822 reported that deck.gl chart features \"disappeared\" in Superset 6.0.0, specifically:\r\n  - Legend visualization not appearing when expected\r\n  - Users unable to configure categorical legends for Arc/Scatter charts\r\n  - Charts migrated from 5.x showing empty data instead of legends\r\n\r\n **\ud83d\udd0d Root Cause Analysis**\r\n\r\nInvestigation revealed three distinct bugs introduced during the 6.0 color control system overhaul:\r\n\r\n1. addColor() default case bug: Returns empty array for undefined color_scheme_type, breaking migrated charts\r\n2. Dimension control visibility bug: Categorical dimension selector hidden when color scheme \u2260 categorical_palette\r\n3. Poor UX defaults: New charts default to \"Fixed color\" preventing legends from appearing\r\n\r\n**\u2705 Solution**\r\n\r\n  Bug #1 - Backward Compatibility Fix\r\n  - File: CategoricalDeckGLContainer.tsx:206-213\r\n  - Change: Handle undefined/null color_scheme_type as categorical_palette for backward compatibility\r\n  - Impact: Pre-6.0 migrated charts now work without user reconfiguration\r\n\r\n  Bug #2 - UI Control Enhancement\r\n  - File: utilities/Shared_DeckGL.tsx:490\r\n  - Change: Make categorical dimension control always visible (visibility: () => true)\r\n  - Impact: Users can configure categorical data regardless of color scheme selection\r\n\r\n  Bug #3 - Better Defaults\r\n  - File: layers/Arc/controlPanel.ts:101\r\n  - Change: Default new Arc charts to categorical_palette instead of fixed_color\r\n  - Impact: New charts show legends when appropriate without complex configuration\r\n\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n- 30 Unit Tests - Core function logic for getCategories() and addColor()\r\n- 11 Integration Tests - Complete legend workflows including positioning (tl/tr/bl/br)\r\n- Edge Case Coverage - undefined/null color_scheme_type, empty data, missing dimensions\r\n- Backward Compatibility Tests - Migration scenarios from 5.x\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35111\nTitle: feat: Add comprehensive dark mode support for chart thumbnails and examples\nState: closed\nAuthor: eschutho\nLabels: change:frontend, viz:charts:deck.gl, global:theming, plugins, packages, \ud83c\udfaa \ud83d\udd12 showtime-blocked, \ud83c\udfaa 687781c \ud83d\udcc5 2025-09-12T23-31, \ud83c\udfaa 687781c \u231b 24h, \ud83c\udfaa 687781c \ud83e\udd21 eschutho, \ud83c\udfaa 687781c \ud83d\udea6 running, \ud83c\udfaa 687781c \ud83c\udf10 44.248.139.38:8080\nBody:\n## SUMMARY\r\n\r\nThis PR adds comprehensive dark mode support for chart thumbnails and examples across 80+ chart types in Apache Superset. It also introduces keyboard navigation improvements for the chart gallery and fixes geographical contrast issues in deck.gl charts.\r\n\r\n## BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n\r\n### Dark Mode Chart Examples\r\n\r\n<img width=\"1084\" height=\"1113\" alt=\"Screenshot 2025-09-11 at 5 04 41\u202fPM\" src=\"https://github.com/user-attachments/assets/073f1b26-ff19-4f87-a170-add4d9ca178b\" />\r\n\r\n\r\n### Key Visual Improvements:\r\n1. **\ud83d\uddfa\ufe0f Geographical Context**: Water is clearly darker than land in all map-based charts\r\n2. **\ud83c\udfa8 Data Visibility**: All visualization elements remain bright and prominent  \r\n3. **\ud83d\udee3\ufe0f Street Details**: Map infrastructure visible for navigation context\r\n4. **\ud83c\udf19 Proper Theming**: Maintains dark aesthetics while ensuring readability\r\n\r\n### Chart Gallery Keyboard Navigation\r\n- **Before**: Tab navigation required pressing Enter to select charts\r\n- **After**: Charts auto-select when tabbed to, with clean focus styling\r\n\r\n## TEST PLAN\r\n\r\n1. **Chart Gallery Navigation**:\r\n   - Navigate to chart selection page (`/chart/add`)\r\n   - Use Tab key to move between chart thumbnails  \r\n   - Verify charts are auto-selected without pressing Enter\r\n   - Verify clean focus styling (no browser outline)\r\n\r\n2. **Dark Mode Assets**:\r\n   - Switch to dark theme in user preferences\r\n   - Browse through all chart types in gallery\r\n   - Verify all charts have appropriate dark mode thumbnails\r\n   - Check example images for proper contrast and visibility\r\n\r\n3. **Deck.gl Chart Contrast**:\r\n   - Create deck.gl visualizations (path, heatmap, multi-layers, etc.)\r\n   - Switch to dark mode\r\n   - Verify water areas are darker than land areas\r\n   - Confirm geographical features (streets, labels) are visible\r\n   - Ensure data visualizations remain prominent\r\n\r\n## ADDITIONAL INFORMATION\r\n\r\n### \ud83d\udcca Charts Enhanced (80+ Total):\r\n- **Legacy**: Calendar, Chord, Country Map, Horizon, Map Box, Paired T-Test, Parallel Coordinates, Partition, Rose, World Map\r\n- **Deck.gl**: Arc, Contour, Geojson, Grid, Heatmap, Hex, Path, Polygon, Scatter, Screengrid, Multi Layers  \r\n- **NVD3**: Bubble, Bullet, Compare, Time Pivot\r\n- **ECharts**: BigNumber, BoxPlot, Pie, Radar, Sankey, Sunburst, Timeseries (all variants), etc.\r\n- **Others**: AG Grid Table, Cartodiagram, Handlebars, Pivot Table, Table, Word Cloud, Time Table\r\n\r\n### \ud83d\udd27 Technical Implementation:\r\n- **Keyboard Navigation**: Added `onFocus` and `onKeyDown` handlers with auto-selection\r\n- **Geographical Hierarchy**: Water (darkest) \u2192 Urban \u2192 Land \u2192 Streets (lightest)\r\n- **Accessibility**: Improved contrast ratios and clean focus indicators\r\n- **Image Processing**: Smart color mapping for dark theme adaptation\r\n\r\n### \ud83d\udcc1 Files Modified:\r\n- **222 files** total (new assets + code updates)\r\n- Chart metadata updated with dark mode references\r\n- `VizTypeGallery.tsx` enhanced with keyboard navigation\r\n- CSS styling improvements (`outline: none` for clean focus)\r\n\r\n### \u267f Accessibility Improvements:\r\n- \u2705 Auto-selection on keyboard focus\r\n- \u2705 Enhanced color contrast ratios\r\n- \u2705 Geographical context preservation  \r\n- \u2705 Clean focus indicators\r\n\r\nThis comprehensive update ensures all Superset users have an excellent dark mode experience with full chart gallery support and improved usability.\r\n\r\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)",
  "Requirement ID: ISSUE-35110\nTitle: feat(playwright): Add Playwright CI Integration for Cypress Migration (SIP-178)\nState: closed\nAuthor: sadpandajoe\nLabels: size/XXL, change:frontend, doc, dependencies:npm, github_actions\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nPhase 1 Playwright Migration: Complete E2E Testing Infrastructure as outlined in [SIP-178](https://github.com/apache/superset/issues/34197)\r\n\r\n**Key Features**\r\n\r\n\ud83c\udfad Playwright Integration\r\n\r\n- Modern E2E Testing: Playwright replaces Cypress with better performance and debugging\r\n- Multiple Reporters: List (terminal), HTML (interactive), JSON (CI), GitHub Actions annotations\r\n- Rich Debugging: Screenshots, videos, traces captured automatically on failures\r\n- Interactive Development: UI mode for test development and debugging\r\n\r\n\ud83c\udfd7\ufe0f Clean Architecture\r\n\r\n- Page Object Models: Maintainable test structure with centralized selectors\r\n- Reusable Components: Form, Input, Button classes for consistent interactions\r\n- Utility Constants: Centralized URL management and shared test utilities\r\n- TypeScript Support: Fully typed test infrastructure\r\n\r\n\ud83d\udd27 Developer Experience\r\n\r\n  # Ready-to-use npm scripts\r\n  npm run playwright:test          # Run all tests\r\n  npm run playwright:ui            # Interactive UI mode  \r\n  npm run playwright:headed        # See browser during tests\r\n  npm run playwright:debug         # Step-through debugging\r\n  npm run playwright:report        # View HTML reports\r\n\r\n  \ud83d\ude80 CI/CD Integration\r\n\r\n- GitHub Actions Workflow: Comprehensive CI pipeline with parallel execution\r\n- App/Prefix Support: Tests both standard and /app/prefix configurations\r\n- Artifact Collection: Test results, screenshots, videos preserved on failures\r\n- Flask Server Management: Proper startup, health checks, and cleanup\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35108\nTitle: Dont include explore in superset for external emails\nState: closed\nAuthor: milbin\nLabels: i18n, i18n:spanish, i18n:italian, i18n:french, i18n:chinese, i18n:japanese, i18n:russian, i18n:korean, alert-reports, api, doc, plugins, dependencies:npm, github_actions, packages, i18n:dutch, i18n:slovak, i18n:ukrainian, i18n:portuguese, i18n:brazilian\nBody:\nWe want to be able to use superset to send CSV reports via email to third parties without requiring a code change. However if we are sending this externally we dont want to include the 'Explore In Superset' cta in the email",
  "Requirement ID: ISSUE-35107\nTitle: chore: add codeowners\nState: closed\nAuthor: eschutho\nLabels: size/S, preset-io\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nAdding more PMCs to the extensions code\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35106\nTitle: fix(DashboardEditor): CSS template selector UI in dashboard properties modal restored\nState: closed\nAuthor: rebenitez1802\nLabels: size/L, change:frontend, dashboard:properties, dependencies:npm, \ud83c\udfaa 4888a9e \ud83d\udcc5 2025-09-11T21-33, \ud83c\udfaa 4888a9e \u231b 24h, \ud83c\udfaa 4888a9e \ud83e\udd21 yousoph, \ud83c\udfaa 4888a9e \ud83d\udea6 running, \ud83c\udfaa 4888a9e \ud83c\udf10 52.25.63.9:8080\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n- CSS template selector Restored (removed on the modal refactor)\r\n- Refactored CSS template selection UI from dropdown/button to proper Select component\r\n- Enhanced user experience with improved labeling and warning system\r\n- Added comprehensive test coverage for the restored CSS template functionality\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n![CSSTemplateSelect](https://github.com/user-attachments/assets/dae412bb-44dd-4336-9f65-cc495a66f961)\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35105\nTitle: fix: SQL Lab tab events\nState: closed\nAuthor: michael-s-molina\nLabels: sqllab, size/M, v6.0\nBody:\n### SUMMARY\r\nThis adds a unique `immutableId` field to the `QueryEditor` type that persists throughout the tab's lifecycle, enabling reliable event filtering and tab identification for SQL Lab extensions while maintaining backward compatibility. Previously, SQL Lab tabs could only be identified by their mutable id field, which made it difficult for extensions to reliably track events and maintain stable references to specific editor instances across state changes and persistence operations.\r\n\r\nThe addition of `immutableId` for tabs might help improving the current logic that uses mutable `id` and `tabViewId` introduced in https://github.com/apache/superset/pull/34720 to reduce re-renders. I'll let @justinpark analyze the code and check if things can be improved in a follow-up PR.\r\n\r\n### TESTING INSTRUCTIONS\r\nCheck that the events are triggered for the correct tabs.\r\n\r\n### ADDITIONAL INFORMATION\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35100\nTitle: ### Inconsistent Text Color Theme Fallback <sub>![category Functionality](https://img.shields.io/badge/Functionality-0284c7)</sub>\nState: closed\nAuthor: ismaelricopalasios-maker\nLabels: \nBody:\n### Inconsistent Text Color Theme Fallback <sub>![category Functionality](https://img.shields.io/badge/Functionality-0284c7)</sub>\r\n\r\n<details>\r\n  <summary>Tell me more</summary>\r\n\r\n###### What is the issue?\r\nThe colorTextSecondary fallback to colorText may result in inconsistent text color behavior when themes are changed.\r\n\r\n\r\n###### Why this matters\r\nIf colorTextSecondary is undefined in some themes but defined in others, the text color will switch between two different color variables, potentially causing unexpected visual changes.\r\n\r\n###### Suggested change \u2219 *Feature Preview*\r\nUse only one theme color variable to ensure consistent behavior across themes:\r\n```typescript\r\ncolor: ${theme.colorText};\r\n```\r\n\r\n\r\n###### Provide feedback to improve future suggestions\r\n[![Nice Catch](https://img.shields.io/badge/\ud83d\udc4d%20Nice%20Catch-71BC78)](https://app.korbit.ai/feedback/aa91ff46-6083-4491-9416-b83dd1994b51/1b42eaa5-3d9c-416f-bbba-918d78905560/upvote) [![Incorrect](https://img.shields.io/badge/\ud83d\udc4e%20Incorrect-white)](https://app.korbit.ai/feedback/aa91ff46-6083-4491-9416-b83dd1994b51/1b42eaa5-3d9c-416f-bbba-918d78905560?what_not_true=true)  [![Not in Scope](https://img.shields.io/badge/\ud83d\udc4e%20Out%20of%20PR%20scope-white)](https://app.korbit.ai/feedback/aa91ff46-6083-4491-9416-b83dd1994b51/1b42eaa5-3d9c-416f-bbba-918d78905560?what_out_of_scope=true) [![Not in coding standard](https://img.shields.io/badge/\ud83d\udc4e%20Not%20in%20our%20standards-white)](https://app.korbit.ai/feedback/aa91ff46-6083-4491-9416-b83dd1994b51/1b42eaa5-3d9c-416f-bbba-918d78905560?what_not_in_standard=true) [![Other](https://img.shields.io/badge/\ud83d\udc4e%20Other-white)](https://app.korbit.ai/feedback/aa91ff46-6083-4491-9416-b83dd1994b51/1b42eaa5-3d9c-416f-bbba-918d78905560)\r\n</details>\r\n\r\n<sub>\r\n\r\n\ud83d\udcac Looking for more details? Reply to this comment to chat with Korbit.\r\n</sub>\r\n\r\n<!--- korbi internal id:5985586c-c923-4a33-aa1a-b00072d49bce -->\r\n\r\n\r\n[](5985586c-c923-4a33-aa1a-b00072d49bce)\r\n\r\n_Originally posted by @korbit-ai[bot] in https://github.com/apache/superset/pull/35096#discussion_r2337718805_",
  "Requirement ID: ISSUE-35098\nTitle: fix: add subdirectory deployment support for app icon and reports urls\nState: open\nAuthor: eschutho\nLabels: change:backend, size/L, preset-io\nBody:\n## Summary\n\nThis PR fixes subdirectory deployments in Apache Superset by addressing two key issues:\n\n### 1. App Icon Subdirectory Support  \n- Fixes `APP_ICON` path to include subdirectory prefix when `APPLICATION_ROOT` is not \"/\"\n- Automatically prefixes `/static/` paths with the configured subdirectory\n- Preserves custom icon paths that don't start with `/static/`\n\n### 2. Alert/Report Screenshot URL Generation\n- Fixes alert and report screenshot generation in subdirectory deployments\n- Ensures URLs generated by Celery tasks include the proper subdirectory prefix\n- Prevents screenshot failures when Superset is deployed in subdirectories\n\n## Problem\n\nWhen Superset is deployed in a subdirectory (e.g., `https://example.com/superset/`), two features don't work correctly:\n\n1. **App icon** (`APP_ICON`) uses hardcoded `/static/` paths that don't work in subdirectory deployments\n2. **Alert/report screenshots** fail because URLs generated by Celery tasks don't include the subdirectory prefix\n\n## Solution\n\n### App Icon Fix\nAdded logic in `superset/app.py` that:\n- Automatically prefixes `APP_ICON` paths that start with `/static/`\n- Only applies the fix for subdirectory deployments (`app_root != \"/\"`)\n- Preserves custom icon paths\n\n**Example behavior:**\n- Default: `APP_ICON = \"/static/assets/images/logo.png\"` \u2192 unchanged\n- Subdirectory: `APP_ICON = \"/static/assets/images/logo.png\"` \u2192 `\"/superset/static/assets/images/logo.png\"`\n\n### Alert/Report Screenshot Fix\nEnhanced `get_url_path()` in `superset/utils/urls.py` to:\n- Include `APPLICATION_ROOT` prefix when generating URLs outside request context\n- Fix screenshot URL generation for both charts and dashboards in Celery tasks\n- Prevent double-prefixing edge cases\n\n**Example behavior:**\n- Default: Dashboard URL \u2192 `http://localhost:8088/dashboard/123/`\n- Subdirectory: Dashboard URL \u2192 `http://localhost:8088/superset/dashboard/123/`\n\n## Test Plan\n\n- [x] **App icon tests**: Verified path generation for various deployment configurations\n- [x] **Screenshot URL tests**: Verified URL generation includes subdirectory prefixes\n- [x] **Middleware tests**: Confirmed AppRootMiddleware functionality \n- [x] **Edge case tests**: Various subdirectory names, double-prefix prevention\n- [x] **Regression tests**: Default deployments remain unchanged\n- [x] **Pre-commit validation**: All linting, formatting, and type checking passes\n\n## Additional Context\n\n### Files Changed:\n- `superset/app.py` - App icon subdirectory fix\n- `superset/utils/urls.py` - Screenshot URL generation fix\n- `tests/integration_tests/test_subdirectory_deployments.py` - Comprehensive test coverage\n\n### Test Coverage:\n- App icon configuration for default and subdirectory deployments\n- URL generation for charts and dashboards in various deployment scenarios\n- AppRootMiddleware path handling and 404 responses\n- Environment variable handling and configuration precedence\n\nThis change follows existing patterns in Superset for subdirectory deployment support and ensures alerts, reports, and UI elements work correctly in all deployment scenarios.\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)",
  "Requirement ID: ISSUE-35097\nTitle: feat(BoxPlot): add chart data zoom\nState: closed\nAuthor: SBIN2010\nLabels: size/M, viz:charts:boxplot, plugins, \ud83c\udfaa 2dafca6 \ud83d\udcc5 2025-09-11T17-20, \ud83c\udfaa 2dafca6 \u231b 24h, \ud83c\udfaa 2dafca6 \ud83e\udd21 msyavuz, \ud83c\udfaa 2dafca6 \ud83d\udea6 running, \ud83c\udfaa 2dafca6 \ud83c\udf10 52.26.215.5:8080\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nThis Pr add dataZoom to BoxPlot chart type 'inside'\r\n\r\nidea #34600 implemented\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n<img width=\"2221\" height=\"1031\" alt=\"\u0421\u043d\u0438\u043c\u043e\u043a \u044d\u043a\u0440\u0430\u043d\u0430 \u043e\u0442 2025-09-10 23-18-36\" src=\"https://github.com/user-attachments/assets/b00dbf76-d2d4-4275-b092-e1dd46ee4626\" />\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\nadded check for presence of dataZoom settings in\r\nsuperset-frontend/plugins/plugin-chart-echarts/test/BoxPlot/transformProps.test.ts\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35096\nTitle: fix(settingsMenu): Version \nState: closed\nAuthor: rebenitez1802\nLabels: size/M, change:frontend, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nFixes version number display issue in the right menu's About section. The version information (version string, SHA, and build number) was not displaying properly due to Ant Design menu item height constraints and styling conflicts.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n<img width=\"293\" height=\"823\" alt=\"Captura de pantalla 2025-09-10 a la(s) 4 21 48\u202fp m\" src=\"https://github.com/user-attachments/assets/03a2cda3-74a2-4028-9eac-9f3c96c9e882\" />\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35095\nTitle: fix: page size options 'all' correct in table and remove PAGE_SIZE_OPTIONS in handlebars\nState: closed\nAuthor: SBIN2010\nLabels: size/S, plugins, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\nThis PR fix page size options 'all' in table \r\nafter delete superset-frontend/plugins/plugin-chart-table/src/i18n.ts in #34299\r\n\r\nAlso removes PAGE_SIZE_OPTIONS in handlebars\r\nleft over \"SERVER PAGINATION\" in #34016\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\nBEFORE\r\n<img width=\"1080\" height=\"661\" alt=\"\u0421\u043d\u0438\u043c\u043e\u043a \u044d\u043a\u0440\u0430\u043d\u0430 \u043e\u0442 2025-09-10 14-53-50\" src=\"https://github.com/user-attachments/assets/f908d4f4-358d-4de3-a58e-507fd5f9c193\" />\r\n\r\nAFTER\r\n<img width=\"1080\" height=\"661\" alt=\"\u0421\u043d\u0438\u043c\u043e\u043a \u044d\u043a\u0440\u0430\u043d\u0430 \u043e\u0442 2025-09-10 21-33-27\" src=\"https://github.com/user-attachments/assets/8d901526-8af9-46a3-b90b-4ae78fd5d85a\" />\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35094\nTitle: fix(templates): Restores templates files accidentally removed \nState: closed\nAuthor: rebenitez1802\nLabels: size/M, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nRestores missing template files head_custom_extra.html and tail_js_custom_extra.html that were accidentally removed on this [PR](https://github.com/apache/superset/pull/31590)\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35092\nTitle: DO NOT MERGE - 6.0 ephemeral\nState: open\nAuthor: sadpandajoe\nLabels: risk:db-migration, api, doc, plugins, dependencies:npm, packages, review:draft, testenv-up\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nCreate an ephemeral to test out 6.0 release\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35091\nTitle: [SIP-183] DRAFT Adding process and automation workflows around SIPs\nState: open\nAuthor: rusackas\nLabels: sip\nBody:\n## [SIP-DRAFT] process and automation workflows around SIPs\n\n### Motivation\n\nAs AI proliferates, we're seeing more and more large features opened (and merged) quickly, without community input, or even awareness. While it's great that our project is moving quickly, we need to give people a _chance_ to weigh in before the project accepts a new pattern or maintenance burden.\n\nWe hereby propose a few additional processes to make this process more transparent and smooth. \n\n### Proposed Change\n\n#### Process Changes\n\n* Respect the `hold!:sip` label. During PR review, any Committer or PMC member can call out a single PR with this label, as a request for a SIP. This will block the PR from merging until sufficient consensus (lazy consensus or a SIP) can be reached on the mailing list. \n\n#### Automation enhancements\n\n* Detect Feature Flag additions/changes - all of these require multiple major version releases to complete their lifecycle, and add combinatoric complexity to testing/maintaining feature flag combinations. While the debate ensues about whether or not development-lifecycle feature flags remains to be settled, we propose that ALL feature flag changes should require consensus. This can be automated by checking the committed files and adding the `hold!:sip` label to a PR, and even adding a comment that a SIP is required accordingly. \n\n### New or Changed Public Interfaces\n\nDescribe any new additions to the model, views or `REST` endpoints. Describe any changes to existing visualizations, dashboards and React components. Describe changes that affect the Superset CLI and how Superset is deployed.\n\n### New dependencies\n\nNone, just some bot/CI work\n\n### Migration Plan and Compatibility\n\nNone\n\n### Rejected Alternatives\n\nWild west",
  "Requirement ID: ISSUE-35090\nTitle: fix(theming): replace error color with bolt icon for local themes\nState: closed\nAuthor: gabotorresruiz\nLabels: size/S, change:frontend, global:theming, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nImproved the visual clarity of the `theme` dropdown in the `navbar` by removing the confusing use of error color for local theme indicators. Instead, implemented a consistent icon color scheme with a bolt icon `(ThunderboltOutlined)` to indicate when a theme is set locally, matching the existing convention used in the `theme CRUD interface`.\r\n\r\nAlso added a helpful `tooltip` that displays `\"This theme is set locally\"` on hover for better user understanding.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\nBefore:\r\n<img width=\"347\" height=\"208\" alt=\"image (3)\" src=\"https://github.com/user-attachments/assets/896c88d1-f5db-44c2-aa6d-b2aa993a3fc6\" />\r\n\r\nAfter:\r\n<img width=\"233\" height=\"64\" alt=\"image\" src=\"https://github.com/user-attachments/assets/185abd2b-a7a4-4c26-9669-90f04efa4e4f\" />\r\n<img width=\"285\" height=\"286\" alt=\"image\" src=\"https://github.com/user-attachments/assets/89cd0a56-aeb5-412d-845b-40c75d8427ce\" />\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n1. Navigate to the theme settings and set a local theme\r\n2. Check the navbar theme dropdown - you should see a bolt icon instead of a colored icon\r\n3. Hover over the bolt icon - you should see the tooltip \"This theme is set locally\"\r\n4. Verify that all theme icons now use consistent colors (no error color)\r\n5. Clear the local theme settings and verify the bolt icon disappears\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35089\nTitle: Rename \"Subtotal\" to \"Subvalue\" in Pivot Tables\nState: open\nAuthor: noam-k\nLabels: viz:charts:pivot\nBody:\n## Description\n\nPivot Table offers the possibility to show aggregated values by group. For example, if I want to show total sum of sales, I can also show the subtotal sales per category, department etc. In this case a total sum is labeled \"Total (Sum)\", and the subtotals are labeled \"Subtotal\".\nThis can also be done with other aggregation functions, such as average. In this case the label for the line aggregating the entire table is \"Total (Average)\" and the label for a subgroup is \"Subtotal\".\nRequesting to rename this to \"Subvalue (Average)\" (with the aggregated function in brackets).",
  "Requirement ID: ISSUE-35088\nTitle: Unable to configure French locale (number formatting) with Helm chart\nState: closed\nAuthor: sofiankhalfi-kosmos\nLabels: i18n\nBody:\n### Bug description\n\nHi,\n\nI\u2019m using the Superset Helm chart version 0.14.2, and I\u2019m trying to configure Superset so that numbers are displayed with the French locale (e.g., spaces as thousand separators and commas as decimals).\n\nI\u2019ve tried adding configuration in superset_config.py (using BABEL_DEFAULT_LOCALE, DEFAULT_LOCALE, D3_FORMAT, NUMBER_FORMAT, etc.), but it doesn\u2019t seem to affect the frontend number formatting.\n\nI also noticed that the extraAppConfig value does not seem to exist or be supported in chart 0.14.2.\n\nQuestions:\n\nIs locale configuration (e.g., DEFAULT_LOCALE=fr-FR) supported in the Helm chart 0.14.2?\n\nIf not, from which chart version is this supported?\n\nWhat is the recommended way to enforce French number formatting when deploying with Helm?\n\n### Screenshots/recordings\n\n<img width=\"508\" height=\"459\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/35d6d255-6442-4a19-b9d4-7513cce6df89\" />\n\n<img width=\"417\" height=\"419\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/7f97d41c-e901-41e8-bb81-253868c01eea\" />\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [ ] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35087\nTitle: Unexpected error: TypeError: Do not know how to serialize a BigInt\nState: open\nAuthor: DriverK\nLabels: dashboard:native-filters, dashboard:error\nBody:\n### Bug description\n\n\n1 Go to Dashboard\n2 Click on 'Add or edit filets'\n3 see error 'Unexpected error: TypeError: Do not know how to serialize a BigInt'\n4 In the end\uff0cI find out the reason\uff0cbecause I query a BigInt filed\u3002\n\n![Image](https://github.com/user-attachments/assets/6399b056-1d1c-4f7d-8f65-c603e934529e)\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [ ] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [ ] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35086\nTitle: fix(pie): fixes pie chart other click error\nState: closed\nAuthor: cbum-dev\nLabels: size/XS, viz:charts:pie, plugins, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\nFixes pie chart run time error on clicking the \"other\" group.\r\nFixes #35028 \r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nThe issue was caused by the event handler in eventHandlers.ts which did not account for the \"Other\" group not having a corresponding entry in the labelMap. This led to an attempt to access a property on an undefined value, resulting in a TypeError.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\nBefore:-\r\n<img width=\"1248\" height=\"760\" alt=\"Screenshot 2025-09-10 at 16 20 58\" src=\"https://github.com/user-attachments/assets/bc570c71-5865-4b80-9033-02d411f1a046\" />\r\nAfter:-\r\n<img width=\"1248\" height=\"760\" alt=\"Screenshot 2025-09-10 at 16 21 27\" src=\"https://github.com/user-attachments/assets/35d55804-46ee-4334-9e01-7417b709235a\" />\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\nCreate or open a dashboard with a Pie Chart, ensure an \"Other\" slice is generated (e.g., by lowering the Series Limit), then click both a regular slice and the \"Other\" slice.\r\nVerify that regular slices support cross-filtering as expected, while clicking \"Other\" does not crash the app and shows no drill-down options.\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [x] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35085\nTitle: Superset becomes unresponsive if a database is not responding\nState: closed\nAuthor: iercan\nLabels: data:connect:databricks\nBody:\n### Bug description\n\nThis issue is duplicate of #14053. I want to reopen it again since issue still persists in 4.1.3. It has become more frequent for us since we began pulling data from Databricks, which is a little bit slower than Druid and Trino\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\n4.1.3\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [ ] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [ ] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35083\nTitle: feat: add [Trigger now] functionality to Alerts & Reports with enhanced form validation UX\nState: open\nAuthor: mistercrunch\nLabels: size/XL, change:frontend, authentication:RBAC, alert-reports, preset-io, api\nBody:\n### \u26a1 Key Features\r\n- **Manual Execution**: One-click \"Trigger Now\" button (\u26a1) in CRUD list for immediate alert/report execution\r\n- **Professional UX**: Loading states, toast feedback, permission-aware display\r\n- **Error Handling**: Intelligent Celery backend detection with helpful setup guidance\r\n\r\n### \ud83c\udfa8 Form Enhancement Bonus\r\n- **Dynamic Asterisks**: Gray by default, red when validation fails across ALL Superset modals\r\n- **Modern Patterns**: Migrated AlertReportModal fields to ModalFormField standard\r\n- **Better Defaults**: 1600px screenshot width matching dashboard config\r\n\r\n### Technical Implementation\r\n- **Backend**: `/api/v1/report/{id}/execute` REST endpoint with proper RBAC\r\n- **Frontend**: Custom `useExecuteReportSchedule` hook with TypeScript integration\r\n- **Testing**: 5 comprehensive backend tests + frontend hook tests\r\n- **Quality**: All pre-commit hooks passing, TypeScript compliant\r\n\r\n### Impact\r\n- **13 files changed**: 803 insertions, 156 deletions\r\n- **Cross-Modal Enhancement**: Improved form validation UX affects Charts, Dashboards, Databases, and all modal forms\r\n- **Immediate User Value**: No more waiting for cron schedules to execute alerts/reports\r\n\r\n## Test Plan\r\n- [ ] Test \"Trigger Now\" button functionality in Alerts & Reports list\r\n- [ ] Verify loading states and error handling\r\n- [ ] Test dynamic asterisk coloring in various modal forms\r\n- [ ] Confirm proper permission gating\r\n- [ ] Validate Celery error messages for development setups\r\n\r\n---\r\n\r\nResolves common user pain points while establishing modern, consistent patterns for future development.",
  "Requirement ID: ISSUE-35082\nTitle: Fatal Error Occurs When Saving Dashboard \u2013 'Sorry, there was an error saving this dashboard\nState: open\nAuthor: arjitmalviya89\nLabels: validation:required, dashboard:error\nBody:\n### Bug description\n\n<img width=\"699\" height=\"97\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/6167cdd5-4e55-41a2-b4c2-de971afa5706\" />\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35081\nTitle: refactor: Enable G logging rules and comprehensive ruff improvements\nState: closed\nAuthor: mistercrunch\nLabels: risk:db-migration, size/XL, preset-io, api, logging\nBody:\n- Enable G-group logging rules (G001-G999) for better logging practices",
  "Requirement ID: ISSUE-35080\nTitle: UI Overlap and Inconsistent Chart Display in Dashboard Layout\nState: open\nAuthor: arjitmalviya89\nLabels: #bug:cosmetic, dashboard:design\nBody:\n### Bug description\n\n<img width=\"696\" height=\"314\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/eb53e269-db74-402e-9689-cda30d539d47\" />\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35079\nTitle: 4K Chart Metric Displays Truncated Value Without Units in Apache Superset\nState: open\nAuthor: arjitmalviya89\nLabels: \nBody:\n### Bug description\n\n<img width=\"480\" height=\"311\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/1dbcdd5e-3cc8-43c4-a9ef-6aa5c8ce1944\" />\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [ ] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [ ] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35077\nTitle: feat(sqllab extension): core query interface api\nState: closed\nAuthor: justinpark\nLabels: sqllab, size/XL, packages\nBody:\n### SUMMARY\r\nThis commit implements the following SQL Lab extension apis.\r\n\r\n- onDidQueryRun\r\n- onDidQueryStop\r\n- onDidQueryFail\r\n- onDidQuerySuccess\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\nThe event has been triggered during the query execution\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [x] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35076\nTitle: fix(Funnel): onInit overridden row_limit to default value on save chart\nState: closed\nAuthor: SBIN2010\nLabels: size/S, viz:charts:funnel, plugins, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\nThis PR fix  in Funnel chart overridden row_limit to default value on save chart\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nonInit does not make any changes other than setting the default row limit. \r\nThe same action is performed by 'row_limit' in ControlPanelConfig itself during initialization.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35075\nTitle: Staging\nState: closed\nAuthor: jbeals12\nLabels: size/XXL, infra, plugins, dependencies:npm, review:draft\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35074\nTitle: feat(playwright): Add Playwright CI Integration for Cypress Migration (SIP-178)\nState: closed\nAuthor: sadpandajoe\nLabels: size/XXL, doc, dependencies:npm, github_actions, review:draft\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\nThis PR implements Phase 1 and Phase 2 of the Cypress to Playwright migration outlined in  https://github.com/apache/superset/issues/SIP-178. It adds Playwright tests to GitHub Actions CI pipeline in shadow mode - running alongside existing Cypress tests without blocking PRs.\r\n\r\nPhase 1 completed: \u2705 Local Playwright setup with 2/2 auth tests passing (14.2s execution)\r\nPhase 2 goal: Having tests run in CI in parallel with Cypress\r\n\r\n**Changes Made**\r\n\r\n\ud83d\udd27 CI Infrastructure\r\n\r\n- New workflow: .github/workflows/superset-playwright.yml - Independent, non-required workflow\r\n- Shadow mode: continue-on-error: true allows validation without blocking PRs\r\n- Reuses infrastructure: Same PostgreSQL/Redis services and Flask setup as Cypress\r\n- Native parallelization: Uses Playwright's built-in workers (simpler than Python script)\r\n\r\n\u2699\ufe0f Build System Updates\r\n\r\n- bashlib functions: Added playwright-install() and playwright-run()\r\n- Environment config: playwright.config.ts now uses PLAYWRIGHT_BASE_URL for CI\r\n- Port coordination: Playwright uses port 8081 in CI (same as Cypress Flask server)\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n**Local validation:**\r\n>   cd superset-frontend\r\n>   npx playwright test  # 2/2 tests pass in 14.2s\r\n\r\n  **CI validation:**\r\n  - Push triggers new Playwright E2E Tests workflow\r\n  - Runs auth tests against same infrastructure as Cypress\r\n  - Collects artifacts on failure for debugging\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35073\nTitle: Guest JWT access - time_range API gives 403\nState: closed\nAuthor: d1manson\nLabels: authentication, api, embedded\nBody:\n### Bug description\n\nIf you embed a dashboard, and authenticate using a guest JWT token, the dashboard can be almost entirely ok, except for the time range filter, which shows an error and doesn't allow you to apply changes even if you ignore the error and make a selection. \n\n\nLooking at the network tab it seems the GET request to `api/v1/time_range/?q=%27Last+year%27` returns a 403, even though the response should contain totally boring data (as far as i understand).\n\n\n### Screenshots/recordings\n\n<img width=\"842\" height=\"541\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/d13ce4a1-cad3-43bb-9b5a-1b537dd38270\" />\n\n### Superset version\n\nv5\n\n### Checklist\n\n- [ ] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35072\nTitle: fix(timeshifts): Add missing feature flag to enum\nState: closed\nAuthor: msyavuz\nLabels: size/XS, change:frontend, packages, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nThe feature flag `DATE_RANGE_TIMESHIFTS_ENABLED` was added some time ago with the pr #34375 But the frontend enum was missing it. This pr remedies that.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\nCI pass should be enough\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35071\nTitle: fix: Change database event in core\nState: closed\nAuthor: michael-s-molina\nLabels: size/XS, change:frontend\nBody:\n### SUMMARY\r\nFix the `onDidChangeEditorDatabase` event to get the database ID from the action before trying to get it from the editor. \r\n\r\n### TESTING INSTRUCTIONS\r\nCI is sufficient.\r\n\r\n### ADDITIONAL INFORMATION\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35070\nTitle: chore(i18n): update French translations\nState: closed\nAuthor: lc-4918\nLabels: i18n, size/XXL, i18n:french\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\nThis PR updates the French translation file (messages.po) in Superset. It includes corrections, additions, and improvements to existing translations to ensure that the French UI is consistent and fully translated.\r\n\r\nNo functional changes are introduced; this is purely a localization update.\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\n\r\n1. Pull this branch and install any required dependencies for Superset.\r\n2. Start Superset in French locale:\r\n```bash\r\nexport SUPERSET_LANG=fr\r\nsuperset run\r\n```\r\n\r\n3. Verify UI displays translations correctly.\r\n\r\n4. Optionally, check .po syntax:\r\n\r\n```bash\r\npybabel compile -d superset/translations\r\n```\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [X] Changes UI: text only\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35068\nTitle: Schema cache timeout : Values supported (negative, positive, zero) ?\nState: open\nAuthor: xavier-GitHub76\nLabels: data:databases, validation:validated, \ud83e\uddbe ai-candidate\nBody:\n### Bug description\n\nMy test was done with Superset 5.0.0\n\nDatabase connection has advanced parameter, like Schema cache timeout.\nThe user can set values \u200b\u200b(negative, positive or zero) by typing directly in the text box or using the arrows to increment/decrement the value.\n\n-1 or 0 : \n<img width=\"493\" height=\"845\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/a67331f9-0791-44fc-9e5a-7e38a7ee4d83\" />\n\n<img width=\"520\" height=\"296\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/7c2ccd0d-d45b-456b-9374-e797e352a4b5\" />\n\nInappropriate values \u200b\u200bshould not be allowed\n\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [ ] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [ ] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35067\nTitle: feat(matrixify): replace single toggle with separate horizontal/vertical layout controls\nState: closed\nAuthor: mistercrunch\nLabels: size/XL, change:frontend, preset-io, packages, \ud83c\udfaa \ud83d\udd12 showtime-blocked, \ud83c\udfaa 16cfd53 \u231b 24h, \ud83c\udfaa 16cfd53 \ud83e\udd21 msyavuz, \ud83c\udfaa 16cfd53 \ud83d\udea6 running, \ud83c\udfaa 16cfd53 \ud83d\udcc5 2025-09-15T18-31, \ud83c\udfaa 16cfd53 \ud83c\udf10 44.249.152.151:8080\nBody:\nbuilding upon https://github.com/apache/superset/pull/34526, here I'm replacing the single \"Enable Matrixify\" checkbox with two separate controls for better clarity:\r\n\r\n- \"Enable vertical layout (rows)\" - for creating matrix rows\r\n- \"Enable horizontal layout (columns)\" - for creating matrix columns\r\n\r\nThis provides clearer user guidance about what each layout type does and allows independent control of row vs column matrix layouts.\r\n\r\nKey changes:\r\n- Split matrixify_enabled into matrixify_enable_vertical_layout and matrixify_enable_horizontal_layout\r\n- Updated all references across components to use new layout controls\r\n- Improved control panel organization with progressive disclosure\r\n- Enhanced visibility logic to show relevant controls based on layout selection\r\n- Added utility functions for checking layout states\r\n- Removed problematic validators that were blocking form rendering\r\n- Enabled MATRIXIFY feature flag for testing",
  "Requirement ID: ISSUE-35066\nTitle: chore: standardize webpack dev server host configuration and enable LAN access\nState: closed\nAuthor: mistercrunch\nLabels: size/S, change:frontend, preset-io, infra:container\nBody:\nStandardize webpack dev server host configuration and enable LAN access\r\n\r\n    - Adds configurable devserverHost parameter with CLI and env var support\r\n    - Supports WEBPACK_DEVSERVER_HOST and WEBPACK_DEVSERVER_PORT environment variables\r\n    - Maintains CLI argument precedence: --devserverHost > WEBPACK_DEVSERVER_HOST > 127.0.0.1\r\n    - Updates allowedHosts to support .local domains for LAN development\r\n    - Removes docker-compose localhost binding restriction for external access\r\n    - Follows 2025 framework standards: secure by default, easy opt-in for network access",
  "Requirement ID: ISSUE-35065\nTitle: chore(sqllab): remove unused json param\nState: closed\nAuthor: justinpark\nLabels: sqllab, size/XS\nBody:\n### SUMMARY\r\nRegarding the `json` field in the sqllab execute request, this value was defined [a long time ago](https://github.com/apache/superset/pull/514/files) and is always sent as a fixed value from the frontend. Additionally, after reviewing [the code](https://github.com/apache/superset/blob/da7f6efea897efeb54208a8bdb0dd80d72aa4bef/superset/sqllab/sqllab_execution_context.py#L74-L94), I could not find any place where this value is actually used.\r\nTherefore, I have determined that it is unnecessary and will be removing it.\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\nCI and specs\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35064\nTitle: fix(table): table search input placeholder\nState: closed\nAuthor: SBIN2010\nLabels: size/XS, viz:charts:table, plugins, v6.0\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\nThis pr fixes #35026 \r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nIn #34299  delete superset-frontend/plugins/plugin-chart-table/src/i18n.ts\r\nwhich contained within itself search.num_records\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\nBEFORE\r\n<img width=\"1175\" height=\"831\" alt=\"image\" src=\"https://github.com/user-attachments/assets/b51e0d00-25c3-4be6-8bf1-5c4c4a3ac28b\" />\r\n\r\nAFTER\r\n<img width=\"1175\" height=\"831\" alt=\"\u0421\u043d\u0438\u043c\u043e\u043a \u044d\u043a\u0440\u0430\u043d\u0430 \u043e\u0442 2025-09-09 00-40-34\" src=\"https://github.com/user-attachments/assets/4f54b7e2-79c7-42a7-8d58-0e8a0fcb952e\" />\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35063\nTitle: fix: Enable Playwright migration with graceful Selenium fallback \nState: closed\nAuthor: aminghadersohi\nLabels: size/XL\nBody:\nFixes \"name 'sync_playwright' is not defined\" error when PLAYWRIGHT_REPORTS_AND_THUMBNAILS feature flag is enabled without Playwright installed.\r\n\r\nChanges:\r\n- Add module-level PLAYWRIGHT_AVAILABLE check to prevent NameError\r\n- Implement graceful fallback to Selenium when Playwright unavailable\r\n- Add clear migration messages for WebGL/DeckGL support from Cypress\r\n- Make feature flag control preference rather than hard requirement\r\n- Add validate_webdriver_config() for migration status checking\r\n\r\nTesting:\r\n- Add 20+ unit tests covering all migration scenarios\r\n- Test graceful fallback, error handling, and configuration validation\r\n- Ensure no breaking changes to existing Selenium functionality\r\n\r\nThis unblocks the effort to migrate from Cypress to Playwright for proper WebGL/DuckGL chart screenshot support.\r\n\r\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35062\nTitle: feat(embedded): Change function signature of setupExtensions\nState: closed\nAuthor: msyavuz\nLabels: size/M\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nWe have a function called setupExtensions which is used for code overrides. This pr renames it to setupCodeOverrides and add options to enable it in embedded context. Other options can be added in the future to enable extensions for different contexts\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35061\nTitle: feat: add optional garbage collection after requests\nState: closed\nAuthor: mistercrunch\nLabels: change:backend, size/S\nBody:\n## Summary\nAdds a feature flag FORCE_GARBAGE_COLLECTION_AFTER_EVERY_REQUEST and corresponding Flask after_request hook to force garbage collection after each request when enabled.\n\nThis can help with memory accumulation issues in analytics workloads by ensuring Python's garbage collector runs more frequently.\n\n## Test plan\n- [ ] Feature flag defaults to False (disabled)\n- [ ] When enabled, gc.collect() is called after each request\n- [ ] No functional changes when feature flag is disabled\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)",
  "Requirement ID: ISSUE-35057\nTitle: fix(ListView): implement AntD pagination for ListView component\nState: closed\nAuthor: gabotorresruiz\nLabels: size/XXL, listview, dependencies:npm, packages, v6.0, \ud83c\udfaa 2d4ab24 \ud83d\udcc5 2025-09-08T18-07, \ud83c\udfaa 2d4ab24 \u231b 24h, \ud83c\udfaa 2d4ab24 \ud83e\udd21 msyavuz, \ud83c\udfaa 2d4ab24 \ud83d\udea6 running, \ud83c\udfaa 2d4ab24 \ud83c\udf10 34.210.171.49:8080\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\nMigrated the `ListView` component pagination from custom implementation to Ant Design's built-in pagination component.\r\n\r\n### BEFORE/AFTER SCREENSHOTS\r\n<!--- Skip this if not applicable -->\r\nBefore:\r\n<img width=\"3024\" height=\"3228\" alt=\"screencapture-localhost-9000-chart-list-2025-09-08-11_52_49\" src=\"https://github.com/user-attachments/assets/66b292d3-557e-4758-b35d-f7f8ad44fd4c\" />\r\n\r\nAfter:\r\n<img width=\"3024\" height=\"3216\" alt=\"screencapture-localhost-9000-chart-list-2025-09-08-11_52_02\" src=\"https://github.com/user-attachments/assets/065a8028-b044-411f-b2ff-58191b57d950\" />\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n1. Navigate to any ListView page (e.g., Dashboards, Charts, Datasets)\r\n2. Verify pagination controls appear at the bottom of the table\r\n3. Test page navigation by clicking page numbers\r\n4. Confirm the \"X-Y of Z\" count display shows correctly\r\n5. Verify that filtering and sorting work correctly with pagination\r\n6. Check that the pagination state persists in the URL query parameters\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [x] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35052\nTitle: Export to Excel Option Missing in Embedded Apache Superset Dashboard\nState: open\nAuthor: jeevallucas\nLabels: dashboard:export\nBody:\n### Bug description\n\nI have an Apache Superset dashboard version 5.0.0 that is already embedded in my website. In the Apache Superset application itself (when I am not accessing it through the website), the option to export a table to an Excel file is available. However, on the website where the dashboard is embedded, the option to export a table to an Excel file is not available.\n\n### Screenshots/recordings\n\n<img width=\"260\" height=\"164\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/54ee9ad5-4440-4692-a56c-f6cced584686\" />\n\n### Superset version\n\n5.0.0\n\n### Python version\n\nI don't know\n\n### Node version\n\nI don't know\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [ ] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35049\nTitle: <!-- Answer -->\nState: closed\nAuthor: SukiSeven\nLabels: viz:charts:table\nBody:\nThis was created by mistake, please ignore.",
  "Requirement ID: ISSUE-35047\nTitle: Cannot prohibit downloading and copying data in results.\nState: open\nAuthor: IMYR666\nLabels: validation:required, authentication:access-control, cares:preset\nBody:\n### Bug description\n\nThe bug is:\nAs long as there is permission to \"can get results on SQLLAB\", data in results can be downloaded and copied, even though the \"can export csv on SQLLab\" permission has been revoked.\n\n<img width=\"418\" height=\"574\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/fba7e150-0c76-44f3-971d-ffafee53886e\" />\n\n### Screenshots/recordings\n\n_No response_\n\n### Superset version\n\nmaster / latest-dev\n\n### Python version\n\n3.9\n\n### Node version\n\n16\n\n### Browser\n\nChrome\n\n### Additional context\n\n_No response_\n\n### Checklist\n\n- [x] I have searched Superset docs and Slack and didn't find a solution to my problem.\n- [x] I have searched the GitHub issue tracker and didn't find a similar bug report.\n- [x] I have checked Superset's logs for errors and if I found a relevant Python stacktrace, I included it here as text in the \"additional context\" section.",
  "Requirement ID: ISSUE-35046\nTitle: feat(mcp): Add core MCP service scaffolding - PR1\nState: closed\nAuthor: aminghadersohi\nLabels: size/XXL, review:draft\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\nfeat(mcp): Add core MCP service scaffolding\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nThis PR introduces the foundational structure for the Superset MCP (Model Context Protocol) service - the first of 8 planned PRs to integrate AI-powered interactions with Superset.\r\n\r\n**Rationale:**\r\n- Breaking the MCP service implementation into smaller, reviewable PRs (~15-20 files each) rather than a single 150+ file PR\r\n- This scaffolding establishes the architectural foundation without any implementation logic, ensuring zero risk to existing functionality\r\n- Enables parallel development of subsequent features while this PR is being reviewed\r\n\r\n**Design Decisions:**\r\n- **Modular Architecture**: 5 distinct modules (chart, dashboard, dataset, explore, system) for clear separation of concerns\r\n- **Schema-First Approach**: All Pydantic schemas defined upfront to establish clear contracts\r\n- **Pluggable Authentication**: Framework supports multiple auth providers (token, session, OAuth) with a NoAuth provider for development\r\n- **Zero Breaking Changes**: Service is completely isolated and can be imported without affecting existing Superset\r\n\r\n**What's Included (16 files):**\r\n- Core service structure (`__init__.py`, `__main__.py`, `config.py`)\r\n- Authentication framework with pluggable providers (`auth.py`)\r\n- Comprehensive Pydantic schemas for all 5 modules\r\n- Node.js launcher script for service execution (`bin/superset-mcp.js`)\r\n- Documentation (`README.md`)\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\nN/A - This PR adds backend scaffolding only, no UI changes.\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n1. **Verify the module imports without errors:**\r\n   ```bash\r\n   python -c \"import superset.mcp_service; print('\u2705 MCP service imports successfully')\"\r\n   ```\r\n   Expected output: `\u2705 MCP service imports successfully`\r\n\r\n2. **Test the main entry point:**\r\n   ```bash\r\n   python -m superset.mcp_service\r\n   ```\r\n   Expected output:\r\n   ```\r\n   Superset MCP Service - Scaffolding Version\r\n   This is the foundational structure for the MCP service.\r\n   Full implementation will be added in subsequent PRs.\r\n   ```\r\n\r\n3. **Verify no impact on existing Superset:**\r\n   ```bash\r\n   # Start Superset normally\r\n   superset run -p 8088 --with-threads --reload\r\n   # Navigate to http://localhost:8088\r\n   # Verify all existing functionality works as expected\r\n   ```\r\n\r\n4. **Run pre-commit checks:**\r\n   ```bash\r\n   pre-commit run --all-files\r\n   ```\r\n   All checks should pass (mypy, ruff, pylint)\r\n\r\n5. **Verify authentication framework:**\r\n   ```python\r\n   from superset.mcp_service.auth import get_auth_provider, authenticate_request\r\n   \r\n   # Should use NoAuthProvider by default (development mode)\r\n   provider = get_auth_provider()\r\n   context = authenticate_request()\r\n   print(f\"Auth provider: {provider.__class__.__name__}\")\r\n   print(f\"Is authenticated: {context.is_authenticated}\")\r\n   ```\r\n   Expected: NoAuthProvider, is_authenticated=True\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [x] Introduces new feature or API\r\n- [ ] Removes existing feature or API\r\n\r\n**Notes:**\r\n- This is **Part 1 of 8** in the MCP service implementation\r\n- **Next PR**: System & Dataset Tools (read-only operations)\r\n- **Branch Strategy**: Based on `feat/dao_updates` as requested\r\n- **Risk Level**: Zero - pure scaffolding with no active functionality\r\n- All files include proper Apache License headers\r\n- Full test coverage will be added in PR 7 (Comprehensive Tests)",
  "Requirement ID: ISSUE-35045\nTitle: feat: AI-powered TypeScript migration framework with parallel processing\nState: closed\nAuthor: mistercrunch\nLabels: size/XXL, change:frontend, preset-io, plugins, AI \ud83e\udd16\nBody:\n# \ud83e\udd16 AI-Powered TypeScript Migration Framework\r\n\r\nThis PR introduces a novel AI-powered framework for systematic JavaScript-to-TypeScript migration, with proof-of-concept results on 78 files.\r\n\r\n## \ud83c\udfaf Framework Overview\r\n\r\n### The Challenge\r\n- **219 JS/JSX files** need migration to TypeScript\r\n- Manual migration is time-consuming and error-prone\r\n- Coordination across multiple files is complex\r\n- Type compatibility issues require expert debugging\r\n\r\n### The Solution: `.claude/` Framework\r\nWe've introduced a structured approach using Claude Code agents with:\r\n- **Parallel processing** of multiple files simultaneously\r\n- **Atomic migration units** (core file + tests + mocks)\r\n- **Quality gates** ensuring zero `any` types and full compilation\r\n- **Systematic coordination** between agents and human oversight\r\n\r\n## \ud83d\udcc1 Framework Structure\r\n\r\n```\r\n.claude/\r\n\u251c\u2500\u2500 projects/js-to-ts/\r\n\u2502   \u251c\u2500\u2500 PROJECT.md          # Progress tracking & coordination\r\n\u2502   \u251c\u2500\u2500 AGENT.md           # Complete technical migration guide\r\n\u2502   \u2514\u2500\u2500 COORDINATOR.md     # File selection & task management\r\n\u2514\u2500\u2500 commands/js-to-ts.md   # Simple command interface\r\n```\r\n\r\n## \ud83d\ude80 Proof of Concept Results\r\n\r\n### Files Successfully Migrated (17/219 - 7.8%)\r\n\r\n**Phase 1: Foundation** (Single agent)\r\n- `roundDecimal.js` \u2192 TypeScript + tests\r\n- `timeGrainSqlaAnimationOverrides.js` \u2192 TypeScript + proper interfaces\r\n- `DebouncedMessageQueue.js` \u2192 TypeScript + comprehensive test suite\r\n\r\n**Phase 2: Parallel Processing** (5 agents simultaneously)\r\n- `dropOverflowsParent.js` (24 lines) \u2192 TypeScript + test suite\r\n- `datasourceUtils.js` (27 lines) \u2192 TypeScript + 8 test cases  \r\n- `getKeyForFilterScopeTree.js` (28 lines) \u2192 TypeScript + 6 test cases\r\n- `getLayoutComponentFromChartId.js` (30 lines) \u2192 TypeScript + 5 test cases\r\n- `childChartsDidLoad.js` (32 lines) \u2192 TypeScript + 10 test cases\r\n\r\n### Quality Metrics Achieved\r\n- \u2705 **Zero `any` types** across all 17 files\r\n- \u2705 **100% TypeScript compilation** success\r\n- \u2705 **Comprehensive test coverage** (40+ new test cases)\r\n- \u2705 **Git history preserved** via `git mv`\r\n- \u2705 **ESLint compliance** with auto-formatting\r\n- \u2705 **100% automatic integration** rate (no coordinator fixes needed)\r\n\r\n## \ud83c\udfd7\ufe0f Technical Approach\r\n\r\n### 1. Leaf-First Migration Strategy\r\n- Target files with **no JS/JSX dependencies** first\r\n- Start with **smallest files** for quick wins and pattern validation\r\n- Build confidence before tackling complex components\r\n\r\n### 2. Atomic Migration Units\r\nEach agent handles:\r\n- **Core file migration** (JS \u2192 TS with proper types)\r\n- **Test file creation/migration** (comprehensive coverage)\r\n- **Mock file handling** (if present)\r\n- **Type definition organization** (following DRY principles)\r\n\r\n### 3. Parallel Processing Innovation\r\n- **5x faster** than serial processing\r\n- **Independent validation** per agent using downstream impact analysis\r\n- **Conflict-free execution** through leaf-node targeting\r\n- **Real-time coordination** between agents and coordinator\r\n\r\n### 4. Advanced Type Debugging\r\nReal-world type compatibility challenges solved:\r\n- **Flexible interfaces** over rigid unions for legacy code compatibility\r\n- **DRY type principles** - reuse existing types vs. creating duplicates\r\n- **Downstream impact validation** - check calling sites for type mismatches\r\n- **Progressive type enhancement** - improve existing types during migration\r\n\r\n## \ud83d\udd27 Migration Process\r\n\r\n### Agent Workflow\r\n1. **Dependency Check**: Confirm file is leaf node (no JS imports)\r\n2. **Atomic Scope**: Find all related test/mock files\r\n3. **Type-Safe Migration**: Convert with proper TypeScript patterns\r\n4. **Comprehensive Testing**: Create/enhance test coverage\r\n5. **Validation**: TypeScript compilation + ESLint + downstream impact\r\n6. **Integration**: Report results for coordinator review\r\n\r\n### Quality Gates\r\n- **File-level TypeScript compilation** using project tsconfig\r\n- **Zero `any` types** policy strictly enforced\r\n- **Downstream impact analysis** - validate calling sites\r\n- **Test coverage** requirement for all migrated files\r\n- **Git history preservation** via `git mv`\r\n\r\n## \ud83d\udcca Innovation Highlights\r\n\r\n### PropTypes Auto-Generation\r\nDiscovered and implemented babel plugin pattern:\r\n```typescript\r\n// \u274c Before: 18+ lines of manual PropTypes duplication\r\nexport const adhocFilterTypePropTypes = PropTypes.oneOfType([...]);\r\n\r\n// \u2705 After: Auto-generated from TypeScript interfaces\r\nexport interface AdhocFilterType { /* ... */ }\r\nexport default function AdhocFilterValidator(props: { filter: AdhocFilterType }) {\r\n  return null; // PropTypes auto-generated by babel-plugin-typescript-to-proptypes\r\n}\r\n```\r\n\r\n### Real-World Type Debugging\r\nEvolved through three approaches:\r\n1. **Idealized types** (`Datasource | QueryEditor`) \u274c\r\n2. **Overly precise types** (exact calling signatures) \u274c  \r\n3. **Flexible interfaces** (capture actual function needs) \u2705\r\n\r\n## \ud83c\udfaf Next Steps\r\n\r\n### Immediate (Next 50 files)\r\n- Continue with remaining **small utility files** (<100 lines)\r\n- Target **test files** as they're often leaf nodes\r\n- Expand to **medium components** (100-500 lines)\r\n\r\n### Framework Expansion\r\n- **Enhanced validation** using proper tsc scripts from pre-commit\r\n- **Type debugging patterns** captured in AGENT.md\r\n- **File-by-file validation** to avoid parallel execution conflicts\r\n- **DRY type guidelines** to prevent interface proliferation\r\n\r\n### Long-term Vision\r\n- Complete **all 219 files** using this framework\r\n- **Pattern replication** for other large-scale refactors\r\n- **Knowledge transfer** - framework designed for team adoption\r\n- **CI integration** for automated validation\r\n\r\n## \ud83c\udfc6 Strategic Value\r\n\r\n### For This Migration\r\n- **Systematic approach** reduces human error\r\n- **Parallel processing** dramatically reduces timeline\r\n- **Quality assurance** through automated gates\r\n- **Knowledge capture** for future team members\r\n\r\n### For Future Refactors\r\n- **Reusable framework** for similar large-scale changes\r\n- **AI-human collaboration** model for complex technical tasks  \r\n- **Documentation patterns** for project coordination\r\n- **Quality benchmarks** for systematic refactoring\r\n\r\n## \ud83d\udcc8 Success Metrics\r\n\r\n- **Migration Rate**: 17 files completed with 100% success rate\r\n- **Quality**: Zero `any` types, full compilation, comprehensive tests\r\n- **Efficiency**: 5x faster than serial processing\r\n- **Maintainability**: Git history preserved, proper documentation\r\n- **Innovation**: Novel patterns discovered (PropTypes auto-generation)\r\n\r\n---\r\n\r\nThis framework represents a new approach to large-scale codebase refactoring, combining AI capabilities with systematic engineering practices. The `.claude/` directory serves as a temporary coordination center for this migration, establishing patterns for future long-term projects.",
  "Requirement ID: ISSUE-35044\nTitle: docs: fixed typo in sso docs, fixed code style in sso docs\nState: open\nAuthor: winterka\nLabels: size/S, doc\nBody:\n<!---\r\nPlease write the PR title following the conventions at https://www.conventionalcommits.org/en/v1.0.0/\r\nExample:\r\nfix(dashboard): load charts correctly\r\n-->\r\n\r\n### SUMMARY\r\nJust changed misleading part of SSO documentation (<myClientId>) and formatted example code in the same doc to PEP8\r\n\r\n\r\n### TESTING INSTRUCTIONS\r\nCheck docs diff :)",
  "Requirement ID: ISSUE-35043\nTitle: docs(typos): correct spelling mistakes\nState: closed\nAuthor: ganeshbabugb\nLabels: size/S, doc\nBody:\nSUMMARY\r\n\r\nCorrect typos and minor spelling errors in documentation for enhanced readability and consistency.\r\n\r\nBEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n\r\nN/A\r\n\r\nTESTING INSTRUCTIONS\r\n\r\nOpen the modified documentation files.\r\nVerify that typos are corrected and no content meaning has changed.",
  "Requirement ID: ISSUE-35042\nTitle: fix(utils): Suppress pandas date parsing warnings in normalize_dttm_col\nState: closed\nAuthor: aminghadersohi\nLabels: change:backend, size/L\nBody:\n<!---\r\nPR Title: fix(pandas): Suppress datetime parsing warnings and improve performance\r\n-->\r\n\r\n### SUMMARY\r\n<!--- Describe the change below, including rationale and design decisions -->\r\n\r\nThis PR fixes [high-volume pandas warnings](https://app.datadoghq.com/logs?query=host%3Ai-01acee99cfb6c0331%20service%3Asuperset%20container_id%3A801c8df696fc1dd6a494b3e0d1fbeff770b9666f1281d94cca86da79d2abe938%20filename%3A0.log&agg_m=count&agg_m_source=base&agg_t=count&clustering_pattern_field_path=message&cols=host%2Cservice&context_event=AZkawDgZAABNORqRCOXeYQAH&fromUser=true&refresh_mode=sliding&saved-view-id=864224&storage=hot&stream_sort=time%2Cdesc&to_event=AwAAAZkawCTFes6W0wAAABhBWmthd0RnWkFBQk5PUnFSQ09YZVlRQVIAAAAkMDE5OTFhYzMtMzcyMC00MDVkLTg4ODctYzcyY2UzNWUyMDdjAApRvw&viz=&from_ts=1757090124005&to_ts=1757090424006&live=false) ([graph](https://app.datadoghq.com/logs?query=status%3Aerror%20environment%3Aproduction%20service%3Asuperset%20%40component%3Aapp%20%22df%20_col.col_label%20pd.to_datetime%22&cols=host%2Cservice&fromUser=true&index=&messageDisplay=inline&refresh_mode=sliding&storage=hot&stream_sort=desc&viz=timeseries&from_ts=1756050769342&to_ts=1757346769342&live=true)) that appear in production logs when parsing datetime columns without explicit formats. The warning `\"Could not infer format, so each element will be parsed individually, falling back to dateutil\"` was flooding our monitoring systems (500k+ instances in 15 minutes) and masking other important issues.\r\n\r\n**Root Cause:**\r\nWhen `normalize_dttm_col()` processes datetime columns without an explicit format, pandas attempts format inference. When this fails (due to mixed formats or ambiguous data), it falls back to element-by-element parsing using dateutil, triggering a warning for each operation.\r\n\r\n**Solution:**\r\n1. **Format Detection**: Added `detect_datetime_format()` function that samples 100 rows to detect common date formats (ISO, US, EU, etc.)\r\n2. **Vectorized Parsing**: When format is detected, use it explicitly for ~5x faster vectorized parsing\r\n3. **Warning Suppression**: When formats are mixed/ambiguous, suppress the warning while maintaining functionality\r\n4. **Code Organization**: Moved `detect_datetime_format()` to new `superset/utils/pandas.py` module (per reviewer feedback about `core.py` being massive)\r\n5. **Code Refactoring**: Extracted logic into `_process_datetime_column()` helper to reduce complexity\r\n\r\n**Performance Impact:**\r\n- Consistent date formats: ~5x faster due to vectorized parsing\r\n- Mixed formats: Same speed but no warning spam\r\n- Detection overhead: Negligible (only samples 100 rows)\r\n\r\nThis approach aligns with pandas 2.0+ default behavior and industry best practices for datetime parsing at scale.\r\n\r\n### BEFORE/AFTER SCREENSHOTS OR ANIMATED GIF\r\n<!--- Skip this if not applicable -->\r\n\r\n**Before (Datadog logs):**\r\n```\r\nWARNING | superset.utils.core:1698 | UserWarning: Could not infer format, so each element will be parsed individually, falling back to `dateutil`. To ensure parsing is consistent and as-expected, please specify a format.\r\n[Repeated hundreds of times per hour]\r\n```\r\n\r\n**After:**\r\n```\r\n[No warnings - clean logs]\r\n```\r\n\r\n**Performance Comparison (10k rows):**\r\n```\r\nBefore: 4.9ms (element-by-element parsing)\r\nAfter:  0.9ms (vectorized parsing with format detection)\r\nSpeedup: 5.4x\r\n```\r\n\r\n### TESTING INSTRUCTIONS\r\n<!--- Required! What steps can be taken to manually verify the changes? -->\r\n\r\n1. **Run the comprehensive test suite:**\r\n   ```bash\r\n   pytest tests/unit_tests/utils/test_date_parsing.py -v\r\n   ```\r\n   This includes:\r\n   - Format detection tests\r\n   - Warning suppression verification\r\n   - Performance comparisons\r\n   - Edge case handling\r\n\r\n2. **Manual testing with sample data:**\r\n   ```python\r\n   import pandas as pd\r\n   from superset.utils.core import normalize_dttm_col, DateColumn\r\n   \r\n   # Test with consistent format (should be fast, no warnings)\r\n   df = pd.DataFrame({\r\n       \"date\": [\"2023-01-01\", \"2023-01-02\", \"2023-01-03\"]\r\n   })\r\n   normalize_dttm_col(df, (DateColumn(col_label=\"date\"),))\r\n   \r\n   # Test with mixed formats (should suppress warnings)\r\n   df = pd.DataFrame({\r\n       \"date\": [\"2023-01-01\", \"01/02/2023\", \"March 3, 2023\"]\r\n   })\r\n   normalize_dttm_col(df, (DateColumn(col_label=\"date\"),))\r\n   ```\r\n\r\n3. **Verify in a running Superset instance:**\r\n   - Create a chart with datetime columns\r\n   - Check logs for absence of \"Could not infer format\" warnings\r\n   - Verify dates are parsed correctly\r\n\r\n4. **Check existing functionality:**\r\n   - Epoch timestamps still work: `DateColumn(timestamp_format=\"epoch_s\")`\r\n   - Explicit formats still work: `DateColumn(timestamp_format=\"%Y-%m-%d\")`\r\n   - Timezone offsets still applied correctly\r\n\r\n### ADDITIONAL INFORMATION\r\n<!--- Check any relevant boxes with \"x\" -->\r\n<!--- HINT: Include \"Fixes #nnn\" if you are fixing an existing issue -->\r\n- [ ] Has associated issue:\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API\r\n\r\n**Notes:**\r\n- No breaking changes - all existing functionality preserved\r\n- Follows similar approach to pandas 2.0+ built-in behavior\r\n- Aligns with Superset's SIP-15A proposal for datetime format inference\r\n- All pre-commit hooks pass (mypy, ruff, pylint)",
  "Requirement ID: ISSUE-35041\nTitle: fix(playwright): allow screenshotting empty dashboards (#33107)\nState: closed\nAuthor: Gordonei\nLabels: size/XS\nBody:\n(cherry picked from commit 2233c02720f30e01198e2e8a1367902d29c59729)\r\n\r\n### SUMMARY\r\nThis small PR just back ports the change described in https://github.com/apache/superset/pull/33107 to `4.1` branch\r\n\r\n### TESTING INSTRUCTIONS\r\nWhen `4.1.x` worker with playwright enable screenshots an empty dashboard or a slice without a graph:\r\n\r\n```\r\n[2025-09-05 06:27:29,501: ERROR/ForkPoolWorker-6] Timed out requesting url https://<redacted>/superset/slice/3129/?standalone=true\r\nTraceback (most recent call last):\r\n  File \"/app/superset/utils/webdriver.py\", line 182, in get_screenshot\r\n    element.wait_for()\r\n  File \"/usr/local/lib/python3.10/site-packages/playwright/sync_api/_generated.py\", line 17975, in wait_for\r\n    self._sync(self._impl_obj.wait_for(timeout=timeout, state=state))\r\n  File \"/usr/local/lib/python3.10/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\r\n    return task.result()\r\n  File \"/usr/local/lib/python3.10/site-packages/playwright/_impl/_locator.py\", line 692, in wait_for\r\n    await self._frame.wait_for_selector(\r\n  File \"/usr/local/lib/python3.10/site-packages/playwright/_impl/_frame.py\", line 369, in wait_for_selector\r\n    await self._channel.send(\r\n  File \"/usr/local/lib/python3.10/site-packages/playwright/_impl/_connection.py\", line 69, in send\r\n    return await self._connection.wrap_api_call(\r\n  File \"/usr/local/lib/python3.10/site-packages/playwright/_impl/_connection.py\", line 558, in wrap_api_call\r\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\r\nplaywright._impl._errors.TimeoutError: Locator.wait_for: Timeout 120000ms exceeded.\r\nCall log:\r\n  - waiting for locator(\".chart-container\") to be visible\r\n```\r\n\r\n### ADDITIONAL INFORMATION\r\n- [X] Has associated issue: https://github.com/apache/superset/issues/33132\r\n- [ ] Required feature flags:\r\n- [ ] Changes UI\r\n- [ ] Includes DB Migration (follow approval process in [SIP-59](https://github.com/apache/superset/issues/13351))\r\n  - [ ] Migration is atomic, supports rollback & is backwards-compatible\r\n  - [ ] Confirm DB migration upgrade and downgrade tested\r\n  - [ ] Runtime estimates and downtime expectations provided\r\n- [ ] Introduces new feature or API\r\n- [ ] Removes existing feature or API",
  "Requirement ID: ISSUE-35039\nTitle: fix: critical pandas-related memory leak in chart data processing\nState: closed\nAuthor: mistercrunch\nLabels: change:backend, size/L, dashboard:performance\nBody:\n## Problem Analysis\r\nProduction Superset workers experiencing \"ratcheting\" memory pattern:\r\n- Memory growing from ~200MB \u2192 6GB over 3,000 requests\r\n- Forcing OOM kills and worker restarts every few hours\r\n- Traced to DataFrame accumulation in time offset processing and unbounded cache growth\r\n\r\n## Root Causes Identified\r\n1. **Primary Leak**: DataFrame accumulation in `processing_time_offsets()` method\r\n   - `offset_dfs` dictionary accumulated large DataFrames without cleanup\r\n   - No explicit garbage collection after processing\r\n\r\n2. **Cartesian Product Explosions**: Join operations with duplicate keys\r\n   - Example: 6K rows \u00d7 4.5K rows = 9M rows from duplicates\r\n   - Could cause 100-1000x memory growth in pathological cases\r\n\r\n3. **Unbounded Cache Growth**: QueryCacheManager storing large DataFrames\r\n   - No limits on cache size, could accumulate indefinitely\r\n   - Each cached DataFrame consuming 10-50MB in production\r\n\r\n## Solution Implementation\r\n\r\n### Primary Fix: Explicit Garbage Collection\r\n- Added `offset_dfs.clear()` and `gc.collect()` after time offset processing\r\n- Prevents DataFrame references from lingering in memory\r\n- Memory usage logging for monitoring effectiveness\r\n\r\n### Secondary Fix: Join Safety Validation\r\n- Added `_validate_join_keys_for_memory_safety()` method\r\n- Detects duplicate join keys that could cause cartesian product explosions\r\n- Fails fast with clear error messages instead of creating massive DataFrames\r\n\r\n### Tertiary Fix: Cache Size Management\r\n- Added configurable `QUERY_CACHE_MAX_MEMORY_MB` limit (default: 1024MB)\r\n- Implemented `_get_cache_memory_usage()` and `_evict_largest_cache_entries()` methods\r\n- Automatic eviction of largest cache entries when limits exceeded\r\n\r\n## Performance Impact\r\n- **90% Memory Reduction**: Testing shows ~54.5MB \u2192 ~5MB per request\r\n- **Cartesian Product Prevention**: Blocks dangerous join explosions before they occur\r\n- **Cache Bounds**: Prevents unbounded cache growth in long-running workers\r\n- **Minimal Overhead**: Garbage collection adds ~1-2ms per request\r\n\r\n## Configuration\r\n- `QUERY_CACHE_MAX_MEMORY_MB`: Configurable cache size limit in superset/config.py\r\n- Right-sizeable based on worker memory constraints\r\n- Default 1024MB suitable for 4-8GB workers\r\n\r\n## Test Coverage\r\nAdded comprehensive unit tests for all new methods:\r\n- Join validation with unique/duplicate keys scenarios\r\n- Garbage collection verification in time offset processing\r\n- Error message validation and edge case handling"
]